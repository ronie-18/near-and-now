(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function Eg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function M0(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var r=a.default;if(typeof r=="function"){var n=function i(){var l=!1;try{l=this instanceof i}catch{}return l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var l=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(n,i,l.get?l:{enumerable:!0,get:function(){return a[i]}})}),n}var Ac={exports:{}},pa={},Oc={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function Pg(){if(Tm)return ke;Tm=1;var a=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function j(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function C(T,L,M){this.props=T,this.context=L,this.refs=k,this.updater=M||b}C.prototype.isReactComponent={},C.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},C.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function A(){}A.prototype=C.prototype;function N(T,L,M){this.props=T,this.context=L,this.refs=k,this.updater=M||b}var S=N.prototype=new A;S.constructor=N,_(S,C.prototype),S.isPureReactComponent=!0;var F=Array.isArray,P=Object.prototype.hasOwnProperty,$={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(T,L,M){var G,Q={},oe=null,de=null;if(L!=null)for(G in L.ref!==void 0&&(de=L.ref),L.key!==void 0&&(oe=""+L.key),L)P.call(L,G)&&!D.hasOwnProperty(G)&&(Q[G]=L[G]);var je=arguments.length-2;if(je===1)Q.children=M;else if(1<je){for(var Pe=Array(je),He=0;He<je;He++)Pe[He]=arguments[He+2];Q.children=Pe}if(T&&T.defaultProps)for(G in je=T.defaultProps,je)Q[G]===void 0&&(Q[G]=je[G]);return{$$typeof:a,type:T,key:oe,ref:de,props:Q,_owner:$.current}}function H(T,L){return{$$typeof:a,type:T.type,key:L,ref:T.ref,props:T.props,_owner:T._owner}}function K(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function W(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(M){return L[M]})}var B=/\/+/g;function V(T,L){return typeof T=="object"&&T!==null&&T.key!=null?W(""+T.key):L.toString(36)}function J(T,L,M,G,Q){var oe=typeof T;(oe==="undefined"||oe==="boolean")&&(T=null);var de=!1;if(T===null)de=!0;else switch(oe){case"string":case"number":de=!0;break;case"object":switch(T.$$typeof){case a:case r:de=!0}}if(de)return de=T,Q=Q(de),T=G===""?"."+V(de,0):G,F(Q)?(M="",T!=null&&(M=T.replace(B,"$&/")+"/"),J(Q,L,M,"",function(He){return He})):Q!=null&&(K(Q)&&(Q=H(Q,M+(!Q.key||de&&de.key===Q.key?"":(""+Q.key).replace(B,"$&/")+"/")+T)),L.push(Q)),1;if(de=0,G=G===""?".":G+":",F(T))for(var je=0;je<T.length;je++){oe=T[je];var Pe=G+V(oe,je);de+=J(oe,L,M,Pe,Q)}else if(Pe=j(T),typeof Pe=="function")for(T=Pe.call(T),je=0;!(oe=T.next()).done;)oe=oe.value,Pe=G+V(oe,je++),de+=J(oe,L,M,Pe,Q);else if(oe==="object")throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return de}function ie(T,L,M){if(T==null)return T;var G=[],Q=0;return J(T,G,"","",function(oe){return L.call(M,oe,Q++)}),G}function ae(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(M){(T._status===0||T._status===-1)&&(T._status=1,T._result=M)},function(M){(T._status===0||T._status===-1)&&(T._status=2,T._result=M)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var ge={current:null},Z={transition:null},ue={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:Z,ReactCurrentOwner:$};function se(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:ie,forEach:function(T,L,M){ie(T,function(){L.apply(this,arguments)},M)},count:function(T){var L=0;return ie(T,function(){L++}),L},toArray:function(T){return ie(T,function(L){return L})||[]},only:function(T){if(!K(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ke.Component=C,ke.Fragment=n,ke.Profiler=l,ke.PureComponent=N,ke.StrictMode=i,ke.Suspense=f,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,ke.act=se,ke.cloneElement=function(T,L,M){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var G=_({},T.props),Q=T.key,oe=T.ref,de=T._owner;if(L!=null){if(L.ref!==void 0&&(oe=L.ref,de=$.current),L.key!==void 0&&(Q=""+L.key),T.type&&T.type.defaultProps)var je=T.type.defaultProps;for(Pe in L)P.call(L,Pe)&&!D.hasOwnProperty(Pe)&&(G[Pe]=L[Pe]===void 0&&je!==void 0?je[Pe]:L[Pe])}var Pe=arguments.length-2;if(Pe===1)G.children=M;else if(1<Pe){je=Array(Pe);for(var He=0;He<Pe;He++)je[He]=arguments[He+2];G.children=je}return{$$typeof:a,type:T.type,key:Q,ref:oe,props:G,_owner:de}},ke.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:c,_context:T},T.Consumer=T},ke.createElement=I,ke.createFactory=function(T){var L=I.bind(null,T);return L.type=T,L},ke.createRef=function(){return{current:null}},ke.forwardRef=function(T){return{$$typeof:h,render:T}},ke.isValidElement=K,ke.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:ae}},ke.memo=function(T,L){return{$$typeof:p,type:T,compare:L===void 0?null:L}},ke.startTransition=function(T){var L=Z.transition;Z.transition={};try{T()}finally{Z.transition=L}},ke.unstable_act=se,ke.useCallback=function(T,L){return ge.current.useCallback(T,L)},ke.useContext=function(T){return ge.current.useContext(T)},ke.useDebugValue=function(){},ke.useDeferredValue=function(T){return ge.current.useDeferredValue(T)},ke.useEffect=function(T,L){return ge.current.useEffect(T,L)},ke.useId=function(){return ge.current.useId()},ke.useImperativeHandle=function(T,L,M){return ge.current.useImperativeHandle(T,L,M)},ke.useInsertionEffect=function(T,L){return ge.current.useInsertionEffect(T,L)},ke.useLayoutEffect=function(T,L){return ge.current.useLayoutEffect(T,L)},ke.useMemo=function(T,L){return ge.current.useMemo(T,L)},ke.useReducer=function(T,L,M){return ge.current.useReducer(T,L,M)},ke.useRef=function(T){return ge.current.useRef(T)},ke.useState=function(T){return ge.current.useState(T)},ke.useSyncExternalStore=function(T,L,M){return ge.current.useSyncExternalStore(T,L,M)},ke.useTransition=function(){return ge.current.useTransition()},ke.version="18.3.1",ke}var Rm;function yd(){return Rm||(Rm=1,Oc.exports=Pg()),Oc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Ag(){if(Lm)return pa;Lm=1;var a=yd(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var g,y={},j=null,b=null;p!==void 0&&(j=""+p),f.key!==void 0&&(j=""+f.key),f.ref!==void 0&&(b=f.ref);for(g in f)i.call(f,g)&&!c.hasOwnProperty(g)&&(y[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:r,type:h,key:j,ref:b,props:y,_owner:l.current}}return pa.Fragment=n,pa.jsx=u,pa.jsxs=u,pa}var Im;function Og(){return Im||(Im=1,Ac.exports=Ag()),Ac.exports}var e=Og(),Xi={},Tc={exports:{}},_t={},Rc={exports:{}},Lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function Tg(){return $m||($m=1,(function(a){function r(Z,ue){var se=Z.length;Z.push(ue);e:for(;0<se;){var T=se-1>>>1,L=Z[T];if(0<l(L,ue))Z[T]=ue,Z[se]=L,se=T;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ue=Z[0],se=Z.pop();if(se!==ue){Z[0]=se;e:for(var T=0,L=Z.length,M=L>>>1;T<M;){var G=2*(T+1)-1,Q=Z[G],oe=G+1,de=Z[oe];if(0>l(Q,se))oe<L&&0>l(de,Q)?(Z[T]=de,Z[oe]=se,T=oe):(Z[T]=Q,Z[G]=se,T=G);else if(oe<L&&0>l(de,se))Z[T]=de,Z[oe]=se,T=oe;else break e}}return ue}function l(Z,ue){var se=Z.sortIndex-ue.sortIndex;return se!==0?se:Z.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();a.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,y=null,j=3,b=!1,_=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Z){for(var ue=n(p);ue!==null;){if(ue.callback===null)i(p);else if(ue.startTime<=Z)i(p),ue.sortIndex=ue.expirationTime,r(f,ue);else break;ue=n(p)}}function F(Z){if(k=!1,S(Z),!_)if(n(f)!==null)_=!0,ae(P);else{var ue=n(p);ue!==null&&ge(F,ue.startTime-Z)}}function P(Z,ue){_=!1,k&&(k=!1,A(I),I=-1),b=!0;var se=j;try{for(S(ue),y=n(f);y!==null&&(!(y.expirationTime>ue)||Z&&!W());){var T=y.callback;if(typeof T=="function"){y.callback=null,j=y.priorityLevel;var L=T(y.expirationTime<=ue);ue=a.unstable_now(),typeof L=="function"?y.callback=L:y===n(f)&&i(f),S(ue)}else i(f);y=n(f)}if(y!==null)var M=!0;else{var G=n(p);G!==null&&ge(F,G.startTime-ue),M=!1}return M}finally{y=null,j=se,b=!1}}var $=!1,D=null,I=-1,H=5,K=-1;function W(){return!(a.unstable_now()-K<H)}function B(){if(D!==null){var Z=a.unstable_now();K=Z;var ue=!0;try{ue=D(!0,Z)}finally{ue?V():($=!1,D=null)}}else $=!1}var V;if(typeof N=="function")V=function(){N(B)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ie=J.port2;J.port1.onmessage=B,V=function(){ie.postMessage(null)}}else V=function(){C(B,0)};function ae(Z){D=Z,$||($=!0,V())}function ge(Z,ue){I=C(function(){Z(a.unstable_now())},ue)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Z){Z.callback=null},a.unstable_continueExecution=function(){_||b||(_=!0,ae(P))},a.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Z?Math.floor(1e3/Z):5},a.unstable_getCurrentPriorityLevel=function(){return j},a.unstable_getFirstCallbackNode=function(){return n(f)},a.unstable_next=function(Z){switch(j){case 1:case 2:case 3:var ue=3;break;default:ue=j}var se=j;j=ue;try{return Z()}finally{j=se}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var se=j;j=Z;try{return ue()}finally{j=se}},a.unstable_scheduleCallback=function(Z,ue,se){var T=a.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?T+se:T):se=T,Z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=se+L,Z={id:g++,callback:ue,priorityLevel:Z,startTime:se,expirationTime:L,sortIndex:-1},se>T?(Z.sortIndex=se,r(p,Z),n(f)===null&&Z===n(p)&&(k?(A(I),I=-1):k=!0,ge(F,se-T))):(Z.sortIndex=L,r(f,Z),_||b||(_=!0,ae(P))),Z},a.unstable_shouldYield=W,a.unstable_wrapCallback=function(Z){var ue=j;return function(){var se=j;j=ue;try{return Z.apply(this,arguments)}finally{j=se}}}})(Lc)),Lc}var Dm;function Rg(){return Dm||(Dm=1,Rc.exports=Tg()),Rc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function Lg(){if(Mm)return _t;Mm=1;var a=yd(),r=Rg();function n(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function c(t,s){u(t,s),u(t+"Capture",s)}function u(t,s){for(l[t]=s,t=0;t<s.length;t++)i.add(s[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function j(t){return f.call(y,t)?!0:f.call(g,t)?!1:p.test(t)?y[t]=!0:(g[t]=!0,!1)}function b(t,s,o,d){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _(t,s,o,d){if(s===null||typeof s>"u"||b(t,s,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(t,s,o,d,m,x,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=t,this.type=s,this.sanitizeURL=x,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){C[t]=new k(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];C[s]=new k(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){C[t]=new k(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){C[t]=new k(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){C[t]=new k(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){C[t]=new k(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){C[t]=new k(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){C[t]=new k(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){C[t]=new k(t,5,!1,t.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function N(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(A,N);C[s]=new k(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(A,N);C[s]=new k(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(A,N);C[s]=new k(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){C[t]=new k(t,1,!1,t.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){C[t]=new k(t,1,!1,t.toLowerCase(),null,!0,!0)});function S(t,s,o,d){var m=C.hasOwnProperty(s)?C[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(_(s,o,m,d)&&(o=null),d||m===null?j(s)&&(o===null?t.removeAttribute(s):t.setAttribute(s,""+o)):m.mustUseProperty?t[m.propertyName]=o===null?m.type===3?!1:"":o:(s=m.attributeName,d=m.attributeNamespace,o===null?t.removeAttribute(s):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,d?t.setAttributeNS(d,s,o):t.setAttribute(s,o))))}var F=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),$=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),W=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,T;function L(t){if(T===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);T=s&&s[1]||""}return`
`+T+t}var M=!1;function G(t,s){if(!t||M)return"";M=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var d=q}Reflect.construct(t,[],s)}else{try{s.call()}catch(q){d=q}t.call(s.prototype)}else{try{throw Error()}catch(q){d=q}t()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var m=q.stack.split(`
`),x=d.stack.split(`
`),w=m.length-1,E=x.length-1;1<=w&&0<=E&&m[w]!==x[E];)E--;for(;1<=w&&0<=E;w--,E--)if(m[w]!==x[E]){if(w!==1||E!==1)do if(w--,E--,0>E||m[w]!==x[E]){var O=`
`+m[w].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=w&&0<=E);break}}}finally{M=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?L(t):""}function Q(t){switch(t.tag){case 5:return L(t.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return t=G(t.type,!1),t;case 11:return t=G(t.type.render,!1),t;case 1:return t=G(t.type,!0),t;default:return""}}function oe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case $:return"Portal";case H:return"Profiler";case I:return"StrictMode";case V:return"Suspense";case J:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W:return(t.displayName||"Context")+".Consumer";case K:return(t._context.displayName||"Context")+".Provider";case B:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ie:return s=t.displayName||null,s!==null?s:oe(t.type)||"Memo";case ae:s=t._payload,t=t._init;try{return oe(t(s))}catch{}}return null}function de(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pe(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function He(t){var s=Pe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),d=""+t[s];if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,x=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){d=""+w,x.call(this,w)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function nt(t){t._valueTracker||(t._valueTracker=He(t))}function at(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),d="";return t&&(d=Pe(t)?t.checked?"true":"false":t.value),t=d,t!==o?(s.setValue(t),!0):!1}function os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function An(t,s){var o=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function On(t,s){var o=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;o=je(s.value!=null?s.value:o),t._wrapperState={initialChecked:d,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ne(t,s){s=s.checked,s!=null&&S(t,"checked",s,!1)}function ye(t,s){ne(t,s);var o=je(s.value),d=s.type;if(o!=null)d==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(d==="submit"||d==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?it(t,s.type,o):s.hasOwnProperty("defaultValue")&&it(t,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Te(t,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,o||s===t.value||(t.value=s),t.defaultValue=s}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function it(t,s,o){(s!=="number"||os(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var $t=Array.isArray;function Ye(t,s,o,d){if(t=t.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<t.length;o++)m=s.hasOwnProperty("$"+t[o].value),t[o].selected!==m&&(t[o].selected=m),m&&d&&(t[o].defaultSelected=!0)}else{for(o=""+je(o),s=null,m=0;m<t.length;m++){if(t[m].value===o){t[m].selected=!0,d&&(t[m].defaultSelected=!0);return}s!==null||t[m].disabled||(s=t[m])}s!==null&&(s.selected=!0)}}function xr(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Or(t,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(n(92));if($t(o)){if(1<o.length)throw Error(n(93));o=o[0]}s=o}s==null&&(s=""),o=s}t._wrapperState={initialValue:je(o)}}function Rs(t,s){var o=je(s.value),d=je(s.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),s.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),d!=null&&(t.defaultValue=""+d)}function Ct(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function qa(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tn(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?qa(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ls,Wa=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,d,m){MSApp.execUnsafeLocalFunction(function(){return t(s,o,d,m)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Ls=Ls||document.createElement("div"),Ls.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ls.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function ls(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var Rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tx=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(t){Tx.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Rn[s]=Rn[t]})});function Gd(t,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||Rn.hasOwnProperty(t)&&Rn[t]?(""+s).trim():s+"px"}function Kd(t,s){t=t.style;for(var o in s)if(s.hasOwnProperty(o)){var d=o.indexOf("--")===0,m=Gd(o,s[o],d);o==="float"&&(o="cssFloat"),d?t.setProperty(o,m):t[o]=m}}var Rx=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bo(t,s){if(s){if(Rx[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function qo(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=null;function Ho(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vo=null,Is=null,$s=null;function Qd(t){if(t=ta(t)){if(typeof Vo!="function")throw Error(n(280));var s=t.stateNode;s&&(s=mi(s),Vo(t.stateNode,t.type,s))}}function Jd(t){Is?$s?$s.push(t):$s=[t]:Is=t}function Yd(){if(Is){var t=Is,s=$s;if($s=Is=null,Qd(t),s)for(t=0;t<s.length;t++)Qd(s[t])}}function Xd(t,s){return t(s)}function Zd(){}var Go=!1;function eu(t,s,o){if(Go)return t(s,o);Go=!0;try{return Xd(t,s,o)}finally{Go=!1,(Is!==null||$s!==null)&&(Zd(),Yd())}}function Ln(t,s){var o=t.stateNode;if(o===null)return null;var d=mi(o);if(d===null)return null;o=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(t=t.type,d=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!d;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var Ko=!1;if(h)try{var In={};Object.defineProperty(In,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{Ko=!1}function Lx(t,s,o,d,m,x,w,E,O){var q=Array.prototype.slice.call(arguments,3);try{s.apply(o,q)}catch(X){this.onError(X)}}var $n=!1,Ha=null,Va=!1,Qo=null,Ix={onError:function(t){$n=!0,Ha=t}};function $x(t,s,o,d,m,x,w,E,O){$n=!1,Ha=null,Lx.apply(Ix,arguments)}function Dx(t,s,o,d,m,x,w,E,O){if($x.apply(this,arguments),$n){if($n){var q=Ha;$n=!1,Ha=null}else throw Error(n(198));Va||(Va=!0,Qo=q)}}function cs(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function tu(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function ru(t){if(cs(t)!==t)throw Error(n(188))}function Mx(t){var s=t.alternate;if(!s){if(s=cs(t),s===null)throw Error(n(188));return s!==t?null:t}for(var o=t,d=s;;){var m=o.return;if(m===null)break;var x=m.alternate;if(x===null){if(d=m.return,d!==null){o=d;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===o)return ru(m),t;if(x===d)return ru(m),s;x=x.sibling}throw Error(n(188))}if(o.return!==d.return)o=m,d=x;else{for(var w=!1,E=m.child;E;){if(E===o){w=!0,o=m,d=x;break}if(E===d){w=!0,d=m,o=x;break}E=E.sibling}if(!w){for(E=x.child;E;){if(E===o){w=!0,o=x,d=m;break}if(E===d){w=!0,d=x,o=m;break}E=E.sibling}if(!w)throw Error(n(189))}}if(o.alternate!==d)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:s}function su(t){return t=Mx(t),t!==null?nu(t):null}function nu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=nu(t);if(s!==null)return s;t=t.sibling}return null}var au=r.unstable_scheduleCallback,iu=r.unstable_cancelCallback,zx=r.unstable_shouldYield,Ux=r.unstable_requestPaint,Ve=r.unstable_now,Fx=r.unstable_getCurrentPriorityLevel,Jo=r.unstable_ImmediatePriority,ou=r.unstable_UserBlockingPriority,Ga=r.unstable_NormalPriority,Bx=r.unstable_LowPriority,lu=r.unstable_IdlePriority,Ka=null,lr=null;function qx(t){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Ka,t,void 0,(t.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:Vx,Wx=Math.log,Hx=Math.LN2;function Vx(t){return t>>>=0,t===0?32:31-(Wx(t)/Hx|0)|0}var Qa=64,Ja=4194304;function Dn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ya(t,s){var o=t.pendingLanes;if(o===0)return 0;var d=0,m=t.suspendedLanes,x=t.pingedLanes,w=o&268435455;if(w!==0){var E=w&~m;E!==0?d=Dn(E):(x&=w,x!==0&&(d=Dn(x)))}else w=o&~m,w!==0?d=Dn(w):x!==0&&(d=Dn(x));if(d===0)return 0;if(s!==0&&s!==d&&(s&m)===0&&(m=d&-d,x=s&-s,m>=x||m===16&&(x&4194240)!==0))return s;if((d&4)!==0&&(d|=o&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=d;0<s;)o=31-Vt(s),m=1<<o,d|=t[o],s&=~m;return d}function Gx(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kx(t,s){for(var o=t.suspendedLanes,d=t.pingedLanes,m=t.expirationTimes,x=t.pendingLanes;0<x;){var w=31-Vt(x),E=1<<w,O=m[w];O===-1?((E&o)===0||(E&d)!==0)&&(m[w]=Gx(E,s)):O<=s&&(t.expiredLanes|=E),x&=~E}}function Yo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cu(){var t=Qa;return Qa<<=1,(Qa&4194240)===0&&(Qa=64),t}function Xo(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function Mn(t,s,o){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Vt(s),t[s]=o}function Qx(t,s){var o=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var d=t.eventTimes;for(t=t.expirationTimes;0<o;){var m=31-Vt(o),x=1<<m;s[m]=0,d[m]=-1,t[m]=-1,o&=~x}}function Zo(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var d=31-Vt(o),m=1<<d;m&s|t[d]&s&&(t[d]|=s),o&=~m}}var Oe=0;function du(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var uu,el,hu,mu,fu,tl=!1,Xa=[],Tr=null,Rr=null,Lr=null,zn=new Map,Un=new Map,Ir=[],Jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xu(t,s){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":zn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(s.pointerId)}}function Fn(t,s,o,d,m,x){return t===null||t.nativeEvent!==x?(t={blockedOn:s,domEventName:o,eventSystemFlags:d,nativeEvent:x,targetContainers:[m]},s!==null&&(s=ta(s),s!==null&&el(s)),t):(t.eventSystemFlags|=d,s=t.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),t)}function Yx(t,s,o,d,m){switch(s){case"focusin":return Tr=Fn(Tr,t,s,o,d,m),!0;case"dragenter":return Rr=Fn(Rr,t,s,o,d,m),!0;case"mouseover":return Lr=Fn(Lr,t,s,o,d,m),!0;case"pointerover":var x=m.pointerId;return zn.set(x,Fn(zn.get(x)||null,t,s,o,d,m)),!0;case"gotpointercapture":return x=m.pointerId,Un.set(x,Fn(Un.get(x)||null,t,s,o,d,m)),!0}return!1}function pu(t){var s=ds(t.target);if(s!==null){var o=cs(s);if(o!==null){if(s=o.tag,s===13){if(s=tu(o),s!==null){t.blockedOn=s,fu(t.priority,function(){hu(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Za(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=sl(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var d=new o.constructor(o.type,o);Wo=d,o.target.dispatchEvent(d),Wo=null}else return s=ta(o),s!==null&&el(s),t.blockedOn=o,!1;s.shift()}return!0}function gu(t,s,o){Za(t)&&o.delete(s)}function Xx(){tl=!1,Tr!==null&&Za(Tr)&&(Tr=null),Rr!==null&&Za(Rr)&&(Rr=null),Lr!==null&&Za(Lr)&&(Lr=null),zn.forEach(gu),Un.forEach(gu)}function Bn(t,s){t.blockedOn===s&&(t.blockedOn=null,tl||(tl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Xx)))}function qn(t){function s(m){return Bn(m,t)}if(0<Xa.length){Bn(Xa[0],t);for(var o=1;o<Xa.length;o++){var d=Xa[o];d.blockedOn===t&&(d.blockedOn=null)}}for(Tr!==null&&Bn(Tr,t),Rr!==null&&Bn(Rr,t),Lr!==null&&Bn(Lr,t),zn.forEach(s),Un.forEach(s),o=0;o<Ir.length;o++)d=Ir[o],d.blockedOn===t&&(d.blockedOn=null);for(;0<Ir.length&&(o=Ir[0],o.blockedOn===null);)pu(o),o.blockedOn===null&&Ir.shift()}var Ds=F.ReactCurrentBatchConfig,ei=!0;function Zx(t,s,o,d){var m=Oe,x=Ds.transition;Ds.transition=null;try{Oe=1,rl(t,s,o,d)}finally{Oe=m,Ds.transition=x}}function ep(t,s,o,d){var m=Oe,x=Ds.transition;Ds.transition=null;try{Oe=4,rl(t,s,o,d)}finally{Oe=m,Ds.transition=x}}function rl(t,s,o,d){if(ei){var m=sl(t,s,o,d);if(m===null)bl(t,s,d,ti,o),xu(t,d);else if(Yx(m,t,s,o,d))d.stopPropagation();else if(xu(t,d),s&4&&-1<Jx.indexOf(t)){for(;m!==null;){var x=ta(m);if(x!==null&&uu(x),x=sl(t,s,o,d),x===null&&bl(t,s,d,ti,o),x===m)break;m=x}m!==null&&d.stopPropagation()}else bl(t,s,d,null,o)}}var ti=null;function sl(t,s,o,d){if(ti=null,t=Ho(d),t=ds(t),t!==null)if(s=cs(t),s===null)t=null;else if(o=s.tag,o===13){if(t=tu(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return ti=t,null}function yu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fx()){case Jo:return 1;case ou:return 4;case Ga:case Bx:return 16;case lu:return 536870912;default:return 16}default:return 16}}var $r=null,nl=null,ri=null;function vu(){if(ri)return ri;var t,s=nl,o=s.length,d,m="value"in $r?$r.value:$r.textContent,x=m.length;for(t=0;t<o&&s[t]===m[t];t++);var w=o-t;for(d=1;d<=w&&s[o-d]===m[x-d];d++);return ri=m.slice(t,1<d?1-d:void 0)}function si(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ni(){return!0}function bu(){return!1}function Et(t){function s(o,d,m,x,w){this._reactName=o,this._targetInst=m,this.type=d,this.nativeEvent=x,this.target=w,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(o=t[E],this[E]=o?o(x):x[E]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ni:bu,this.isPropagationStopped=bu,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),s}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=Et(Ms),Wn=se({},Ms,{view:0,detail:0}),tp=Et(Wn),il,ol,Hn,ai=se({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(il=t.screenX-Hn.screenX,ol=t.screenY-Hn.screenY):ol=il=0,Hn=t),il)},movementY:function(t){return"movementY"in t?t.movementY:ol}}),wu=Et(ai),rp=se({},ai,{dataTransfer:0}),sp=Et(rp),np=se({},Wn,{relatedTarget:0}),ll=Et(np),ap=se({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),ip=Et(ap),op=se({},Ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lp=Et(op),cp=se({},Ms,{data:0}),ju=Et(cp),dp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mp(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=hp[t])?!!s[t]:!1}function cl(){return mp}var fp=se({},Wn,{key:function(t){if(t.key){var s=dp[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?up[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xp=Et(fp),pp=se({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nu=Et(pp),gp=se({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),yp=Et(gp),vp=se({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),bp=Et(vp),wp=se({},ai,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jp=Et(wp),Np=[9,13,27,32],dl=h&&"CompositionEvent"in window,Vn=null;h&&"documentMode"in document&&(Vn=document.documentMode);var _p=h&&"TextEvent"in window&&!Vn,_u=h&&(!dl||Vn&&8<Vn&&11>=Vn),ku=" ",Su=!1;function Cu(t,s){switch(t){case"keyup":return Np.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function kp(t,s){switch(t){case"compositionend":return Eu(s);case"keypress":return s.which!==32?null:(Su=!0,ku);case"textInput":return t=s.data,t===ku&&Su?null:t;default:return null}}function Sp(t,s){if(zs)return t==="compositionend"||!dl&&Cu(t,s)?(t=vu(),ri=nl=$r=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _u&&s.locale!=="ko"?null:s.data;default:return null}}var Cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Cp[t.type]:s==="textarea"}function Au(t,s,o,d){Jd(d),s=di(s,"onChange"),0<s.length&&(o=new al("onChange","change",null,o,d),t.push({event:o,listeners:s}))}var Gn=null,Kn=null;function Ep(t){Ku(t,0)}function ii(t){var s=Ws(t);if(at(s))return t}function Pp(t,s){if(t==="change")return s}var Ou=!1;if(h){var ul;if(h){var hl="oninput"in document;if(!hl){var Tu=document.createElement("div");Tu.setAttribute("oninput","return;"),hl=typeof Tu.oninput=="function"}ul=hl}else ul=!1;Ou=ul&&(!document.documentMode||9<document.documentMode)}function Ru(){Gn&&(Gn.detachEvent("onpropertychange",Lu),Kn=Gn=null)}function Lu(t){if(t.propertyName==="value"&&ii(Kn)){var s=[];Au(s,Kn,t,Ho(t)),eu(Ep,s)}}function Ap(t,s,o){t==="focusin"?(Ru(),Gn=s,Kn=o,Gn.attachEvent("onpropertychange",Lu)):t==="focusout"&&Ru()}function Op(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ii(Kn)}function Tp(t,s){if(t==="click")return ii(s)}function Rp(t,s){if(t==="input"||t==="change")return ii(s)}function Lp(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Gt=typeof Object.is=="function"?Object.is:Lp;function Qn(t,s){if(Gt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),d=Object.keys(s);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var m=o[d];if(!f.call(s,m)||!Gt(t[m],s[m]))return!1}return!0}function Iu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $u(t,s){var o=Iu(t);t=0;for(var d;o;){if(o.nodeType===3){if(d=t+o.textContent.length,t<=s&&d>=s)return{node:o,offset:s-t};t=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Iu(o)}}function Du(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Du(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Mu(){for(var t=window,s=os();s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)t=s.contentWindow;else break;s=os(t.document)}return s}function ml(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Ip(t){var s=Mu(),o=t.focusedElem,d=t.selectionRange;if(s!==o&&o&&o.ownerDocument&&Du(o.ownerDocument.documentElement,o)){if(d!==null&&ml(o)){if(s=d.start,t=d.end,t===void 0&&(t=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(t,o.value.length);else if(t=(s=o.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var m=o.textContent.length,x=Math.min(d.start,m);d=d.end===void 0?x:Math.min(d.end,m),!t.extend&&x>d&&(m=d,d=x,x=m),m=$u(o,x);var w=$u(o,d);m&&w&&(t.rangeCount!==1||t.anchorNode!==m.node||t.anchorOffset!==m.offset||t.focusNode!==w.node||t.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),t.removeAllRanges(),x>d?(t.addRange(s),t.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),t.addRange(s)))}}for(s=[],t=o;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)t=s[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $p=h&&"documentMode"in document&&11>=document.documentMode,Us=null,fl=null,Jn=null,xl=!1;function zu(t,s,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xl||Us==null||Us!==os(d)||(d=Us,"selectionStart"in d&&ml(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Jn&&Qn(Jn,d)||(Jn=d,d=di(fl,"onSelect"),0<d.length&&(s=new al("onSelect","select",null,s,o),t.push({event:s,listeners:d}),s.target=Us)))}function oi(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var Fs={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionend:oi("Transition","TransitionEnd")},pl={},Uu={};h&&(Uu=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function li(t){if(pl[t])return pl[t];if(!Fs[t])return t;var s=Fs[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in Uu)return pl[t]=s[o];return t}var Fu=li("animationend"),Bu=li("animationiteration"),qu=li("animationstart"),Wu=li("transitionend"),Hu=new Map,Vu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,s){Hu.set(t,s),c(s,[t])}for(var gl=0;gl<Vu.length;gl++){var yl=Vu[gl],Dp=yl.toLowerCase(),Mp=yl[0].toUpperCase()+yl.slice(1);Dr(Dp,"on"+Mp)}Dr(Fu,"onAnimationEnd"),Dr(Bu,"onAnimationIteration"),Dr(qu,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Wu,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yn));function Gu(t,s,o){var d=t.type||"unknown-event";t.currentTarget=o,Dx(d,s,void 0,t),t.currentTarget=null}function Ku(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var d=t[o],m=d.event;d=d.listeners;e:{var x=void 0;if(s)for(var w=d.length-1;0<=w;w--){var E=d[w],O=E.instance,q=E.currentTarget;if(E=E.listener,O!==x&&m.isPropagationStopped())break e;Gu(m,E,q),x=O}else for(w=0;w<d.length;w++){if(E=d[w],O=E.instance,q=E.currentTarget,E=E.listener,O!==x&&m.isPropagationStopped())break e;Gu(m,E,q),x=O}}}if(Va)throw t=Qo,Va=!1,Qo=null,t}function $e(t,s){var o=s[Sl];o===void 0&&(o=s[Sl]=new Set);var d=t+"__bubble";o.has(d)||(Qu(s,t,2,!1),o.add(d))}function vl(t,s,o){var d=0;s&&(d|=4),Qu(o,t,d,s)}var ci="_reactListening"+Math.random().toString(36).slice(2);function Xn(t){if(!t[ci]){t[ci]=!0,i.forEach(function(o){o!=="selectionchange"&&(zp.has(o)||vl(o,!1,t),vl(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ci]||(s[ci]=!0,vl("selectionchange",!1,s))}}function Qu(t,s,o,d){switch(yu(s)){case 1:var m=Zx;break;case 4:m=ep;break;default:m=rl}o=m.bind(null,s,o,t),m=void 0,!Ko||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?t.addEventListener(s,o,{capture:!0,passive:m}):t.addEventListener(s,o,!0):m!==void 0?t.addEventListener(s,o,{passive:m}):t.addEventListener(s,o,!1)}function bl(t,s,o,d,m){var x=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var E=d.stateNode.containerInfo;if(E===m||E.nodeType===8&&E.parentNode===m)break;if(w===4)for(w=d.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;w=w.return}for(;E!==null;){if(w=ds(E),w===null)return;if(O=w.tag,O===5||O===6){d=x=w;continue e}E=E.parentNode}}d=d.return}eu(function(){var q=x,X=Ho(o),ee=[];e:{var Y=Hu.get(t);if(Y!==void 0){var le=al,me=t;switch(t){case"keypress":if(si(o)===0)break e;case"keydown":case"keyup":le=xp;break;case"focusin":me="focus",le=ll;break;case"focusout":me="blur",le=ll;break;case"beforeblur":case"afterblur":le=ll;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=yp;break;case Fu:case Bu:case qu:le=ip;break;case Wu:le=bp;break;case"scroll":le=tp;break;case"wheel":le=jp;break;case"copy":case"cut":case"paste":le=lp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Nu}var fe=(s&4)!==0,Ge=!fe&&t==="scroll",z=fe?Y!==null?Y+"Capture":null:Y;fe=[];for(var R=q,U;R!==null;){U=R;var re=U.stateNode;if(U.tag===5&&re!==null&&(U=re,z!==null&&(re=Ln(R,z),re!=null&&fe.push(Zn(R,re,U)))),Ge)break;R=R.return}0<fe.length&&(Y=new le(Y,me,null,o,X),ee.push({event:Y,listeners:fe}))}}if((s&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",le=t==="mouseout"||t==="pointerout",Y&&o!==Wo&&(me=o.relatedTarget||o.fromElement)&&(ds(me)||me[pr]))break e;if((le||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,le?(me=o.relatedTarget||o.toElement,le=q,me=me?ds(me):null,me!==null&&(Ge=cs(me),me!==Ge||me.tag!==5&&me.tag!==6)&&(me=null)):(le=null,me=q),le!==me)){if(fe=wu,re="onMouseLeave",z="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(fe=Nu,re="onPointerLeave",z="onPointerEnter",R="pointer"),Ge=le==null?Y:Ws(le),U=me==null?Y:Ws(me),Y=new fe(re,R+"leave",le,o,X),Y.target=Ge,Y.relatedTarget=U,re=null,ds(X)===q&&(fe=new fe(z,R+"enter",me,o,X),fe.target=U,fe.relatedTarget=Ge,re=fe),Ge=re,le&&me)t:{for(fe=le,z=me,R=0,U=fe;U;U=Bs(U))R++;for(U=0,re=z;re;re=Bs(re))U++;for(;0<R-U;)fe=Bs(fe),R--;for(;0<U-R;)z=Bs(z),U--;for(;R--;){if(fe===z||z!==null&&fe===z.alternate)break t;fe=Bs(fe),z=Bs(z)}fe=null}else fe=null;le!==null&&Ju(ee,Y,le,fe,!1),me!==null&&Ge!==null&&Ju(ee,Ge,me,fe,!0)}}e:{if(Y=q?Ws(q):window,le=Y.nodeName&&Y.nodeName.toLowerCase(),le==="select"||le==="input"&&Y.type==="file")var pe=Pp;else if(Pu(Y))if(Ou)pe=Rp;else{pe=Op;var ve=Ap}else(le=Y.nodeName)&&le.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(pe=Tp);if(pe&&(pe=pe(t,q))){Au(ee,pe,o,X);break e}ve&&ve(t,Y,q),t==="focusout"&&(ve=Y._wrapperState)&&ve.controlled&&Y.type==="number"&&it(Y,"number",Y.value)}switch(ve=q?Ws(q):window,t){case"focusin":(Pu(ve)||ve.contentEditable==="true")&&(Us=ve,fl=q,Jn=null);break;case"focusout":Jn=fl=Us=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,zu(ee,o,X);break;case"selectionchange":if($p)break;case"keydown":case"keyup":zu(ee,o,X)}var be;if(dl)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else zs?Cu(t,o)&&(Ne="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ne="onCompositionStart");Ne&&(_u&&o.locale!=="ko"&&(zs||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&zs&&(be=vu()):($r=X,nl="value"in $r?$r.value:$r.textContent,zs=!0)),ve=di(q,Ne),0<ve.length&&(Ne=new ju(Ne,t,null,o,X),ee.push({event:Ne,listeners:ve}),be?Ne.data=be:(be=Eu(o),be!==null&&(Ne.data=be)))),(be=_p?kp(t,o):Sp(t,o))&&(q=di(q,"onBeforeInput"),0<q.length&&(X=new ju("onBeforeInput","beforeinput",null,o,X),ee.push({event:X,listeners:q}),X.data=be))}Ku(ee,s)})}function Zn(t,s,o){return{instance:t,listener:s,currentTarget:o}}function di(t,s){for(var o=s+"Capture",d=[];t!==null;){var m=t,x=m.stateNode;m.tag===5&&x!==null&&(m=x,x=Ln(t,o),x!=null&&d.unshift(Zn(t,x,m)),x=Ln(t,s),x!=null&&d.push(Zn(t,x,m))),t=t.return}return d}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ju(t,s,o,d,m){for(var x=s._reactName,w=[];o!==null&&o!==d;){var E=o,O=E.alternate,q=E.stateNode;if(O!==null&&O===d)break;E.tag===5&&q!==null&&(E=q,m?(O=Ln(o,x),O!=null&&w.unshift(Zn(o,O,E))):m||(O=Ln(o,x),O!=null&&w.push(Zn(o,O,E)))),o=o.return}w.length!==0&&t.push({event:s,listeners:w})}var Up=/\r\n?/g,Fp=/\u0000|\uFFFD/g;function Yu(t){return(typeof t=="string"?t:""+t).replace(Up,`
`).replace(Fp,"")}function ui(t,s,o){if(s=Yu(s),Yu(t)!==s&&o)throw Error(n(425))}function hi(){}var wl=null,jl=null;function Nl(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _l=typeof setTimeout=="function"?setTimeout:void 0,Bp=typeof clearTimeout=="function"?clearTimeout:void 0,Xu=typeof Promise=="function"?Promise:void 0,qp=typeof queueMicrotask=="function"?queueMicrotask:typeof Xu<"u"?function(t){return Xu.resolve(null).then(t).catch(Wp)}:_l;function Wp(t){setTimeout(function(){throw t})}function kl(t,s){var o=s,d=0;do{var m=o.nextSibling;if(t.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(d===0){t.removeChild(m),qn(s);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=m}while(o);qn(s)}function Mr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Zu(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return t;s--}else o==="/$"&&s++}t=t.previousSibling}return null}var qs=Math.random().toString(36).slice(2),cr="__reactFiber$"+qs,ea="__reactProps$"+qs,pr="__reactContainer$"+qs,Sl="__reactEvents$"+qs,Hp="__reactListeners$"+qs,Vp="__reactHandles$"+qs;function ds(t){var s=t[cr];if(s)return s;for(var o=t.parentNode;o;){if(s=o[pr]||o[cr]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=Zu(t);t!==null;){if(o=t[cr])return o;t=Zu(t)}return s}t=o,o=t.parentNode}return null}function ta(t){return t=t[cr]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function mi(t){return t[ea]||null}var Cl=[],Hs=-1;function zr(t){return{current:t}}function De(t){0>Hs||(t.current=Cl[Hs],Cl[Hs]=null,Hs--)}function Re(t,s){Hs++,Cl[Hs]=t.current,t.current=s}var Ur={},ct=zr(Ur),vt=zr(!1),us=Ur;function Vs(t,s){var o=t.type.contextTypes;if(!o)return Ur;var d=t.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},x;for(x in o)m[x]=s[x];return d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=m),m}function bt(t){return t=t.childContextTypes,t!=null}function fi(){De(vt),De(ct)}function eh(t,s,o){if(ct.current!==Ur)throw Error(n(168));Re(ct,s),Re(vt,o)}function th(t,s,o){var d=t.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(n(108,de(t)||"Unknown",m));return se({},o,d)}function xi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,us=ct.current,Re(ct,t),Re(vt,vt.current),!0}function rh(t,s,o){var d=t.stateNode;if(!d)throw Error(n(169));o?(t=th(t,s,us),d.__reactInternalMemoizedMergedChildContext=t,De(vt),De(ct),Re(ct,t)):De(vt),Re(vt,o)}var gr=null,pi=!1,El=!1;function sh(t){gr===null?gr=[t]:gr.push(t)}function Gp(t){pi=!0,sh(t)}function Fr(){if(!El&&gr!==null){El=!0;var t=0,s=Oe;try{var o=gr;for(Oe=1;t<o.length;t++){var d=o[t];do d=d(!0);while(d!==null)}gr=null,pi=!1}catch(m){throw gr!==null&&(gr=gr.slice(t+1)),au(Jo,Fr),m}finally{Oe=s,El=!1}}return null}var Gs=[],Ks=0,gi=null,yi=0,Dt=[],Mt=0,hs=null,yr=1,vr="";function ms(t,s){Gs[Ks++]=yi,Gs[Ks++]=gi,gi=t,yi=s}function nh(t,s,o){Dt[Mt++]=yr,Dt[Mt++]=vr,Dt[Mt++]=hs,hs=t;var d=yr;t=vr;var m=32-Vt(d)-1;d&=~(1<<m),o+=1;var x=32-Vt(s)+m;if(30<x){var w=m-m%5;x=(d&(1<<w)-1).toString(32),d>>=w,m-=w,yr=1<<32-Vt(s)+m|o<<m|d,vr=x+t}else yr=1<<x|o<<m|d,vr=t}function Pl(t){t.return!==null&&(ms(t,1),nh(t,1,0))}function Al(t){for(;t===gi;)gi=Gs[--Ks],Gs[Ks]=null,yi=Gs[--Ks],Gs[Ks]=null;for(;t===hs;)hs=Dt[--Mt],Dt[Mt]=null,vr=Dt[--Mt],Dt[Mt]=null,yr=Dt[--Mt],Dt[Mt]=null}var Pt=null,At=null,Me=!1,Kt=null;function ah(t,s){var o=Bt(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=t,s=t.deletions,s===null?(t.deletions=[o],t.flags|=16):s.push(o)}function ih(t,s){switch(t.tag){case 5:var o=t.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Pt=t,At=Mr(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Pt=t,At=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=hs!==null?{id:yr,overflow:vr}:null,t.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Bt(18,null,null,0),o.stateNode=s,o.return=t,t.child=o,Pt=t,At=null,!0):!1;default:return!1}}function Ol(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tl(t){if(Me){var s=At;if(s){var o=s;if(!ih(t,s)){if(Ol(t))throw Error(n(418));s=Mr(o.nextSibling);var d=Pt;s&&ih(t,s)?ah(d,o):(t.flags=t.flags&-4097|2,Me=!1,Pt=t)}}else{if(Ol(t))throw Error(n(418));t.flags=t.flags&-4097|2,Me=!1,Pt=t}}}function oh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function vi(t){if(t!==Pt)return!1;if(!Me)return oh(t),Me=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Nl(t.type,t.memoizedProps)),s&&(s=At)){if(Ol(t))throw lh(),Error(n(418));for(;s;)ah(t,s),s=Mr(s.nextSibling)}if(oh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(s===0){At=Mr(t.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}t=t.nextSibling}At=null}}else At=Pt?Mr(t.stateNode.nextSibling):null;return!0}function lh(){for(var t=At;t;)t=Mr(t.nextSibling)}function Qs(){At=Pt=null,Me=!1}function Rl(t){Kt===null?Kt=[t]:Kt.push(t)}var Kp=F.ReactCurrentBatchConfig;function ra(t,s,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var d=o.stateNode}if(!d)throw Error(n(147,t));var m=d,x=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===x?s.ref:(s=function(w){var E=m.refs;w===null?delete E[x]:E[x]=w},s._stringRef=x,s)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function bi(t,s){throw t=Object.prototype.toString.call(s),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function ch(t){var s=t._init;return s(t._payload)}function dh(t){function s(z,R){if(t){var U=z.deletions;U===null?(z.deletions=[R],z.flags|=16):U.push(R)}}function o(z,R){if(!t)return null;for(;R!==null;)s(z,R),R=R.sibling;return null}function d(z,R){for(z=new Map;R!==null;)R.key!==null?z.set(R.key,R):z.set(R.index,R),R=R.sibling;return z}function m(z,R){return z=Qr(z,R),z.index=0,z.sibling=null,z}function x(z,R,U){return z.index=U,t?(U=z.alternate,U!==null?(U=U.index,U<R?(z.flags|=2,R):U):(z.flags|=2,R)):(z.flags|=1048576,R)}function w(z){return t&&z.alternate===null&&(z.flags|=2),z}function E(z,R,U,re){return R===null||R.tag!==6?(R=_c(U,z.mode,re),R.return=z,R):(R=m(R,U),R.return=z,R)}function O(z,R,U,re){var pe=U.type;return pe===D?X(z,R,U.props.children,re,U.key):R!==null&&(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ae&&ch(pe)===R.type)?(re=m(R,U.props),re.ref=ra(z,R,U),re.return=z,re):(re=Wi(U.type,U.key,U.props,null,z.mode,re),re.ref=ra(z,R,U),re.return=z,re)}function q(z,R,U,re){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=kc(U,z.mode,re),R.return=z,R):(R=m(R,U.children||[]),R.return=z,R)}function X(z,R,U,re,pe){return R===null||R.tag!==7?(R=ws(U,z.mode,re,pe),R.return=z,R):(R=m(R,U),R.return=z,R)}function ee(z,R,U){if(typeof R=="string"&&R!==""||typeof R=="number")return R=_c(""+R,z.mode,U),R.return=z,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case P:return U=Wi(R.type,R.key,R.props,null,z.mode,U),U.ref=ra(z,null,R),U.return=z,U;case $:return R=kc(R,z.mode,U),R.return=z,R;case ae:var re=R._init;return ee(z,re(R._payload),U)}if($t(R)||ue(R))return R=ws(R,z.mode,U,null),R.return=z,R;bi(z,R)}return null}function Y(z,R,U,re){var pe=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return pe!==null?null:E(z,R,""+U,re);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===pe?O(z,R,U,re):null;case $:return U.key===pe?q(z,R,U,re):null;case ae:return pe=U._init,Y(z,R,pe(U._payload),re)}if($t(U)||ue(U))return pe!==null?null:X(z,R,U,re,null);bi(z,U)}return null}function le(z,R,U,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number")return z=z.get(U)||null,E(R,z,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case P:return z=z.get(re.key===null?U:re.key)||null,O(R,z,re,pe);case $:return z=z.get(re.key===null?U:re.key)||null,q(R,z,re,pe);case ae:var ve=re._init;return le(z,R,U,ve(re._payload),pe)}if($t(re)||ue(re))return z=z.get(U)||null,X(R,z,re,pe,null);bi(R,re)}return null}function me(z,R,U,re){for(var pe=null,ve=null,be=R,Ne=R=0,st=null;be!==null&&Ne<U.length;Ne++){be.index>Ne?(st=be,be=null):st=be.sibling;var Ae=Y(z,be,U[Ne],re);if(Ae===null){be===null&&(be=st);break}t&&be&&Ae.alternate===null&&s(z,be),R=x(Ae,R,Ne),ve===null?pe=Ae:ve.sibling=Ae,ve=Ae,be=st}if(Ne===U.length)return o(z,be),Me&&ms(z,Ne),pe;if(be===null){for(;Ne<U.length;Ne++)be=ee(z,U[Ne],re),be!==null&&(R=x(be,R,Ne),ve===null?pe=be:ve.sibling=be,ve=be);return Me&&ms(z,Ne),pe}for(be=d(z,be);Ne<U.length;Ne++)st=le(be,z,Ne,U[Ne],re),st!==null&&(t&&st.alternate!==null&&be.delete(st.key===null?Ne:st.key),R=x(st,R,Ne),ve===null?pe=st:ve.sibling=st,ve=st);return t&&be.forEach(function(Jr){return s(z,Jr)}),Me&&ms(z,Ne),pe}function fe(z,R,U,re){var pe=ue(U);if(typeof pe!="function")throw Error(n(150));if(U=pe.call(U),U==null)throw Error(n(151));for(var ve=pe=null,be=R,Ne=R=0,st=null,Ae=U.next();be!==null&&!Ae.done;Ne++,Ae=U.next()){be.index>Ne?(st=be,be=null):st=be.sibling;var Jr=Y(z,be,Ae.value,re);if(Jr===null){be===null&&(be=st);break}t&&be&&Jr.alternate===null&&s(z,be),R=x(Jr,R,Ne),ve===null?pe=Jr:ve.sibling=Jr,ve=Jr,be=st}if(Ae.done)return o(z,be),Me&&ms(z,Ne),pe;if(be===null){for(;!Ae.done;Ne++,Ae=U.next())Ae=ee(z,Ae.value,re),Ae!==null&&(R=x(Ae,R,Ne),ve===null?pe=Ae:ve.sibling=Ae,ve=Ae);return Me&&ms(z,Ne),pe}for(be=d(z,be);!Ae.done;Ne++,Ae=U.next())Ae=le(be,z,Ne,Ae.value,re),Ae!==null&&(t&&Ae.alternate!==null&&be.delete(Ae.key===null?Ne:Ae.key),R=x(Ae,R,Ne),ve===null?pe=Ae:ve.sibling=Ae,ve=Ae);return t&&be.forEach(function(Cg){return s(z,Cg)}),Me&&ms(z,Ne),pe}function Ge(z,R,U,re){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:e:{for(var pe=U.key,ve=R;ve!==null;){if(ve.key===pe){if(pe=U.type,pe===D){if(ve.tag===7){o(z,ve.sibling),R=m(ve,U.props.children),R.return=z,z=R;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ae&&ch(pe)===ve.type){o(z,ve.sibling),R=m(ve,U.props),R.ref=ra(z,ve,U),R.return=z,z=R;break e}o(z,ve);break}else s(z,ve);ve=ve.sibling}U.type===D?(R=ws(U.props.children,z.mode,re,U.key),R.return=z,z=R):(re=Wi(U.type,U.key,U.props,null,z.mode,re),re.ref=ra(z,R,U),re.return=z,z=re)}return w(z);case $:e:{for(ve=U.key;R!==null;){if(R.key===ve)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){o(z,R.sibling),R=m(R,U.children||[]),R.return=z,z=R;break e}else{o(z,R);break}else s(z,R);R=R.sibling}R=kc(U,z.mode,re),R.return=z,z=R}return w(z);case ae:return ve=U._init,Ge(z,R,ve(U._payload),re)}if($t(U))return me(z,R,U,re);if(ue(U))return fe(z,R,U,re);bi(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,R!==null&&R.tag===6?(o(z,R.sibling),R=m(R,U),R.return=z,z=R):(o(z,R),R=_c(U,z.mode,re),R.return=z,z=R),w(z)):o(z,R)}return Ge}var Js=dh(!0),uh=dh(!1),wi=zr(null),ji=null,Ys=null,Ll=null;function Il(){Ll=Ys=ji=null}function $l(t){var s=wi.current;De(wi),t._currentValue=s}function Dl(t,s,o){for(;t!==null;){var d=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),t===o)break;t=t.return}}function Xs(t,s){ji=t,Ll=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(wt=!0),t.firstContext=null)}function zt(t){var s=t._currentValue;if(Ll!==t)if(t={context:t,memoizedValue:s,next:null},Ys===null){if(ji===null)throw Error(n(308));Ys=t,ji.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return s}var fs=null;function Ml(t){fs===null?fs=[t]:fs.push(t)}function hh(t,s,o,d){var m=s.interleaved;return m===null?(o.next=o,Ml(s)):(o.next=m.next,m.next=o),s.interleaved=o,br(t,d)}function br(t,s){t.lanes|=s;var o=t.alternate;for(o!==null&&(o.lanes|=s),o=t,t=t.return;t!==null;)t.childLanes|=s,o=t.alternate,o!==null&&(o.childLanes|=s),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Br=!1;function zl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wr(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function qr(t,s,o){var d=t.updateQueue;if(d===null)return null;if(d=d.shared,(Se&2)!==0){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,br(t,o)}return m=d.interleaved,m===null?(s.next=s,Ml(d)):(s.next=m.next,m.next=s),d.interleaved=s,br(t,o)}function Ni(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var d=s.lanes;d&=t.pendingLanes,o|=d,s.lanes=o,Zo(t,o)}}function fh(t,s){var o=t.updateQueue,d=t.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var m=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var w={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};x===null?m=x=w:x=x.next=w,o=o.next}while(o!==null);x===null?m=x=s:x=x.next=s}else m=x=s;o={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:d.shared,effects:d.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}function _i(t,s,o,d){var m=t.updateQueue;Br=!1;var x=m.firstBaseUpdate,w=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var O=E,q=O.next;O.next=null,w===null?x=q:w.next=q,w=O;var X=t.alternate;X!==null&&(X=X.updateQueue,E=X.lastBaseUpdate,E!==w&&(E===null?X.firstBaseUpdate=q:E.next=q,X.lastBaseUpdate=O))}if(x!==null){var ee=m.baseState;w=0,X=q=O=null,E=x;do{var Y=E.lane,le=E.eventTime;if((d&Y)===Y){X!==null&&(X=X.next={eventTime:le,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var me=t,fe=E;switch(Y=s,le=o,fe.tag){case 1:if(me=fe.payload,typeof me=="function"){ee=me.call(le,ee,Y);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=fe.payload,Y=typeof me=="function"?me.call(le,ee,Y):me,Y==null)break e;ee=se({},ee,Y);break e;case 2:Br=!0}}E.callback!==null&&E.lane!==0&&(t.flags|=64,Y=m.effects,Y===null?m.effects=[E]:Y.push(E))}else le={eventTime:le,lane:Y,tag:E.tag,payload:E.payload,callback:E.callback,next:null},X===null?(q=X=le,O=ee):X=X.next=le,w|=Y;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;Y=E,E=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);if(X===null&&(O=ee),m.baseState=O,m.firstBaseUpdate=q,m.lastBaseUpdate=X,s=m.shared.interleaved,s!==null){m=s;do w|=m.lane,m=m.next;while(m!==s)}else x===null&&(m.shared.lanes=0);gs|=w,t.lanes=w,t.memoizedState=ee}}function xh(t,s,o){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var d=t[s],m=d.callback;if(m!==null){if(d.callback=null,d=o,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var sa={},dr=zr(sa),na=zr(sa),aa=zr(sa);function xs(t){if(t===sa)throw Error(n(174));return t}function Ul(t,s){switch(Re(aa,s),Re(na,t),Re(dr,sa),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Tn(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Tn(s,t)}De(dr),Re(dr,s)}function Zs(){De(dr),De(na),De(aa)}function ph(t){xs(aa.current);var s=xs(dr.current),o=Tn(s,t.type);s!==o&&(Re(na,t),Re(dr,o))}function Fl(t){na.current===t&&(De(dr),De(na))}var Ue=zr(0);function ki(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bl=[];function ql(){for(var t=0;t<Bl.length;t++)Bl[t]._workInProgressVersionPrimary=null;Bl.length=0}var Si=F.ReactCurrentDispatcher,Wl=F.ReactCurrentBatchConfig,ps=0,Fe=null,Xe=null,tt=null,Ci=!1,ia=!1,oa=0,Qp=0;function dt(){throw Error(n(321))}function Hl(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!Gt(t[o],s[o]))return!1;return!0}function Vl(t,s,o,d,m,x){if(ps=x,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Si.current=t===null||t.memoizedState===null?Zp:eg,t=o(d,m),ia){x=0;do{if(ia=!1,oa=0,25<=x)throw Error(n(301));x+=1,tt=Xe=null,s.updateQueue=null,Si.current=tg,t=o(d,m)}while(ia)}if(Si.current=Ai,s=Xe!==null&&Xe.next!==null,ps=0,tt=Xe=Fe=null,Ci=!1,s)throw Error(n(300));return t}function Gl(){var t=oa!==0;return oa=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Fe.memoizedState=tt=t:tt=tt.next=t,tt}function Ut(){if(Xe===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var s=tt===null?Fe.memoizedState:tt.next;if(s!==null)tt=s,Xe=t;else{if(t===null)throw Error(n(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},tt===null?Fe.memoizedState=tt=t:tt=tt.next=t}return tt}function la(t,s){return typeof s=="function"?s(t):s}function Kl(t){var s=Ut(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var d=Xe,m=d.baseQueue,x=o.pending;if(x!==null){if(m!==null){var w=m.next;m.next=x.next,x.next=w}d.baseQueue=m=x,o.pending=null}if(m!==null){x=m.next,d=d.baseState;var E=w=null,O=null,q=x;do{var X=q.lane;if((ps&X)===X)O!==null&&(O=O.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:t(d,q.action);else{var ee={lane:X,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};O===null?(E=O=ee,w=d):O=O.next=ee,Fe.lanes|=X,gs|=X}q=q.next}while(q!==null&&q!==x);O===null?w=d:O.next=E,Gt(d,s.memoizedState)||(wt=!0),s.memoizedState=d,s.baseState=w,s.baseQueue=O,o.lastRenderedState=d}if(t=o.interleaved,t!==null){m=t;do x=m.lane,Fe.lanes|=x,gs|=x,m=m.next;while(m!==t)}else m===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Ql(t){var s=Ut(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var d=o.dispatch,m=o.pending,x=s.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do x=t(x,w.action),w=w.next;while(w!==m);Gt(x,s.memoizedState)||(wt=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),o.lastRenderedState=x}return[x,d]}function gh(){}function yh(t,s){var o=Fe,d=Ut(),m=s(),x=!Gt(d.memoizedState,m);if(x&&(d.memoizedState=m,wt=!0),d=d.queue,Jl(wh.bind(null,o,d,t),[t]),d.getSnapshot!==s||x||tt!==null&&tt.memoizedState.tag&1){if(o.flags|=2048,ca(9,bh.bind(null,o,d,m,s),void 0,null),rt===null)throw Error(n(349));(ps&30)!==0||vh(o,s,m)}return m}function vh(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=Fe.updateQueue,s===null?(s={lastEffect:null,stores:null},Fe.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function bh(t,s,o,d){s.value=o,s.getSnapshot=d,jh(s)&&Nh(t)}function wh(t,s,o){return o(function(){jh(s)&&Nh(t)})}function jh(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!Gt(t,o)}catch{return!0}}function Nh(t){var s=br(t,1);s!==null&&Xt(s,t,1,-1)}function _h(t){var s=ur();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},s.queue=t,t=t.dispatch=Xp.bind(null,Fe,t),[s.memoizedState,t]}function ca(t,s,o,d){return t={tag:t,create:s,destroy:o,deps:d,next:null},s=Fe.updateQueue,s===null?(s={lastEffect:null,stores:null},Fe.updateQueue=s,s.lastEffect=t.next=t):(o=s.lastEffect,o===null?s.lastEffect=t.next=t:(d=o.next,o.next=t,t.next=d,s.lastEffect=t)),t}function kh(){return Ut().memoizedState}function Ei(t,s,o,d){var m=ur();Fe.flags|=t,m.memoizedState=ca(1|s,o,void 0,d===void 0?null:d)}function Pi(t,s,o,d){var m=Ut();d=d===void 0?null:d;var x=void 0;if(Xe!==null){var w=Xe.memoizedState;if(x=w.destroy,d!==null&&Hl(d,w.deps)){m.memoizedState=ca(s,o,x,d);return}}Fe.flags|=t,m.memoizedState=ca(1|s,o,x,d)}function Sh(t,s){return Ei(8390656,8,t,s)}function Jl(t,s){return Pi(2048,8,t,s)}function Ch(t,s){return Pi(4,2,t,s)}function Eh(t,s){return Pi(4,4,t,s)}function Ph(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Ah(t,s,o){return o=o!=null?o.concat([t]):null,Pi(4,4,Ph.bind(null,s,t),o)}function Yl(){}function Oh(t,s){var o=Ut();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&Hl(s,d[1])?d[0]:(o.memoizedState=[t,s],t)}function Th(t,s){var o=Ut();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&Hl(s,d[1])?d[0]:(t=t(),o.memoizedState=[t,s],t)}function Rh(t,s,o){return(ps&21)===0?(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=o):(Gt(o,s)||(o=cu(),Fe.lanes|=o,gs|=o,t.baseState=!0),s)}function Jp(t,s){var o=Oe;Oe=o!==0&&4>o?o:4,t(!0);var d=Wl.transition;Wl.transition={};try{t(!1),s()}finally{Oe=o,Wl.transition=d}}function Lh(){return Ut().memoizedState}function Yp(t,s,o){var d=Gr(t);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},Ih(t))$h(s,o);else if(o=hh(t,s,o,d),o!==null){var m=gt();Xt(o,t,d,m),Dh(o,s,d)}}function Xp(t,s,o){var d=Gr(t),m={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ih(t))$h(s,m);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var w=s.lastRenderedState,E=x(w,o);if(m.hasEagerState=!0,m.eagerState=E,Gt(E,w)){var O=s.interleaved;O===null?(m.next=m,Ml(s)):(m.next=O.next,O.next=m),s.interleaved=m;return}}catch{}finally{}o=hh(t,s,m,d),o!==null&&(m=gt(),Xt(o,t,d,m),Dh(o,s,d))}}function Ih(t){var s=t.alternate;return t===Fe||s!==null&&s===Fe}function $h(t,s){ia=Ci=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function Dh(t,s,o){if((o&4194240)!==0){var d=s.lanes;d&=t.pendingLanes,o|=d,s.lanes=o,Zo(t,o)}}var Ai={readContext:zt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},Zp={readContext:zt,useCallback:function(t,s){return ur().memoizedState=[t,s===void 0?null:s],t},useContext:zt,useEffect:Sh,useImperativeHandle:function(t,s,o){return o=o!=null?o.concat([t]):null,Ei(4194308,4,Ph.bind(null,s,t),o)},useLayoutEffect:function(t,s){return Ei(4194308,4,t,s)},useInsertionEffect:function(t,s){return Ei(4,2,t,s)},useMemo:function(t,s){var o=ur();return s=s===void 0?null:s,t=t(),o.memoizedState=[t,s],t},useReducer:function(t,s,o){var d=ur();return s=o!==void 0?o(s):s,d.memoizedState=d.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},d.queue=t,t=t.dispatch=Yp.bind(null,Fe,t),[d.memoizedState,t]},useRef:function(t){var s=ur();return t={current:t},s.memoizedState=t},useState:_h,useDebugValue:Yl,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=_h(!1),s=t[0];return t=Jp.bind(null,t[1]),ur().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,o){var d=Fe,m=ur();if(Me){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),rt===null)throw Error(n(349));(ps&30)!==0||vh(d,s,o)}m.memoizedState=o;var x={value:o,getSnapshot:s};return m.queue=x,Sh(wh.bind(null,d,x,t),[t]),d.flags|=2048,ca(9,bh.bind(null,d,x,o,s),void 0,null),o},useId:function(){var t=ur(),s=rt.identifierPrefix;if(Me){var o=vr,d=yr;o=(d&~(1<<32-Vt(d)-1)).toString(32)+o,s=":"+s+"R"+o,o=oa++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Qp++,s=":"+s+"r"+o.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},eg={readContext:zt,useCallback:Oh,useContext:zt,useEffect:Jl,useImperativeHandle:Ah,useInsertionEffect:Ch,useLayoutEffect:Eh,useMemo:Th,useReducer:Kl,useRef:kh,useState:function(){return Kl(la)},useDebugValue:Yl,useDeferredValue:function(t){var s=Ut();return Rh(s,Xe.memoizedState,t)},useTransition:function(){var t=Kl(la)[0],s=Ut().memoizedState;return[t,s]},useMutableSource:gh,useSyncExternalStore:yh,useId:Lh,unstable_isNewReconciler:!1},tg={readContext:zt,useCallback:Oh,useContext:zt,useEffect:Jl,useImperativeHandle:Ah,useInsertionEffect:Ch,useLayoutEffect:Eh,useMemo:Th,useReducer:Ql,useRef:kh,useState:function(){return Ql(la)},useDebugValue:Yl,useDeferredValue:function(t){var s=Ut();return Xe===null?s.memoizedState=t:Rh(s,Xe.memoizedState,t)},useTransition:function(){var t=Ql(la)[0],s=Ut().memoizedState;return[t,s]},useMutableSource:gh,useSyncExternalStore:yh,useId:Lh,unstable_isNewReconciler:!1};function Qt(t,s){if(t&&t.defaultProps){s=se({},s),t=t.defaultProps;for(var o in t)s[o]===void 0&&(s[o]=t[o]);return s}return s}function Xl(t,s,o,d){s=t.memoizedState,o=o(d,s),o=o==null?s:se({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Oi={isMounted:function(t){return(t=t._reactInternals)?cs(t)===t:!1},enqueueSetState:function(t,s,o){t=t._reactInternals;var d=gt(),m=Gr(t),x=wr(d,m);x.payload=s,o!=null&&(x.callback=o),s=qr(t,x,m),s!==null&&(Xt(s,t,m,d),Ni(s,t,m))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var d=gt(),m=Gr(t),x=wr(d,m);x.tag=1,x.payload=s,o!=null&&(x.callback=o),s=qr(t,x,m),s!==null&&(Xt(s,t,m,d),Ni(s,t,m))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=gt(),d=Gr(t),m=wr(o,d);m.tag=2,s!=null&&(m.callback=s),s=qr(t,m,d),s!==null&&(Xt(s,t,d,o),Ni(s,t,d))}};function Mh(t,s,o,d,m,x,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(d,x,w):s.prototype&&s.prototype.isPureReactComponent?!Qn(o,d)||!Qn(m,x):!0}function zh(t,s,o){var d=!1,m=Ur,x=s.contextType;return typeof x=="object"&&x!==null?x=zt(x):(m=bt(s)?us:ct.current,d=s.contextTypes,x=(d=d!=null)?Vs(t,m):Ur),s=new s(o,x),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Oi,t.stateNode=s,s._reactInternals=t,d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=m,t.__reactInternalMemoizedMaskedChildContext=x),s}function Uh(t,s,o,d){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,d),s.state!==t&&Oi.enqueueReplaceState(s,s.state,null)}function Zl(t,s,o,d){var m=t.stateNode;m.props=o,m.state=t.memoizedState,m.refs={},zl(t);var x=s.contextType;typeof x=="object"&&x!==null?m.context=zt(x):(x=bt(s)?us:ct.current,m.context=Vs(t,x)),m.state=t.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(Xl(t,s,x,o),m.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Oi.enqueueReplaceState(m,m.state,null),_i(t,o,m,d),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308)}function en(t,s){try{var o="",d=s;do o+=Q(d),d=d.return;while(d);var m=o}catch(x){m=`
Error generating stack: `+x.message+`
`+x.stack}return{value:t,source:s,stack:m,digest:null}}function ec(t,s,o){return{value:t,source:null,stack:o??null,digest:s??null}}function tc(t,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var rg=typeof WeakMap=="function"?WeakMap:Map;function Fh(t,s,o){o=wr(-1,o),o.tag=3,o.payload={element:null};var d=s.value;return o.callback=function(){Mi||(Mi=!0,pc=d),tc(t,s)},o}function Bh(t,s,o){o=wr(-1,o),o.tag=3;var d=t.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;o.payload=function(){return d(m)},o.callback=function(){tc(t,s)}}var x=t.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(o.callback=function(){tc(t,s),typeof d!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),o}function qh(t,s,o){var d=t.pingCache;if(d===null){d=t.pingCache=new rg;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(o)||(m.add(o),t=pg.bind(null,t,s,o),s.then(t,t))}function Wh(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Hh(t,s,o,d,m){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=wr(-1,1),s.tag=2,qr(o,s,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=m,t)}var sg=F.ReactCurrentOwner,wt=!1;function pt(t,s,o,d){s.child=t===null?uh(s,null,o,d):Js(s,t.child,o,d)}function Vh(t,s,o,d,m){o=o.render;var x=s.ref;return Xs(s,m),d=Vl(t,s,o,d,x,m),o=Gl(),t!==null&&!wt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~m,jr(t,s,m)):(Me&&o&&Pl(s),s.flags|=1,pt(t,s,d,m),s.child)}function Gh(t,s,o,d,m){if(t===null){var x=o.type;return typeof x=="function"&&!Nc(x)&&x.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=x,Kh(t,s,x,d,m)):(t=Wi(o.type,null,d,s,s.mode,m),t.ref=s.ref,t.return=s,s.child=t)}if(x=t.child,(t.lanes&m)===0){var w=x.memoizedProps;if(o=o.compare,o=o!==null?o:Qn,o(w,d)&&t.ref===s.ref)return jr(t,s,m)}return s.flags|=1,t=Qr(x,d),t.ref=s.ref,t.return=s,s.child=t}function Kh(t,s,o,d,m){if(t!==null){var x=t.memoizedProps;if(Qn(x,d)&&t.ref===s.ref)if(wt=!1,s.pendingProps=d=x,(t.lanes&m)!==0)(t.flags&131072)!==0&&(wt=!0);else return s.lanes=t.lanes,jr(t,s,m)}return rc(t,s,o,d,m)}function Qh(t,s,o){var d=s.pendingProps,m=d.children,x=t!==null?t.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(rn,Ot),Ot|=o;else{if((o&1073741824)===0)return t=x!==null?x.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Re(rn,Ot),Ot|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:o,Re(rn,Ot),Ot|=d}else x!==null?(d=x.baseLanes|o,s.memoizedState=null):d=o,Re(rn,Ot),Ot|=d;return pt(t,s,m,o),s.child}function Jh(t,s){var o=s.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function rc(t,s,o,d,m){var x=bt(o)?us:ct.current;return x=Vs(s,x),Xs(s,m),o=Vl(t,s,o,d,x,m),d=Gl(),t!==null&&!wt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~m,jr(t,s,m)):(Me&&d&&Pl(s),s.flags|=1,pt(t,s,o,m),s.child)}function Yh(t,s,o,d,m){if(bt(o)){var x=!0;xi(s)}else x=!1;if(Xs(s,m),s.stateNode===null)Ri(t,s),zh(s,o,d),Zl(s,o,d,m),d=!0;else if(t===null){var w=s.stateNode,E=s.memoizedProps;w.props=E;var O=w.context,q=o.contextType;typeof q=="object"&&q!==null?q=zt(q):(q=bt(o)?us:ct.current,q=Vs(s,q));var X=o.getDerivedStateFromProps,ee=typeof X=="function"||typeof w.getSnapshotBeforeUpdate=="function";ee||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==d||O!==q)&&Uh(s,w,d,q),Br=!1;var Y=s.memoizedState;w.state=Y,_i(s,d,w,m),O=s.memoizedState,E!==d||Y!==O||vt.current||Br?(typeof X=="function"&&(Xl(s,o,X,d),O=s.memoizedState),(E=Br||Mh(s,o,E,d,Y,O,q))?(ee||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=O),w.props=d,w.state=O,w.context=q,d=E):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,mh(t,s),E=s.memoizedProps,q=s.type===s.elementType?E:Qt(s.type,E),w.props=q,ee=s.pendingProps,Y=w.context,O=o.contextType,typeof O=="object"&&O!==null?O=zt(O):(O=bt(o)?us:ct.current,O=Vs(s,O));var le=o.getDerivedStateFromProps;(X=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==ee||Y!==O)&&Uh(s,w,d,O),Br=!1,Y=s.memoizedState,w.state=Y,_i(s,d,w,m);var me=s.memoizedState;E!==ee||Y!==me||vt.current||Br?(typeof le=="function"&&(Xl(s,o,le,d),me=s.memoizedState),(q=Br||Mh(s,o,q,d,Y,me,O)||!1)?(X||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,me,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,me,O)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=me),w.props=d,w.state=me,w.context=O,d=q):(typeof w.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(s.flags|=1024),d=!1)}return sc(t,s,o,d,x,m)}function sc(t,s,o,d,m,x){Jh(t,s);var w=(s.flags&128)!==0;if(!d&&!w)return m&&rh(s,o,!1),jr(t,s,x);d=s.stateNode,sg.current=s;var E=w&&typeof o.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,t!==null&&w?(s.child=Js(s,t.child,null,x),s.child=Js(s,null,E,x)):pt(t,s,E,x),s.memoizedState=d.state,m&&rh(s,o,!0),s.child}function Xh(t){var s=t.stateNode;s.pendingContext?eh(t,s.pendingContext,s.pendingContext!==s.context):s.context&&eh(t,s.context,!1),Ul(t,s.containerInfo)}function Zh(t,s,o,d,m){return Qs(),Rl(m),s.flags|=256,pt(t,s,o,d),s.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function ac(t){return{baseLanes:t,cachePool:null,transitions:null}}function em(t,s,o){var d=s.pendingProps,m=Ue.current,x=!1,w=(s.flags&128)!==0,E;if((E=w)||(E=t!==null&&t.memoizedState===null?!1:(m&2)!==0),E?(x=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(m|=1),Re(Ue,m&1),t===null)return Tl(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=d.children,t=d.fallback,x?(d=s.mode,x=s.child,w={mode:"hidden",children:w},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=w):x=Hi(w,d,0,null),t=ws(t,d,o,null),x.return=s,t.return=s,x.sibling=t,s.child=x,s.child.memoizedState=ac(o),s.memoizedState=nc,t):ic(s,w));if(m=t.memoizedState,m!==null&&(E=m.dehydrated,E!==null))return ng(t,s,w,d,E,m,o);if(x){x=d.fallback,w=s.mode,m=t.child,E=m.sibling;var O={mode:"hidden",children:d.children};return(w&1)===0&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=O,s.deletions=null):(d=Qr(m,O),d.subtreeFlags=m.subtreeFlags&14680064),E!==null?x=Qr(E,x):(x=ws(x,w,o,null),x.flags|=2),x.return=s,d.return=s,d.sibling=x,s.child=d,d=x,x=s.child,w=t.child.memoizedState,w=w===null?ac(o):{baseLanes:w.baseLanes|o,cachePool:null,transitions:w.transitions},x.memoizedState=w,x.childLanes=t.childLanes&~o,s.memoizedState=nc,d}return x=t.child,t=x.sibling,d=Qr(x,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=o),d.return=s,d.sibling=null,t!==null&&(o=s.deletions,o===null?(s.deletions=[t],s.flags|=16):o.push(t)),s.child=d,s.memoizedState=null,d}function ic(t,s){return s=Hi({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Ti(t,s,o,d){return d!==null&&Rl(d),Js(s,t.child,null,o),t=ic(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function ng(t,s,o,d,m,x,w){if(o)return s.flags&256?(s.flags&=-257,d=ec(Error(n(422))),Ti(t,s,w,d)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(x=d.fallback,m=s.mode,d=Hi({mode:"visible",children:d.children},m,0,null),x=ws(x,m,w,null),x.flags|=2,d.return=s,x.return=s,d.sibling=x,s.child=d,(s.mode&1)!==0&&Js(s,t.child,null,w),s.child.memoizedState=ac(w),s.memoizedState=nc,x);if((s.mode&1)===0)return Ti(t,s,w,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var E=d.dgst;return d=E,x=Error(n(419)),d=ec(x,d,void 0),Ti(t,s,w,d)}if(E=(w&t.childLanes)!==0,wt||E){if(d=rt,d!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|w))!==0?0:m,m!==0&&m!==x.retryLane&&(x.retryLane=m,br(t,m),Xt(d,t,m,-1))}return jc(),d=ec(Error(n(421))),Ti(t,s,w,d)}return m.data==="$?"?(s.flags|=128,s.child=t.child,s=gg.bind(null,t),m._reactRetry=s,null):(t=x.treeContext,At=Mr(m.nextSibling),Pt=s,Me=!0,Kt=null,t!==null&&(Dt[Mt++]=yr,Dt[Mt++]=vr,Dt[Mt++]=hs,yr=t.id,vr=t.overflow,hs=s),s=ic(s,d.children),s.flags|=4096,s)}function tm(t,s,o){t.lanes|=s;var d=t.alternate;d!==null&&(d.lanes|=s),Dl(t.return,s,o)}function oc(t,s,o,d,m){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:m}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=o,x.tailMode=m)}function rm(t,s,o){var d=s.pendingProps,m=d.revealOrder,x=d.tail;if(pt(t,s,d.children,o),d=Ue.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tm(t,o,s);else if(t.tag===19)tm(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}d&=1}if(Re(Ue,d),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(o=s.child,m=null;o!==null;)t=o.alternate,t!==null&&ki(t)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),oc(s,!1,m,o,x);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(t=m.alternate,t!==null&&ki(t)===null){s.child=m;break}t=m.sibling,m.sibling=o,o=m,m=t}oc(s,!0,o,null,x);break;case"together":oc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ri(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function jr(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),gs|=s.lanes,(o&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(n(153));if(s.child!==null){for(t=s.child,o=Qr(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=Qr(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function ag(t,s,o){switch(s.tag){case 3:Xh(s),Qs();break;case 5:ph(s);break;case 1:bt(s.type)&&xi(s);break;case 4:Ul(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;Re(wi,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Re(Ue,Ue.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?em(t,s,o):(Re(Ue,Ue.current&1),t=jr(t,s,o),t!==null?t.sibling:null);Re(Ue,Ue.current&1);break;case 19:if(d=(o&s.childLanes)!==0,(t.flags&128)!==0){if(d)return rm(t,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Re(Ue,Ue.current),d)break;return null;case 22:case 23:return s.lanes=0,Qh(t,s,o)}return jr(t,s,o)}var sm,lc,nm,am;sm=function(t,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},lc=function(){},nm=function(t,s,o,d){var m=t.memoizedProps;if(m!==d){t=s.stateNode,xs(dr.current);var x=null;switch(o){case"input":m=An(t,m),d=An(t,d),x=[];break;case"select":m=se({},m,{value:void 0}),d=se({},d,{value:void 0}),x=[];break;case"textarea":m=xr(t,m),d=xr(t,d),x=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(t.onclick=hi)}Bo(o,d);var w;o=null;for(q in m)if(!d.hasOwnProperty(q)&&m.hasOwnProperty(q)&&m[q]!=null)if(q==="style"){var E=m[q];for(w in E)E.hasOwnProperty(w)&&(o||(o={}),o[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(l.hasOwnProperty(q)?x||(x=[]):(x=x||[]).push(q,null));for(q in d){var O=d[q];if(E=m?.[q],d.hasOwnProperty(q)&&O!==E&&(O!=null||E!=null))if(q==="style")if(E){for(w in E)!E.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(o||(o={}),o[w]="");for(w in O)O.hasOwnProperty(w)&&E[w]!==O[w]&&(o||(o={}),o[w]=O[w])}else o||(x||(x=[]),x.push(q,o)),o=O;else q==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,E=E?E.__html:void 0,O!=null&&E!==O&&(x=x||[]).push(q,O)):q==="children"?typeof O!="string"&&typeof O!="number"||(x=x||[]).push(q,""+O):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(l.hasOwnProperty(q)?(O!=null&&q==="onScroll"&&$e("scroll",t),x||E===O||(x=[])):(x=x||[]).push(q,O))}o&&(x=x||[]).push("style",o);var q=x;(s.updateQueue=q)&&(s.flags|=4)}},am=function(t,s,o,d){o!==d&&(s.flags|=4)};function da(t,s){if(!Me)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:d.sibling=null}}function ut(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,d=0;if(s)for(var m=t.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=d,t.childLanes=o,s}function ig(t,s,o){var d=s.pendingProps;switch(Al(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return bt(s.type)&&fi(),ut(s),null;case 3:return d=s.stateNode,Zs(),De(vt),De(ct),ql(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(t===null||t.child===null)&&(vi(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kt!==null&&(vc(Kt),Kt=null))),lc(t,s),ut(s),null;case 5:Fl(s);var m=xs(aa.current);if(o=s.type,t!==null&&s.stateNode!=null)nm(t,s,o,d,m),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return ut(s),null}if(t=xs(dr.current),vi(s)){d=s.stateNode,o=s.type;var x=s.memoizedProps;switch(d[cr]=s,d[ea]=x,t=(s.mode&1)!==0,o){case"dialog":$e("cancel",d),$e("close",d);break;case"iframe":case"object":case"embed":$e("load",d);break;case"video":case"audio":for(m=0;m<Yn.length;m++)$e(Yn[m],d);break;case"source":$e("error",d);break;case"img":case"image":case"link":$e("error",d),$e("load",d);break;case"details":$e("toggle",d);break;case"input":On(d,x),$e("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},$e("invalid",d);break;case"textarea":Or(d,x),$e("invalid",d)}Bo(o,x),m=null;for(var w in x)if(x.hasOwnProperty(w)){var E=x[w];w==="children"?typeof E=="string"?d.textContent!==E&&(x.suppressHydrationWarning!==!0&&ui(d.textContent,E,t),m=["children",E]):typeof E=="number"&&d.textContent!==""+E&&(x.suppressHydrationWarning!==!0&&ui(d.textContent,E,t),m=["children",""+E]):l.hasOwnProperty(w)&&E!=null&&w==="onScroll"&&$e("scroll",d)}switch(o){case"input":nt(d),Te(d,x,!0);break;case"textarea":nt(d),Ct(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=hi)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qa(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=w.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof d.is=="string"?t=w.createElement(o,{is:d.is}):(t=w.createElement(o),o==="select"&&(w=t,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):t=w.createElementNS(t,o),t[cr]=s,t[ea]=d,sm(t,s,!1,!1),s.stateNode=t;e:{switch(w=qo(o,d),o){case"dialog":$e("cancel",t),$e("close",t),m=d;break;case"iframe":case"object":case"embed":$e("load",t),m=d;break;case"video":case"audio":for(m=0;m<Yn.length;m++)$e(Yn[m],t);m=d;break;case"source":$e("error",t),m=d;break;case"img":case"image":case"link":$e("error",t),$e("load",t),m=d;break;case"details":$e("toggle",t),m=d;break;case"input":On(t,d),m=An(t,d),$e("invalid",t);break;case"option":m=d;break;case"select":t._wrapperState={wasMultiple:!!d.multiple},m=se({},d,{value:void 0}),$e("invalid",t);break;case"textarea":Or(t,d),m=xr(t,d),$e("invalid",t);break;default:m=d}Bo(o,m),E=m;for(x in E)if(E.hasOwnProperty(x)){var O=E[x];x==="style"?Kd(t,O):x==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Wa(t,O)):x==="children"?typeof O=="string"?(o!=="textarea"||O!=="")&&ls(t,O):typeof O=="number"&&ls(t,""+O):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(l.hasOwnProperty(x)?O!=null&&x==="onScroll"&&$e("scroll",t):O!=null&&S(t,x,O,w))}switch(o){case"input":nt(t),Te(t,d,!1);break;case"textarea":nt(t),Ct(t);break;case"option":d.value!=null&&t.setAttribute("value",""+je(d.value));break;case"select":t.multiple=!!d.multiple,x=d.value,x!=null?Ye(t,!!d.multiple,x,!1):d.defaultValue!=null&&Ye(t,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(t.onclick=hi)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ut(s),null;case 6:if(t&&s.stateNode!=null)am(t,s,t.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(o=xs(aa.current),xs(dr.current),vi(s)){if(d=s.stateNode,o=s.memoizedProps,d[cr]=s,(x=d.nodeValue!==o)&&(t=Pt,t!==null))switch(t.tag){case 3:ui(d.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ui(d.nodeValue,o,(t.mode&1)!==0)}x&&(s.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[cr]=s,s.stateNode=d}return ut(s),null;case 13:if(De(Ue),d=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&At!==null&&(s.mode&1)!==0&&(s.flags&128)===0)lh(),Qs(),s.flags|=98560,x=!1;else if(x=vi(s),d!==null&&d.dehydrated!==null){if(t===null){if(!x)throw Error(n(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[cr]=s}else Qs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),x=!1}else Kt!==null&&(vc(Kt),Kt=null),x=!0;if(!x)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(d=d!==null,d!==(t!==null&&t.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(Ue.current&1)!==0?Ze===0&&(Ze=3):jc())),s.updateQueue!==null&&(s.flags|=4),ut(s),null);case 4:return Zs(),lc(t,s),t===null&&Xn(s.stateNode.containerInfo),ut(s),null;case 10:return $l(s.type._context),ut(s),null;case 17:return bt(s.type)&&fi(),ut(s),null;case 19:if(De(Ue),x=s.memoizedState,x===null)return ut(s),null;if(d=(s.flags&128)!==0,w=x.rendering,w===null)if(d)da(x,!1);else{if(Ze!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(w=ki(t),w!==null){for(s.flags|=128,da(x,!1),d=w.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=o,o=s.child;o!==null;)x=o,t=d,x.flags&=14680066,w=x.alternate,w===null?(x.childLanes=0,x.lanes=t,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=w.childLanes,x.lanes=w.lanes,x.child=w.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=w.memoizedProps,x.memoizedState=w.memoizedState,x.updateQueue=w.updateQueue,x.type=w.type,t=w.dependencies,x.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Re(Ue,Ue.current&1|2),s.child}t=t.sibling}x.tail!==null&&Ve()>sn&&(s.flags|=128,d=!0,da(x,!1),s.lanes=4194304)}else{if(!d)if(t=ki(w),t!==null){if(s.flags|=128,d=!0,o=t.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),da(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!Me)return ut(s),null}else 2*Ve()-x.renderingStartTime>sn&&o!==1073741824&&(s.flags|=128,d=!0,da(x,!1),s.lanes=4194304);x.isBackwards?(w.sibling=s.child,s.child=w):(o=x.last,o!==null?o.sibling=w:s.child=w,x.last=w)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=Ve(),s.sibling=null,o=Ue.current,Re(Ue,d?o&1|2:o&1),s):(ut(s),null);case 22:case 23:return wc(),d=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Ot&1073741824)!==0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function og(t,s){switch(Al(s),s.tag){case 1:return bt(s.type)&&fi(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Zs(),De(vt),De(ct),ql(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return Fl(s),null;case 13:if(De(Ue),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Qs()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return De(Ue),null;case 4:return Zs(),null;case 10:return $l(s.type._context),null;case 22:case 23:return wc(),null;case 24:return null;default:return null}}var Li=!1,ht=!1,lg=typeof WeakSet=="function"?WeakSet:Set,he=null;function tn(t,s){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){qe(t,s,d)}else o.current=null}function cc(t,s,o){try{o()}catch(d){qe(t,s,d)}}var im=!1;function cg(t,s){if(wl=ei,t=Mu(),ml(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var m=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var w=0,E=-1,O=-1,q=0,X=0,ee=t,Y=null;t:for(;;){for(var le;ee!==o||m!==0&&ee.nodeType!==3||(E=w+m),ee!==x||d!==0&&ee.nodeType!==3||(O=w+d),ee.nodeType===3&&(w+=ee.nodeValue.length),(le=ee.firstChild)!==null;)Y=ee,ee=le;for(;;){if(ee===t)break t;if(Y===o&&++q===m&&(E=w),Y===x&&++X===d&&(O=w),(le=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=le}o=E===-1||O===-1?null:{start:E,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(jl={focusedElem:t,selectionRange:o},ei=!1,he=s;he!==null;)if(s=he,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,he=t;else for(;he!==null;){s=he;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var fe=me.memoizedProps,Ge=me.memoizedState,z=s.stateNode,R=z.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Qt(s.type,fe),Ge);z.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(re){qe(s,s.return,re)}if(t=s.sibling,t!==null){t.return=s.return,he=t;break}he=s.return}return me=im,im=!1,me}function ua(t,s,o){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&t)===t){var x=m.destroy;m.destroy=void 0,x!==void 0&&cc(s,o,x)}m=m.next}while(m!==d)}}function Ii(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&t)===t){var d=o.create;o.destroy=d()}o=o.next}while(o!==s)}}function dc(t){var s=t.ref;if(s!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof s=="function"?s(t):s.current=t}}function om(t){var s=t.alternate;s!==null&&(t.alternate=null,om(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[cr],delete s[ea],delete s[Sl],delete s[Hp],delete s[Vp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lm(t){return t.tag===5||t.tag===3||t.tag===4}function cm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uc(t,s,o){var d=t.tag;if(d===5||d===6)t=t.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(t,s):o.insertBefore(t,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(t,o)):(s=o,s.appendChild(t)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=hi));else if(d!==4&&(t=t.child,t!==null))for(uc(t,s,o),t=t.sibling;t!==null;)uc(t,s,o),t=t.sibling}function hc(t,s,o){var d=t.tag;if(d===5||d===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(d!==4&&(t=t.child,t!==null))for(hc(t,s,o),t=t.sibling;t!==null;)hc(t,s,o),t=t.sibling}var ot=null,Jt=!1;function Wr(t,s,o){for(o=o.child;o!==null;)dm(t,s,o),o=o.sibling}function dm(t,s,o){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Ka,o)}catch{}switch(o.tag){case 5:ht||tn(o,s);case 6:var d=ot,m=Jt;ot=null,Wr(t,s,o),ot=d,Jt=m,ot!==null&&(Jt?(t=ot,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):ot.removeChild(o.stateNode));break;case 18:ot!==null&&(Jt?(t=ot,o=o.stateNode,t.nodeType===8?kl(t.parentNode,o):t.nodeType===1&&kl(t,o),qn(t)):kl(ot,o.stateNode));break;case 4:d=ot,m=Jt,ot=o.stateNode.containerInfo,Jt=!0,Wr(t,s,o),ot=d,Jt=m;break;case 0:case 11:case 14:case 15:if(!ht&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var x=m,w=x.destroy;x=x.tag,w!==void 0&&((x&2)!==0||(x&4)!==0)&&cc(o,s,w),m=m.next}while(m!==d)}Wr(t,s,o);break;case 1:if(!ht&&(tn(o,s),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(E){qe(o,s,E)}Wr(t,s,o);break;case 21:Wr(t,s,o);break;case 22:o.mode&1?(ht=(d=ht)||o.memoizedState!==null,Wr(t,s,o),ht=d):Wr(t,s,o);break;default:Wr(t,s,o)}}function um(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new lg),s.forEach(function(d){var m=yg.bind(null,t,d);o.has(d)||(o.add(d),d.then(m,m))})}}function Yt(t,s){var o=s.deletions;if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];try{var x=t,w=s,E=w;e:for(;E!==null;){switch(E.tag){case 5:ot=E.stateNode,Jt=!1;break e;case 3:ot=E.stateNode.containerInfo,Jt=!0;break e;case 4:ot=E.stateNode.containerInfo,Jt=!0;break e}E=E.return}if(ot===null)throw Error(n(160));dm(x,w,m),ot=null,Jt=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(q){qe(m,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)hm(s,t),s=s.sibling}function hm(t,s){var o=t.alternate,d=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(s,t),hr(t),d&4){try{ua(3,t,t.return),Ii(3,t)}catch(fe){qe(t,t.return,fe)}try{ua(5,t,t.return)}catch(fe){qe(t,t.return,fe)}}break;case 1:Yt(s,t),hr(t),d&512&&o!==null&&tn(o,o.return);break;case 5:if(Yt(s,t),hr(t),d&512&&o!==null&&tn(o,o.return),t.flags&32){var m=t.stateNode;try{ls(m,"")}catch(fe){qe(t,t.return,fe)}}if(d&4&&(m=t.stateNode,m!=null)){var x=t.memoizedProps,w=o!==null?o.memoizedProps:x,E=t.type,O=t.updateQueue;if(t.updateQueue=null,O!==null)try{E==="input"&&x.type==="radio"&&x.name!=null&&ne(m,x),qo(E,w);var q=qo(E,x);for(w=0;w<O.length;w+=2){var X=O[w],ee=O[w+1];X==="style"?Kd(m,ee):X==="dangerouslySetInnerHTML"?Wa(m,ee):X==="children"?ls(m,ee):S(m,X,ee,q)}switch(E){case"input":ye(m,x);break;case"textarea":Rs(m,x);break;case"select":var Y=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!x.multiple;var le=x.value;le!=null?Ye(m,!!x.multiple,le,!1):Y!==!!x.multiple&&(x.defaultValue!=null?Ye(m,!!x.multiple,x.defaultValue,!0):Ye(m,!!x.multiple,x.multiple?[]:"",!1))}m[ea]=x}catch(fe){qe(t,t.return,fe)}}break;case 6:if(Yt(s,t),hr(t),d&4){if(t.stateNode===null)throw Error(n(162));m=t.stateNode,x=t.memoizedProps;try{m.nodeValue=x}catch(fe){qe(t,t.return,fe)}}break;case 3:if(Yt(s,t),hr(t),d&4&&o!==null&&o.memoizedState.isDehydrated)try{qn(s.containerInfo)}catch(fe){qe(t,t.return,fe)}break;case 4:Yt(s,t),hr(t);break;case 13:Yt(s,t),hr(t),m=t.child,m.flags&8192&&(x=m.memoizedState!==null,m.stateNode.isHidden=x,!x||m.alternate!==null&&m.alternate.memoizedState!==null||(xc=Ve())),d&4&&um(t);break;case 22:if(X=o!==null&&o.memoizedState!==null,t.mode&1?(ht=(q=ht)||X,Yt(s,t),ht=q):Yt(s,t),hr(t),d&8192){if(q=t.memoizedState!==null,(t.stateNode.isHidden=q)&&!X&&(t.mode&1)!==0)for(he=t,X=t.child;X!==null;){for(ee=he=X;he!==null;){switch(Y=he,le=Y.child,Y.tag){case 0:case 11:case 14:case 15:ua(4,Y,Y.return);break;case 1:tn(Y,Y.return);var me=Y.stateNode;if(typeof me.componentWillUnmount=="function"){d=Y,o=Y.return;try{s=d,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(fe){qe(d,o,fe)}}break;case 5:tn(Y,Y.return);break;case 22:if(Y.memoizedState!==null){xm(ee);continue}}le!==null?(le.return=Y,he=le):xm(ee)}X=X.sibling}e:for(X=null,ee=t;;){if(ee.tag===5){if(X===null){X=ee;try{m=ee.stateNode,q?(x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(E=ee.stateNode,O=ee.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,E.style.display=Gd("display",w))}catch(fe){qe(t,t.return,fe)}}}else if(ee.tag===6){if(X===null)try{ee.stateNode.nodeValue=q?"":ee.memoizedProps}catch(fe){qe(t,t.return,fe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===t)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===t)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===t)break e;X===ee&&(X=null),ee=ee.return}X===ee&&(X=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Yt(s,t),hr(t),d&4&&um(t);break;case 21:break;default:Yt(s,t),hr(t)}}function hr(t){var s=t.flags;if(s&2){try{e:{for(var o=t.return;o!==null;){if(lm(o)){var d=o;break e}o=o.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ls(m,""),d.flags&=-33);var x=cm(t);hc(t,x,m);break;case 3:case 4:var w=d.stateNode.containerInfo,E=cm(t);uc(t,E,w);break;default:throw Error(n(161))}}catch(O){qe(t,t.return,O)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function dg(t,s,o){he=t,mm(t)}function mm(t,s,o){for(var d=(t.mode&1)!==0;he!==null;){var m=he,x=m.child;if(m.tag===22&&d){var w=m.memoizedState!==null||Li;if(!w){var E=m.alternate,O=E!==null&&E.memoizedState!==null||ht;E=Li;var q=ht;if(Li=w,(ht=O)&&!q)for(he=m;he!==null;)w=he,O=w.child,w.tag===22&&w.memoizedState!==null?pm(m):O!==null?(O.return=w,he=O):pm(m);for(;x!==null;)he=x,mm(x),x=x.sibling;he=m,Li=E,ht=q}fm(t)}else(m.subtreeFlags&8772)!==0&&x!==null?(x.return=m,he=x):fm(t)}}function fm(t){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ht||Ii(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!ht)if(o===null)d.componentDidMount();else{var m=s.elementType===s.type?o.memoizedProps:Qt(s.type,o.memoizedProps);d.componentDidUpdate(m,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=s.updateQueue;x!==null&&xh(s,x,d);break;case 3:var w=s.updateQueue;if(w!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}xh(s,w,o)}break;case 5:var E=s.stateNode;if(o===null&&s.flags&4){o=E;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&o.focus();break;case"img":O.src&&(o.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var X=q.memoizedState;if(X!==null){var ee=X.dehydrated;ee!==null&&qn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ht||s.flags&512&&dc(s)}catch(Y){qe(s,s.return,Y)}}if(s===t){he=null;break}if(o=s.sibling,o!==null){o.return=s.return,he=o;break}he=s.return}}function xm(t){for(;he!==null;){var s=he;if(s===t){he=null;break}var o=s.sibling;if(o!==null){o.return=s.return,he=o;break}he=s.return}}function pm(t){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Ii(4,s)}catch(O){qe(s,o,O)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(O){qe(s,m,O)}}var x=s.return;try{dc(s)}catch(O){qe(s,x,O)}break;case 5:var w=s.return;try{dc(s)}catch(O){qe(s,w,O)}}}catch(O){qe(s,s.return,O)}if(s===t){he=null;break}var E=s.sibling;if(E!==null){E.return=s.return,he=E;break}he=s.return}}var ug=Math.ceil,$i=F.ReactCurrentDispatcher,mc=F.ReactCurrentOwner,Ft=F.ReactCurrentBatchConfig,Se=0,rt=null,Qe=null,lt=0,Ot=0,rn=zr(0),Ze=0,ha=null,gs=0,Di=0,fc=0,ma=null,jt=null,xc=0,sn=1/0,Nr=null,Mi=!1,pc=null,Hr=null,zi=!1,Vr=null,Ui=0,fa=0,gc=null,Fi=-1,Bi=0;function gt(){return(Se&6)!==0?Ve():Fi!==-1?Fi:Fi=Ve()}function Gr(t){return(t.mode&1)===0?1:(Se&2)!==0&&lt!==0?lt&-lt:Kp.transition!==null?(Bi===0&&(Bi=cu()),Bi):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:yu(t.type)),t)}function Xt(t,s,o,d){if(50<fa)throw fa=0,gc=null,Error(n(185));Mn(t,o,d),((Se&2)===0||t!==rt)&&(t===rt&&((Se&2)===0&&(Di|=o),Ze===4&&Kr(t,lt)),Nt(t,d),o===1&&Se===0&&(s.mode&1)===0&&(sn=Ve()+500,pi&&Fr()))}function Nt(t,s){var o=t.callbackNode;Kx(t,s);var d=Ya(t,t===rt?lt:0);if(d===0)o!==null&&iu(o),t.callbackNode=null,t.callbackPriority=0;else if(s=d&-d,t.callbackPriority!==s){if(o!=null&&iu(o),s===1)t.tag===0?Gp(ym.bind(null,t)):sh(ym.bind(null,t)),qp(function(){(Se&6)===0&&Fr()}),o=null;else{switch(du(d)){case 1:o=Jo;break;case 4:o=ou;break;case 16:o=Ga;break;case 536870912:o=lu;break;default:o=Ga}o=Sm(o,gm.bind(null,t))}t.callbackPriority=s,t.callbackNode=o}}function gm(t,s){if(Fi=-1,Bi=0,(Se&6)!==0)throw Error(n(327));var o=t.callbackNode;if(nn()&&t.callbackNode!==o)return null;var d=Ya(t,t===rt?lt:0);if(d===0)return null;if((d&30)!==0||(d&t.expiredLanes)!==0||s)s=qi(t,d);else{s=d;var m=Se;Se|=2;var x=bm();(rt!==t||lt!==s)&&(Nr=null,sn=Ve()+500,vs(t,s));do try{fg();break}catch(E){vm(t,E)}while(!0);Il(),$i.current=x,Se=m,Qe!==null?s=0:(rt=null,lt=0,s=Ze)}if(s!==0){if(s===2&&(m=Yo(t),m!==0&&(d=m,s=yc(t,m))),s===1)throw o=ha,vs(t,0),Kr(t,d),Nt(t,Ve()),o;if(s===6)Kr(t,d);else{if(m=t.current.alternate,(d&30)===0&&!hg(m)&&(s=qi(t,d),s===2&&(x=Yo(t),x!==0&&(d=x,s=yc(t,x))),s===1))throw o=ha,vs(t,0),Kr(t,d),Nt(t,Ve()),o;switch(t.finishedWork=m,t.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:bs(t,jt,Nr);break;case 3:if(Kr(t,d),(d&130023424)===d&&(s=xc+500-Ve(),10<s)){if(Ya(t,0)!==0)break;if(m=t.suspendedLanes,(m&d)!==d){gt(),t.pingedLanes|=t.suspendedLanes&m;break}t.timeoutHandle=_l(bs.bind(null,t,jt,Nr),s);break}bs(t,jt,Nr);break;case 4:if(Kr(t,d),(d&4194240)===d)break;for(s=t.eventTimes,m=-1;0<d;){var w=31-Vt(d);x=1<<w,w=s[w],w>m&&(m=w),d&=~x}if(d=m,d=Ve()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*ug(d/1960))-d,10<d){t.timeoutHandle=_l(bs.bind(null,t,jt,Nr),d);break}bs(t,jt,Nr);break;case 5:bs(t,jt,Nr);break;default:throw Error(n(329))}}}return Nt(t,Ve()),t.callbackNode===o?gm.bind(null,t):null}function yc(t,s){var o=ma;return t.current.memoizedState.isDehydrated&&(vs(t,s).flags|=256),t=qi(t,s),t!==2&&(s=jt,jt=o,s!==null&&vc(s)),t}function vc(t){jt===null?jt=t:jt.push.apply(jt,t)}function hg(t){for(var s=t;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var m=o[d],x=m.getSnapshot;m=m.value;try{if(!Gt(x(),m))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Kr(t,s){for(s&=~fc,s&=~Di,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var o=31-Vt(s),d=1<<o;t[o]=-1,s&=~d}}function ym(t){if((Se&6)!==0)throw Error(n(327));nn();var s=Ya(t,0);if((s&1)===0)return Nt(t,Ve()),null;var o=qi(t,s);if(t.tag!==0&&o===2){var d=Yo(t);d!==0&&(s=d,o=yc(t,d))}if(o===1)throw o=ha,vs(t,0),Kr(t,s),Nt(t,Ve()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,bs(t,jt,Nr),Nt(t,Ve()),null}function bc(t,s){var o=Se;Se|=1;try{return t(s)}finally{Se=o,Se===0&&(sn=Ve()+500,pi&&Fr())}}function ys(t){Vr!==null&&Vr.tag===0&&(Se&6)===0&&nn();var s=Se;Se|=1;var o=Ft.transition,d=Oe;try{if(Ft.transition=null,Oe=1,t)return t()}finally{Oe=d,Ft.transition=o,Se=s,(Se&6)===0&&Fr()}}function wc(){Ot=rn.current,De(rn)}function vs(t,s){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Bp(o)),Qe!==null)for(o=Qe.return;o!==null;){var d=o;switch(Al(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&fi();break;case 3:Zs(),De(vt),De(ct),ql();break;case 5:Fl(d);break;case 4:Zs();break;case 13:De(Ue);break;case 19:De(Ue);break;case 10:$l(d.type._context);break;case 22:case 23:wc()}o=o.return}if(rt=t,Qe=t=Qr(t.current,null),lt=Ot=s,Ze=0,ha=null,fc=Di=gs=0,jt=ma=null,fs!==null){for(s=0;s<fs.length;s++)if(o=fs[s],d=o.interleaved,d!==null){o.interleaved=null;var m=d.next,x=o.pending;if(x!==null){var w=x.next;x.next=m,d.next=w}o.pending=d}fs=null}return t}function vm(t,s){do{var o=Qe;try{if(Il(),Si.current=Ai,Ci){for(var d=Fe.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Ci=!1}if(ps=0,tt=Xe=Fe=null,ia=!1,oa=0,mc.current=null,o===null||o.return===null){Ze=1,ha=s,Qe=null;break}e:{var x=t,w=o.return,E=o,O=s;if(s=lt,E.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=O,X=E,ee=X.tag;if((X.mode&1)===0&&(ee===0||ee===11||ee===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var le=Wh(w);if(le!==null){le.flags&=-257,Hh(le,w,E,x,s),le.mode&1&&qh(x,q,s),s=le,O=q;var me=s.updateQueue;if(me===null){var fe=new Set;fe.add(O),s.updateQueue=fe}else me.add(O);break e}else{if((s&1)===0){qh(x,q,s),jc();break e}O=Error(n(426))}}else if(Me&&E.mode&1){var Ge=Wh(w);if(Ge!==null){(Ge.flags&65536)===0&&(Ge.flags|=256),Hh(Ge,w,E,x,s),Rl(en(O,E));break e}}x=O=en(O,E),Ze!==4&&(Ze=2),ma===null?ma=[x]:ma.push(x),x=w;do{switch(x.tag){case 3:x.flags|=65536,s&=-s,x.lanes|=s;var z=Fh(x,O,s);fh(x,z);break e;case 1:E=O;var R=x.type,U=x.stateNode;if((x.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Hr===null||!Hr.has(U)))){x.flags|=65536,s&=-s,x.lanes|=s;var re=Bh(x,E,s);fh(x,re);break e}}x=x.return}while(x!==null)}jm(o)}catch(pe){s=pe,Qe===o&&o!==null&&(Qe=o=o.return);continue}break}while(!0)}function bm(){var t=$i.current;return $i.current=Ai,t===null?Ai:t}function jc(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),rt===null||(gs&268435455)===0&&(Di&268435455)===0||Kr(rt,lt)}function qi(t,s){var o=Se;Se|=2;var d=bm();(rt!==t||lt!==s)&&(Nr=null,vs(t,s));do try{mg();break}catch(m){vm(t,m)}while(!0);if(Il(),Se=o,$i.current=d,Qe!==null)throw Error(n(261));return rt=null,lt=0,Ze}function mg(){for(;Qe!==null;)wm(Qe)}function fg(){for(;Qe!==null&&!zx();)wm(Qe)}function wm(t){var s=km(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,s===null?jm(t):Qe=s,mc.current=null}function jm(t){var s=t;do{var o=s.alternate;if(t=s.return,(s.flags&32768)===0){if(o=ig(o,s,Ot),o!==null){Qe=o;return}}else{if(o=og(o,s),o!==null){o.flags&=32767,Qe=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Qe=null;return}}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=t}while(s!==null);Ze===0&&(Ze=5)}function bs(t,s,o){var d=Oe,m=Ft.transition;try{Ft.transition=null,Oe=1,xg(t,s,o,d)}finally{Ft.transition=m,Oe=d}return null}function xg(t,s,o,d){do nn();while(Vr!==null);if((Se&6)!==0)throw Error(n(327));o=t.finishedWork;var m=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var x=o.lanes|o.childLanes;if(Qx(t,x),t===rt&&(Qe=rt=null,lt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||zi||(zi=!0,Sm(Ga,function(){return nn(),null})),x=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||x){x=Ft.transition,Ft.transition=null;var w=Oe;Oe=1;var E=Se;Se|=4,mc.current=null,cg(t,o),hm(o,t),Ip(jl),ei=!!wl,jl=wl=null,t.current=o,dg(o),Ux(),Se=E,Oe=w,Ft.transition=x}else t.current=o;if(zi&&(zi=!1,Vr=t,Ui=m),x=t.pendingLanes,x===0&&(Hr=null),qx(o.stateNode),Nt(t,Ve()),s!==null)for(d=t.onRecoverableError,o=0;o<s.length;o++)m=s[o],d(m.value,{componentStack:m.stack,digest:m.digest});if(Mi)throw Mi=!1,t=pc,pc=null,t;return(Ui&1)!==0&&t.tag!==0&&nn(),x=t.pendingLanes,(x&1)!==0?t===gc?fa++:(fa=0,gc=t):fa=0,Fr(),null}function nn(){if(Vr!==null){var t=du(Ui),s=Ft.transition,o=Oe;try{if(Ft.transition=null,Oe=16>t?16:t,Vr===null)var d=!1;else{if(t=Vr,Vr=null,Ui=0,(Se&6)!==0)throw Error(n(331));var m=Se;for(Se|=4,he=t.current;he!==null;){var x=he,w=x.child;if((he.flags&16)!==0){var E=x.deletions;if(E!==null){for(var O=0;O<E.length;O++){var q=E[O];for(he=q;he!==null;){var X=he;switch(X.tag){case 0:case 11:case 15:ua(8,X,x)}var ee=X.child;if(ee!==null)ee.return=X,he=ee;else for(;he!==null;){X=he;var Y=X.sibling,le=X.return;if(om(X),X===q){he=null;break}if(Y!==null){Y.return=le,he=Y;break}he=le}}}var me=x.alternate;if(me!==null){var fe=me.child;if(fe!==null){me.child=null;do{var Ge=fe.sibling;fe.sibling=null,fe=Ge}while(fe!==null)}}he=x}}if((x.subtreeFlags&2064)!==0&&w!==null)w.return=x,he=w;else e:for(;he!==null;){if(x=he,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ua(9,x,x.return)}var z=x.sibling;if(z!==null){z.return=x.return,he=z;break e}he=x.return}}var R=t.current;for(he=R;he!==null;){w=he;var U=w.child;if((w.subtreeFlags&2064)!==0&&U!==null)U.return=w,he=U;else e:for(w=R;he!==null;){if(E=he,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Ii(9,E)}}catch(pe){qe(E,E.return,pe)}if(E===w){he=null;break e}var re=E.sibling;if(re!==null){re.return=E.return,he=re;break e}he=E.return}}if(Se=m,Fr(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Ka,t)}catch{}d=!0}return d}finally{Oe=o,Ft.transition=s}}return!1}function Nm(t,s,o){s=en(o,s),s=Fh(t,s,1),t=qr(t,s,1),s=gt(),t!==null&&(Mn(t,1,s),Nt(t,s))}function qe(t,s,o){if(t.tag===3)Nm(t,t,o);else for(;s!==null;){if(s.tag===3){Nm(s,t,o);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))){t=en(o,t),t=Bh(s,t,1),s=qr(s,t,1),t=gt(),s!==null&&(Mn(s,1,t),Nt(s,t));break}}s=s.return}}function pg(t,s,o){var d=t.pingCache;d!==null&&d.delete(s),s=gt(),t.pingedLanes|=t.suspendedLanes&o,rt===t&&(lt&o)===o&&(Ze===4||Ze===3&&(lt&130023424)===lt&&500>Ve()-xc?vs(t,0):fc|=o),Nt(t,s)}function _m(t,s){s===0&&((t.mode&1)===0?s=1:(s=Ja,Ja<<=1,(Ja&130023424)===0&&(Ja=4194304)));var o=gt();t=br(t,s),t!==null&&(Mn(t,s,o),Nt(t,o))}function gg(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),_m(t,o)}function yg(t,s){var o=0;switch(t.tag){case 13:var d=t.stateNode,m=t.memoizedState;m!==null&&(o=m.retryLane);break;case 19:d=t.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),_m(t,o)}var km;km=function(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps||vt.current)wt=!0;else{if((t.lanes&o)===0&&(s.flags&128)===0)return wt=!1,ag(t,s,o);wt=(t.flags&131072)!==0}else wt=!1,Me&&(s.flags&1048576)!==0&&nh(s,yi,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Ri(t,s),t=s.pendingProps;var m=Vs(s,ct.current);Xs(s,o),m=Vl(null,s,d,t,m,o);var x=Gl();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,bt(d)?(x=!0,xi(s)):x=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,zl(s),m.updater=Oi,s.stateNode=m,m._reactInternals=s,Zl(s,d,t,o),s=sc(null,s,d,!0,x,o)):(s.tag=0,Me&&x&&Pl(s),pt(null,s,m,o),s=s.child),s;case 16:d=s.elementType;e:{switch(Ri(t,s),t=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=bg(d),t=Qt(d,t),m){case 0:s=rc(null,s,d,t,o);break e;case 1:s=Yh(null,s,d,t,o);break e;case 11:s=Vh(null,s,d,t,o);break e;case 14:s=Gh(null,s,d,Qt(d.type,t),o);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Qt(d,m),rc(t,s,d,m,o);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Qt(d,m),Yh(t,s,d,m,o);case 3:e:{if(Xh(s),t===null)throw Error(n(387));d=s.pendingProps,x=s.memoizedState,m=x.element,mh(t,s),_i(s,d,null,o);var w=s.memoizedState;if(d=w.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){m=en(Error(n(423)),s),s=Zh(t,s,d,o,m);break e}else if(d!==m){m=en(Error(n(424)),s),s=Zh(t,s,d,o,m);break e}else for(At=Mr(s.stateNode.containerInfo.firstChild),Pt=s,Me=!0,Kt=null,o=uh(s,null,d,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Qs(),d===m){s=jr(t,s,o);break e}pt(t,s,d,o)}s=s.child}return s;case 5:return ph(s),t===null&&Tl(s),d=s.type,m=s.pendingProps,x=t!==null?t.memoizedProps:null,w=m.children,Nl(d,m)?w=null:x!==null&&Nl(d,x)&&(s.flags|=32),Jh(t,s),pt(t,s,w,o),s.child;case 6:return t===null&&Tl(s),null;case 13:return em(t,s,o);case 4:return Ul(s,s.stateNode.containerInfo),d=s.pendingProps,t===null?s.child=Js(s,null,d,o):pt(t,s,d,o),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Qt(d,m),Vh(t,s,d,m,o);case 7:return pt(t,s,s.pendingProps,o),s.child;case 8:return pt(t,s,s.pendingProps.children,o),s.child;case 12:return pt(t,s,s.pendingProps.children,o),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,x=s.memoizedProps,w=m.value,Re(wi,d._currentValue),d._currentValue=w,x!==null)if(Gt(x.value,w)){if(x.children===m.children&&!vt.current){s=jr(t,s,o);break e}}else for(x=s.child,x!==null&&(x.return=s);x!==null;){var E=x.dependencies;if(E!==null){w=x.child;for(var O=E.firstContext;O!==null;){if(O.context===d){if(x.tag===1){O=wr(-1,o&-o),O.tag=2;var q=x.updateQueue;if(q!==null){q=q.shared;var X=q.pending;X===null?O.next=O:(O.next=X.next,X.next=O),q.pending=O}}x.lanes|=o,O=x.alternate,O!==null&&(O.lanes|=o),Dl(x.return,o,s),E.lanes|=o;break}O=O.next}}else if(x.tag===10)w=x.type===s.type?null:x.child;else if(x.tag===18){if(w=x.return,w===null)throw Error(n(341));w.lanes|=o,E=w.alternate,E!==null&&(E.lanes|=o),Dl(w,o,s),w=x.sibling}else w=x.child;if(w!==null)w.return=x;else for(w=x;w!==null;){if(w===s){w=null;break}if(x=w.sibling,x!==null){x.return=w.return,w=x;break}w=w.return}x=w}pt(t,s,m.children,o),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,Xs(s,o),m=zt(m),d=d(m),s.flags|=1,pt(t,s,d,o),s.child;case 14:return d=s.type,m=Qt(d,s.pendingProps),m=Qt(d.type,m),Gh(t,s,d,m,o);case 15:return Kh(t,s,s.type,s.pendingProps,o);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Qt(d,m),Ri(t,s),s.tag=1,bt(d)?(t=!0,xi(s)):t=!1,Xs(s,o),zh(s,d,m),Zl(s,d,m,o),sc(null,s,d,!0,t,o);case 19:return rm(t,s,o);case 22:return Qh(t,s,o)}throw Error(n(156,s.tag))};function Sm(t,s){return au(t,s)}function vg(t,s,o,d){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,s,o,d){return new vg(t,s,o,d)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bg(t){if(typeof t=="function")return Nc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===B)return 11;if(t===ie)return 14}return 2}function Qr(t,s){var o=t.alternate;return o===null?(o=Bt(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Wi(t,s,o,d,m,x){var w=2;if(d=t,typeof t=="function")Nc(t)&&(w=1);else if(typeof t=="string")w=5;else e:switch(t){case D:return ws(o.children,m,x,s);case I:w=8,m|=8;break;case H:return t=Bt(12,o,s,m|2),t.elementType=H,t.lanes=x,t;case V:return t=Bt(13,o,s,m),t.elementType=V,t.lanes=x,t;case J:return t=Bt(19,o,s,m),t.elementType=J,t.lanes=x,t;case ge:return Hi(o,m,x,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:w=10;break e;case W:w=9;break e;case B:w=11;break e;case ie:w=14;break e;case ae:w=16,d=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return s=Bt(w,o,s,m),s.elementType=t,s.type=d,s.lanes=x,s}function ws(t,s,o,d){return t=Bt(7,t,d,s),t.lanes=o,t}function Hi(t,s,o,d){return t=Bt(22,t,d,s),t.elementType=ge,t.lanes=o,t.stateNode={isHidden:!1},t}function _c(t,s,o){return t=Bt(6,t,null,s),t.lanes=o,t}function kc(t,s,o){return s=Bt(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function wg(t,s,o,d,m){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Sc(t,s,o,d,m,x,w,E,O){return t=new wg(t,s,o,E,O),s===1?(s=1,x===!0&&(s|=8)):s=0,x=Bt(3,null,null,s),t.current=x,x.stateNode=t,x.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(x),t}function jg(t,s,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:d==null?null:""+d,children:t,containerInfo:s,implementation:o}}function Cm(t){if(!t)return Ur;t=t._reactInternals;e:{if(cs(t)!==t||t.tag!==1)throw Error(n(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(bt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(bt(o))return th(t,o,s)}return s}function Em(t,s,o,d,m,x,w,E,O){return t=Sc(o,d,!0,t,m,x,w,E,O),t.context=Cm(null),o=t.current,d=gt(),m=Gr(o),x=wr(d,m),x.callback=s??null,qr(o,x,m),t.current.lanes=m,Mn(t,m,d),Nt(t,d),t}function Vi(t,s,o,d){var m=s.current,x=gt(),w=Gr(m);return o=Cm(o),s.context===null?s.context=o:s.pendingContext=o,s=wr(x,w),s.payload={element:t},d=d===void 0?null:d,d!==null&&(s.callback=d),t=qr(m,s,w),t!==null&&(Xt(t,m,w,x),Ni(t,m,w)),w}function Gi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function Cc(t,s){Pm(t,s),(t=t.alternate)&&Pm(t,s)}function Ng(){return null}var Am=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ec(t){this._internalRoot=t}Ki.prototype.render=Ec.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(n(409));Vi(t,s,null,null)},Ki.prototype.unmount=Ec.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;ys(function(){Vi(null,t,null,null)}),s[pr]=null}};function Ki(t){this._internalRoot=t}Ki.prototype.unstable_scheduleHydration=function(t){if(t){var s=mu();t={blockedOn:null,target:t,priority:s};for(var o=0;o<Ir.length&&s!==0&&s<Ir[o].priority;o++);Ir.splice(o,0,t),o===0&&pu(t)}};function Pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Om(){}function _g(t,s,o,d,m){if(m){if(typeof d=="function"){var x=d;d=function(){var q=Gi(w);x.call(q)}}var w=Em(s,d,t,0,null,!1,!1,"",Om);return t._reactRootContainer=w,t[pr]=w.current,Xn(t.nodeType===8?t.parentNode:t),ys(),w}for(;m=t.lastChild;)t.removeChild(m);if(typeof d=="function"){var E=d;d=function(){var q=Gi(O);E.call(q)}}var O=Sc(t,0,!1,null,null,!1,!1,"",Om);return t._reactRootContainer=O,t[pr]=O.current,Xn(t.nodeType===8?t.parentNode:t),ys(function(){Vi(s,O,o,d)}),O}function Ji(t,s,o,d,m){var x=o._reactRootContainer;if(x){var w=x;if(typeof m=="function"){var E=m;m=function(){var O=Gi(w);E.call(O)}}Vi(s,w,t,m)}else w=_g(o,s,t,m,d);return Gi(w)}uu=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var o=Dn(s.pendingLanes);o!==0&&(Zo(s,o|1),Nt(s,Ve()),(Se&6)===0&&(sn=Ve()+500,Fr()))}break;case 13:ys(function(){var d=br(t,1);if(d!==null){var m=gt();Xt(d,t,1,m)}}),Cc(t,1)}},el=function(t){if(t.tag===13){var s=br(t,134217728);if(s!==null){var o=gt();Xt(s,t,134217728,o)}Cc(t,134217728)}},hu=function(t){if(t.tag===13){var s=Gr(t),o=br(t,s);if(o!==null){var d=gt();Xt(o,t,s,d)}Cc(t,s)}},mu=function(){return Oe},fu=function(t,s){var o=Oe;try{return Oe=t,s()}finally{Oe=o}},Vo=function(t,s,o){switch(s){case"input":if(ye(t,o),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var d=o[s];if(d!==t&&d.form===t.form){var m=mi(d);if(!m)throw Error(n(90));at(d),ye(d,m)}}}break;case"textarea":Rs(t,o);break;case"select":s=o.value,s!=null&&Ye(t,!!o.multiple,s,!1)}},Xd=bc,Zd=ys;var kg={usingClientEntryPoint:!1,Events:[ta,Ws,mi,Jd,Yd,bc]},xa={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sg={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=su(t),t===null?null:t.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||Ng,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yi.isDisabled&&Yi.supportsFiber)try{Ka=Yi.inject(Sg),lr=Yi}catch{}}return _t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kg,_t.createPortal=function(t,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(s))throw Error(n(200));return jg(t,s,null,o)},_t.createRoot=function(t,s){if(!Pc(t))throw Error(n(299));var o=!1,d="",m=Am;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Sc(t,1,!1,null,null,o,!1,d,m),t[pr]=s.current,Xn(t.nodeType===8?t.parentNode:t),new Ec(s)},_t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=su(s),t=t===null?null:t.stateNode,t},_t.flushSync=function(t){return ys(t)},_t.hydrate=function(t,s,o){if(!Qi(s))throw Error(n(200));return Ji(null,t,s,!0,o)},_t.hydrateRoot=function(t,s,o){if(!Pc(t))throw Error(n(405));var d=o!=null&&o.hydratedSources||null,m=!1,x="",w=Am;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),s=Em(s,null,t,1,o??null,m,!1,x,w),t[pr]=s.current,Xn(t),d)for(t=0;t<d.length;t++)o=d[t],m=o._getVersion,m=m(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,m]:s.mutableSourceEagerHydrationData.push(o,m);return new Ki(s)},_t.render=function(t,s,o){if(!Qi(s))throw Error(n(200));return Ji(null,t,s,!1,o)},_t.unmountComponentAtNode=function(t){if(!Qi(t))throw Error(n(40));return t._reactRootContainer?(ys(function(){Ji(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1},_t.unstable_batchedUpdates=bc,_t.unstable_renderSubtreeIntoContainer=function(t,s,o,d){if(!Qi(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Ji(t,s,o,!1,d)},_t.version="18.3.1-next-f1338f8080-20240426",_t}var zm;function Ig(){if(zm)return Tc.exports;zm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),Tc.exports=Lg(),Tc.exports}var Um;function $g(){if(Um)return Xi;Um=1;var a=Ig();return Xi.createRoot=a.createRoot,Xi.hydrateRoot=a.hydrateRoot,Xi}var Dg=$g(),v=yd();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fm="popstate";function Mg(a={}){function r(i,l){let{pathname:c,search:u,hash:h}=i.location;return Zc("",{pathname:c,search:u,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:Sa(l)}return Ug(r,n,null,a)}function ze(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function Wt(a,r){if(!a){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function zg(){return Math.random().toString(36).substring(2,10)}function Bm(a,r){return{usr:a.state,key:a.key,idx:r}}function Zc(a,r,n=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof r=="string"?Nn(r):r,state:n,key:r&&r.key||i||zg()}}function Sa({pathname:a="/",search:r="",hash:n=""}){return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function Nn(a){let r={};if(a){let n=a.indexOf("#");n>=0&&(r.hash=a.substring(n),a=a.substring(0,n));let i=a.indexOf("?");i>=0&&(r.search=a.substring(i),a=a.substring(0,i)),a&&(r.pathname=a)}return r}function Ug(a,r,n,i={}){let{window:l=document.defaultView,v5Compat:c=!1}=i,u=l.history,h="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){h="POP";let C=g(),A=C==null?null:C-p;p=C,f&&f({action:h,location:k.location,delta:A})}function j(C,A){h="PUSH";let N=Zc(k.location,C,A);p=g()+1;let S=Bm(N,p),F=k.createHref(N);try{u.pushState(S,"",F)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;l.location.assign(F)}c&&f&&f({action:h,location:k.location,delta:1})}function b(C,A){h="REPLACE";let N=Zc(k.location,C,A);p=g();let S=Bm(N,p),F=k.createHref(N);u.replaceState(S,"",F),c&&f&&f({action:h,location:k.location,delta:0})}function _(C){return Fg(C)}let k={get action(){return h},get location(){return a(l,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(Fm,y),f=C,()=>{l.removeEventListener(Fm,y),f=null}},createHref(C){return r(l,C)},createURL:_,encodeLocation(C){let A=_(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:j,replace:b,go(C){return u.go(C)}};return k}function Fg(a,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ze(n,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:Sa(a);return i=i.replace(/ $/,"%20"),!r&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function z0(a,r,n="/"){return Bg(a,r,n,!1)}function Bg(a,r,n,i){let l=typeof r=="string"?Nn(r):r,c=Er(l.pathname||"/",n);if(c==null)return null;let u=U0(a);qg(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=ey(c);h=Xg(u[f],p,i)}return h}function U0(a,r=[],n=[],i="",l=!1){let c=(u,h,f=l,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;ze(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let y=Sr([i,g.relativePath]),j=n.concat(g);u.children&&u.children.length>0&&(ze(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),U0(u.children,r,j,y,f)),!(u.path==null&&!u.index)&&r.push({path:y,score:Jg(y,u.index),routesMeta:j})};return a.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))c(u,h);else for(let f of F0(u.path))c(u,h,!0,f)}),r}function F0(a){let r=a.split("/");if(r.length===0)return[];let[n,...i]=r,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let u=F0(i.join("/")),h=[];return h.push(...u.map(f=>f===""?c:[c,f].join("/"))),l&&h.push(...u),h.map(f=>a.startsWith("/")&&f===""?"/":f)}function qg(a){a.sort((r,n)=>r.score!==n.score?n.score-r.score:Yg(r.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Wg=/^:[\w-]+$/,Hg=3,Vg=2,Gg=1,Kg=10,Qg=-2,qm=a=>a==="*";function Jg(a,r){let n=a.split("/"),i=n.length;return n.some(qm)&&(i+=Qg),r&&(i+=Vg),n.filter(l=>!qm(l)).reduce((l,c)=>l+(Wg.test(c)?Hg:c===""?Gg:Kg),i)}function Yg(a,r){return a.length===r.length&&a.slice(0,-1).every((i,l)=>i===r[l])?a[a.length-1]-r[r.length-1]:0}function Xg(a,r,n=!1){let{routesMeta:i}=a,l={},c="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,g=c==="/"?r:r.slice(c.length)||"/",y=vo({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),j=f.route;if(!y&&p&&n&&!i[i.length-1].route.index&&(y=vo({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(l,y.params),u.push({params:l,pathname:Sr([c,y.pathname]),pathnameBase:ny(Sr([c,y.pathnameBase])),route:j}),y.pathnameBase!=="/"&&(c=Sr([c,y.pathnameBase]))}return u}function vo(a,r){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,i]=Zg(a.path,a.caseSensitive,a.end),l=r.match(n);if(!l)return null;let c=l[0],u=c.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:y},j)=>{if(g==="*"){let _=h[j]||"";u=c.slice(0,c.length-_.length).replace(/(.)\/+$/,"$1")}const b=h[j];return y&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:u,pattern:a}}function Zg(a,r=!1,n=!0){Wt(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),i]}function ey(a){try{return a.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Wt(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),a}}function Er(a,r){if(r==="/")return a;if(!a.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,i=a.charAt(n);return i&&i!=="/"?null:a.slice(n)||"/"}var B0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ty=a=>B0.test(a);function ry(a,r="/"){let{pathname:n,search:i="",hash:l=""}=typeof a=="string"?Nn(a):a,c;if(n)if(ty(n))c=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Wt(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?c=Wm(n.substring(1),"/"):c=Wm(n,r)}else c=r;return{pathname:c,search:ay(i),hash:iy(l)}}function Wm(a,r){let n=r.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Ic(a,r,n,i){return`Cannot include a '${a}' character in a manually specified \`to.${r}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sy(a){return a.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function vd(a){let r=sy(a);return r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase)}function bd(a,r,n,i=!1){let l;typeof a=="string"?l=Nn(a):(l={...a},ze(!l.pathname||!l.pathname.includes("?"),Ic("?","pathname","search",l)),ze(!l.pathname||!l.pathname.includes("#"),Ic("#","pathname","hash",l)),ze(!l.search||!l.search.includes("#"),Ic("#","search","hash",l)));let c=a===""||l.pathname==="",u=c?"/":l.pathname,h;if(u==null)h=n;else{let y=r.length-1;if(!i&&u.startsWith("..")){let j=u.split("/");for(;j[0]==="..";)j.shift(),y-=1;l.pathname=j.join("/")}h=y>=0?r[y]:"/"}let f=ry(l,h),p=u&&u!=="/"&&u.endsWith("/"),g=(c||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Sr=a=>a.join("/").replace(/\/\/+/g,"/"),ny=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),ay=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,iy=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,oy=class{constructor(a,r,n,i=!1){this.status=a,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ly(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function cy(a){return a.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function W0(a,r){let n=a;if(typeof n!="string"||!B0.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,l=!1;if(q0)try{let c=new URL(window.location.href),u=n.startsWith("//")?new URL(c.protocol+n):new URL(n),h=Er(u.pathname,r);u.origin===c.origin&&h!=null?n=h+u.search+u.hash:l=!0}catch{Wt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var H0=["POST","PUT","PATCH","DELETE"];new Set(H0);var dy=["GET",...H0];new Set(dy);var _n=v.createContext(null);_n.displayName="DataRouter";var Ao=v.createContext(null);Ao.displayName="DataRouterState";var uy=v.createContext(!1),V0=v.createContext({isTransitioning:!1});V0.displayName="ViewTransition";var hy=v.createContext(new Map);hy.displayName="Fetchers";var my=v.createContext(null);my.displayName="Await";var It=v.createContext(null);It.displayName="Navigation";var Ia=v.createContext(null);Ia.displayName="Location";var or=v.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var wd=v.createContext(null);wd.displayName="RouteError";var G0="REACT_ROUTER_ERROR",fy="REDIRECT",xy="ROUTE_ERROR_RESPONSE";function py(a){if(a.startsWith(`${G0}:${fy}:{`))try{let r=JSON.parse(a.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function gy(a){if(a.startsWith(`${G0}:${xy}:{`))try{let r=JSON.parse(a.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new oy(r.status,r.statusText,r.data)}catch{}}function yy(a,{relative:r}={}){ze(kn(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=v.useContext(It),{hash:l,pathname:c,search:u}=$a(a,{relative:r}),h=c;return n!=="/"&&(h=c==="/"?n:Sr([n,c])),i.createHref({pathname:h,search:u,hash:l})}function kn(){return v.useContext(Ia)!=null}function Ht(){return ze(kn(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Ia).location}var K0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q0(a){v.useContext(It).static||v.useLayoutEffect(a)}function St(){let{isDataRoute:a}=v.useContext(or);return a?Oy():vy()}function vy(){ze(kn(),"useNavigate() may be used only in the context of a <Router> component.");let a=v.useContext(_n),{basename:r,navigator:n}=v.useContext(It),{matches:i}=v.useContext(or),{pathname:l}=Ht(),c=JSON.stringify(vd(i)),u=v.useRef(!1);return Q0(()=>{u.current=!0}),v.useCallback((f,p={})=>{if(Wt(u.current,K0),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=bd(f,JSON.parse(c),l,p.relative==="path");a==null&&r!=="/"&&(g.pathname=g.pathname==="/"?r:Sr([r,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[r,n,c,l,a])}v.createContext(null);function jd(){let{matches:a}=v.useContext(or),r=a[a.length-1];return r?r.params:{}}function $a(a,{relative:r}={}){let{matches:n}=v.useContext(or),{pathname:i}=Ht(),l=JSON.stringify(vd(n));return v.useMemo(()=>bd(a,JSON.parse(l),i,r==="path"),[a,l,i,r])}function by(a,r){return J0(a,r)}function J0(a,r,n,i,l){ze(kn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=v.useContext(It),{matches:u}=v.useContext(or),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let N=y&&y.path||"";X0(p,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let j=Ht(),b;if(r){let N=typeof r=="string"?Nn(r):r;ze(g==="/"||N.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=j;let _=b.pathname||"/",k=_;if(g!=="/"){let N=g.replace(/^\//,"").split("/");k="/"+_.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=z0(a,{pathname:k});Wt(y||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Wt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=ky(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Sr([g,c.encodeLocation?c.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:Sr([g,c.encodeLocation?c.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),u,n,i,l);return r&&A?v.createElement(Ia.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function wy(){let a=Ay(),r=ly(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",a),u=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:c},"ErrorBoundary")," or"," ",v.createElement("code",{style:c},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},r),n?v.createElement("pre",{style:l},n):null,u)}var jy=v.createElement(wy,null),Y0=class extends v.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){this.props.onError?this.props.onError(a,r):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const n=gy(a.digest);n&&(a=n)}let r=a!==void 0?v.createElement(or.Provider,{value:this.props.routeContext},v.createElement(wd.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?v.createElement(Ny,{error:a},r):r}};Y0.contextType=uy;var $c=new WeakMap;function Ny({children:a,error:r}){let{basename:n}=v.useContext(It);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let i=py(r.digest);if(i){let l=$c.get(r);if(l)throw l;let c=W0(i.location,n);if(q0&&!$c.get(r))if(c.isExternal||i.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:i.replace}));throw $c.set(r,u),u}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return a}function _y({routeContext:a,match:r,children:n}){let i=v.useContext(_n);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(or.Provider,{value:a},n)}function ky(a,r=[],n=null,i=null,l=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let c=a,u=n?.errors;if(u!=null){let g=c.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);ze(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,f=-1;if(n)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:j,errors:b}=n,_=y.route.loader&&!j.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||_){h=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}let p=n&&i?(g,y)=>{i(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:cy(n.matches),errorInfo:y})}:void 0;return c.reduceRight((g,y,j)=>{let b,_=!1,k=null,C=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||jy,h&&(f<0&&j===0?(X0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):f===j&&(_=!0,C=y.route.hydrateFallbackElement||null)));let A=r.concat(c.slice(0,j+1)),N=()=>{let S;return b?S=k:_?S=C:y.route.Component?S=v.createElement(y.route.Component,null):y.route.element?S=y.route.element:S=g,v.createElement(_y,{match:y,routeContext:{outlet:g,matches:A,isDataRoute:n!=null},children:S})};return n&&(y.route.ErrorBoundary||y.route.errorElement||j===0)?v.createElement(Y0,{location:n.location,revalidation:n.revalidation,component:k,error:b,children:N(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:p}):N()},null)}function Nd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sy(a){let r=v.useContext(_n);return ze(r,Nd(a)),r}function Cy(a){let r=v.useContext(Ao);return ze(r,Nd(a)),r}function Ey(a){let r=v.useContext(or);return ze(r,Nd(a)),r}function _d(a){let r=Ey(a),n=r.matches[r.matches.length-1];return ze(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function Py(){return _d("useRouteId")}function Ay(){let a=v.useContext(wd),r=Cy("useRouteError"),n=_d("useRouteError");return a!==void 0?a:r.errors?.[n]}function Oy(){let{router:a}=Sy("useNavigate"),r=_d("useNavigate"),n=v.useRef(!1);return Q0(()=>{n.current=!0}),v.useCallback(async(l,c={})=>{Wt(n.current,K0),n.current&&(typeof l=="number"?await a.navigate(l):await a.navigate(l,{fromRouteId:r,...c}))},[a,r])}var Hm={};function X0(a,r,n){!r&&!Hm[a]&&(Hm[a]=!0,Wt(!1,n))}v.memo(Ty);function Ty({routes:a,future:r,state:n,onError:i}){return J0(a,void 0,n,i,r)}function Ry({to:a,replace:r,state:n,relative:i}){ze(kn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=v.useContext(It);Wt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=v.useContext(or),{pathname:u}=Ht(),h=St(),f=bd(a,vd(c),u,i==="path"),p=JSON.stringify(f);return v.useEffect(()=>{h(JSON.parse(p),{replace:r,state:n,relative:i})},[h,p,i,r,n]),null}function Ce(a){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ly({basename:a="/",children:r=null,location:n,navigationType:i="POP",navigator:l,static:c=!1,unstable_useTransitions:u}){ze(!kn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=a.replace(/^\/*/,"/"),f=v.useMemo(()=>({basename:h,navigator:l,static:c,unstable_useTransitions:u,future:{}}),[h,l,c,u]);typeof n=="string"&&(n=Nn(n));let{pathname:p="/",search:g="",hash:y="",state:j=null,key:b="default"}=n,_=v.useMemo(()=>{let k=Er(p,h);return k==null?null:{location:{pathname:k,search:g,hash:y,state:j,key:b},navigationType:i}},[h,p,g,y,j,b,i]);return Wt(_!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:v.createElement(It.Provider,{value:f},v.createElement(Ia.Provider,{children:r,value:_}))}function ed({children:a,location:r}){return by(td(a),r)}function td(a,r=[]){let n=[];return v.Children.forEach(a,(i,l)=>{if(!v.isValidElement(i))return;let c=[...r,l];if(i.type===v.Fragment){n.push.apply(n,td(i.props.children,c));return}ze(i.type===Ce,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=td(i.props.children,c)),n.push(u)}),n}var go="get",yo="application/x-www-form-urlencoded";function Oo(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function Iy(a){return Oo(a)&&a.tagName.toLowerCase()==="button"}function $y(a){return Oo(a)&&a.tagName.toLowerCase()==="form"}function Dy(a){return Oo(a)&&a.tagName.toLowerCase()==="input"}function My(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function zy(a,r){return a.button===0&&(!r||r==="_self")&&!My(a)}var Zi=null;function Uy(){if(Zi===null)try{new FormData(document.createElement("form"),0),Zi=!1}catch{Zi=!0}return Zi}var Fy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dc(a){return a!=null&&!Fy.has(a)?(Wt(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yo}"`),null):a}function By(a,r){let n,i,l,c,u;if($y(a)){let h=a.getAttribute("action");i=h?Er(h,r):null,n=a.getAttribute("method")||go,l=Dc(a.getAttribute("enctype"))||yo,c=new FormData(a)}else if(Iy(a)||Dy(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=a.getAttribute("formaction")||h.getAttribute("action");if(i=f?Er(f,r):null,n=a.getAttribute("formmethod")||h.getAttribute("method")||go,l=Dc(a.getAttribute("formenctype"))||Dc(h.getAttribute("enctype"))||yo,c=new FormData(h,a),!Uy()){let{name:p,type:g,value:y}=a;if(g==="image"){let j=p?`${p}.`:"";c.append(`${j}x`,"0"),c.append(`${j}y`,"0")}else p&&c.append(p,y)}}else{if(Oo(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=go,i=null,l=yo,u=a}return c&&l==="text/plain"&&(u=c,c=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kd(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function qy(a,r,n,i){let l=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${i}`:l.pathname=`${l.pathname}.${i}`:l.pathname==="/"?l.pathname=`_root.${i}`:r&&Er(l.pathname,r)==="/"?l.pathname=`${r.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function Wy(a,r){if(a.id in r)return r[a.id];try{let n=await import(a.module);return r[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hy(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function Vy(a,r,n){let i=await Promise.all(a.map(async l=>{let c=r.routes[l.route.id];if(c){let u=await Wy(c,n);return u.links?u.links():[]}return[]}));return Jy(i.flat(1).filter(Hy).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Vm(a,r,n,i,l,c){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return c==="assets"?r.filter((f,p)=>u(f,p)||h(f,p)):c==="data"?r.filter((f,p)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Gy(a,r,{includeHydrateFallback:n}={}){return Ky(a.map(i=>{let l=r.routes[i.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Ky(a){return[...new Set(a)]}function Qy(a){let r={},n=Object.keys(a).sort();for(let i of n)r[i]=a[i];return r}function Jy(a,r){let n=new Set;return new Set(r),a.reduce((i,l)=>{let c=JSON.stringify(Qy(l));return n.has(c)||(n.add(c),i.push({key:c,link:l})),i},[])}function Z0(){let a=v.useContext(_n);return kd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Yy(){let a=v.useContext(Ao);return kd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Sd=v.createContext(void 0);Sd.displayName="FrameworkContext";function ef(){let a=v.useContext(Sd);return kd(a,"You must render this element inside a <HydratedRouter> element"),a}function Xy(a,r){let n=v.useContext(Sd),[i,l]=v.useState(!1),[c,u]=v.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=r,j=v.useRef(null);v.useEffect(()=>{if(a==="render"&&u(!0),a==="viewport"){let k=A=>{A.forEach(N=>{u(N.isIntersecting)})},C=new IntersectionObserver(k,{threshold:.5});return j.current&&C.observe(j.current),()=>{C.disconnect()}}},[a]),v.useEffect(()=>{if(i){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[i]);let b=()=>{l(!0)},_=()=>{l(!1),u(!1)};return n?a!=="intent"?[c,j,{}]:[c,j,{onFocus:ga(h,b),onBlur:ga(f,_),onMouseEnter:ga(p,b),onMouseLeave:ga(g,_),onTouchStart:ga(y,b)}]:[!1,j,{}]}function ga(a,r){return n=>{a&&a(n),n.defaultPrevented||r(n)}}function Zy({page:a,...r}){let{router:n}=Z0(),i=v.useMemo(()=>z0(n.routes,a,n.basename),[n.routes,a,n.basename]);return i?v.createElement(tv,{page:a,matches:i,...r}):null}function ev(a){let{manifest:r,routeModules:n}=ef(),[i,l]=v.useState([]);return v.useEffect(()=>{let c=!1;return Vy(a,r,n).then(u=>{c||l(u)}),()=>{c=!0}},[a,r,n]),i}function tv({page:a,matches:r,...n}){let i=Ht(),{future:l,manifest:c,routeModules:u}=ef(),{basename:h}=Z0(),{loaderData:f,matches:p}=Yy(),g=v.useMemo(()=>Vm(a,r,p,c,i,"data"),[a,r,p,c,i]),y=v.useMemo(()=>Vm(a,r,p,c,i,"assets"),[a,r,p,c,i]),j=v.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let k=new Set,C=!1;if(r.forEach(N=>{let S=c.routes[N.route.id];!S||!S.hasLoader||(!g.some(F=>F.route.id===N.route.id)&&N.route.id in f&&u[N.route.id]?.shouldRevalidate||S.hasClientLoader?C=!0:k.add(N.route.id))}),k.size===0)return[];let A=qy(a,h,l.unstable_trailingSlashAwareDataRequests,"data");return C&&k.size>0&&A.searchParams.set("_routes",r.filter(N=>k.has(N.route.id)).map(N=>N.route.id).join(",")),[A.pathname+A.search]},[h,l.unstable_trailingSlashAwareDataRequests,f,i,c,g,r,a,u]),b=v.useMemo(()=>Gy(y,c),[y,c]),_=ev(y);return v.createElement(v.Fragment,null,j.map(k=>v.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),b.map(k=>v.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),_.map(({key:k,link:C})=>v.createElement("link",{key:k,nonce:n.nonce,...C})))}function rv(...a){return r=>{a.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var sv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sv&&(window.__reactRouterVersion="7.12.0")}catch{}function nv({basename:a,children:r,unstable_useTransitions:n,window:i}){let l=v.useRef();l.current==null&&(l.current=Mg({window:i,v5Compat:!0}));let c=l.current,[u,h]=v.useState({action:c.action,location:c.location}),f=v.useCallback(p=>{n===!1?h(p):v.startTransition(()=>h(p))},[n]);return v.useLayoutEffect(()=>c.listen(f),[c,f]),v.createElement(Ly,{basename:a,children:r,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:n})}var tf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=v.forwardRef(function({onClick:r,discover:n="render",prefetch:i="none",relative:l,reloadDocument:c,replace:u,state:h,target:f,to:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:j,...b},_){let{basename:k,unstable_useTransitions:C}=v.useContext(It),A=typeof p=="string"&&tf.test(p),N=W0(p,k);p=N.to;let S=yy(p,{relative:l}),[F,P,$]=Xy(i,b),D=lv(p,{replace:u,state:h,target:f,preventScrollReset:g,relative:l,viewTransition:y,unstable_defaultShouldRevalidate:j,unstable_useTransitions:C});function I(K){r&&r(K),K.defaultPrevented||D(K)}let H=v.createElement("a",{...b,...$,href:N.absoluteURL||S,onClick:N.isExternal||c?r:I,ref:rv(_,P),target:f,"data-discover":!A&&n==="render"?"true":void 0});return F&&!A?v.createElement(v.Fragment,null,H,v.createElement(Zy,{page:S})):H});ce.displayName="Link";var av=v.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:i="",end:l=!1,style:c,to:u,viewTransition:h,children:f,...p},g){let y=$a(u,{relative:p.relative}),j=Ht(),b=v.useContext(Ao),{navigator:_,basename:k}=v.useContext(It),C=b!=null&&mv(y)&&h===!0,A=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,N=j.pathname,S=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(N=N.toLowerCase(),S=S?S.toLowerCase():null,A=A.toLowerCase()),S&&k&&(S=Er(S,k)||S);const F=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let P=N===A||!l&&N.startsWith(A)&&N.charAt(F)==="/",$=S!=null&&(S===A||!l&&S.startsWith(A)&&S.charAt(A.length)==="/"),D={isActive:P,isPending:$,isTransitioning:C},I=P?r:void 0,H;typeof i=="function"?H=i(D):H=[i,P?"active":null,$?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let K=typeof c=="function"?c(D):c;return v.createElement(ce,{...p,"aria-current":I,className:H,ref:g,style:K,to:u,viewTransition:h},typeof f=="function"?f(D):f)});av.displayName="NavLink";var iv=v.forwardRef(({discover:a="render",fetcherKey:r,navigate:n,reloadDocument:i,replace:l,state:c,method:u=go,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:j,...b},_)=>{let{unstable_useTransitions:k}=v.useContext(It),C=uv(),A=hv(h,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",S=typeof h=="string"&&tf.test(h),F=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let $=P.nativeEvent.submitter,D=$?.getAttribute("formmethod")||u,I=()=>C($||P.currentTarget,{fetcherKey:r,method:D,navigate:n,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:j});k&&n!==!1?v.startTransition(()=>I()):I()};return v.createElement("form",{ref:_,method:N,action:A,onSubmit:i?f:F,...b,"data-discover":!S&&a==="render"?"true":void 0})});iv.displayName="Form";function ov(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rf(a){let r=v.useContext(_n);return ze(r,ov(a)),r}function lv(a,{target:r,replace:n,state:i,preventScrollReset:l,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let p=St(),g=Ht(),y=$a(a,{relative:c});return v.useCallback(j=>{if(zy(j,r)){j.preventDefault();let b=n!==void 0?n:Sa(g)===Sa(y),_=()=>p(a,{replace:b,state:i,preventScrollReset:l,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:h});f?v.startTransition(()=>_()):_()}},[g,p,y,n,i,r,a,l,c,u,h,f])}var cv=0,dv=()=>`__${String(++cv)}__`;function uv(){let{router:a}=rf("useSubmit"),{basename:r}=v.useContext(It),n=Py(),i=a.fetch,l=a.navigate;return v.useCallback(async(c,u={})=>{let{action:h,method:f,encType:p,formData:g,body:y}=By(c,r);if(u.navigate===!1){let j=u.fetcherKey||dv();await i(j,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||f,formEncType:u.encType||p,flushSync:u.flushSync})}else await l(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||f,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,l,r,n])}function hv(a,{relative:r}={}){let{basename:n}=v.useContext(It),i=v.useContext(or);ze(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),c={...$a(a||".",{relative:r})},u=Ht();if(a==null){c.search=u.search;let h=new URLSearchParams(c.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();c.search=g?`?${g}`:""}}return(!a||a===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Sr([n,c.pathname])),Sa(c)}function mv(a,{relative:r}={}){let n=v.useContext(V0);ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rf("useViewTransitionState"),l=$a(a,{relative:r});if(!n.isTransitioning)return!1;let c=Er(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Er(n.nextLocation.pathname,i)||n.nextLocation.pathname;return vo(l.pathname,u)!=null||vo(l.pathname,c)!=null}var rd=function(a,r){return rd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])},rd(a,r)};function sf(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");rd(a,r);function n(){this.constructor=a}a.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var bo=function(){return bo=Object.assign||function(r){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},bo.apply(this,arguments)};function Sn(a,r){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&r.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(a);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(a,i[l])&&(n[i[l]]=a[i[l]]);return n}function nf(a,r,n,i){var l=arguments.length,c=l<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,n):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(a,r,n,i);else for(var h=a.length-1;h>=0;h--)(u=a[h])&&(c=(l<3?u(c):l>3?u(r,n,c):u(r,n))||c);return l>3&&c&&Object.defineProperty(r,n,c),c}function af(a,r){return function(n,i){r(n,i,a)}}function of(a,r,n,i,l,c){function u(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var h=i.kind,f=h==="getter"?"get":h==="setter"?"set":"value",p=!r&&a?i.static?a:a.prototype:null,g=r||(p?Object.getOwnPropertyDescriptor(p,i.name):{}),y,j=!1,b=n.length-1;b>=0;b--){var _={};for(var k in i)_[k]=k==="access"?{}:i[k];for(var k in i.access)_.access[k]=i.access[k];_.addInitializer=function(A){if(j)throw new TypeError("Cannot add initializers after decoration has completed");c.push(u(A||null))};var C=(0,n[b])(h==="accessor"?{get:g.get,set:g.set}:g[f],_);if(h==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(y=u(C.get))&&(g.get=y),(y=u(C.set))&&(g.set=y),(y=u(C.init))&&l.unshift(y)}else(y=u(C))&&(h==="field"?l.unshift(y):g[f]=y)}p&&Object.defineProperty(p,i.name,g),j=!0}function lf(a,r,n){for(var i=arguments.length>2,l=0;l<r.length;l++)n=i?r[l].call(a,n):r[l].call(a);return i?n:void 0}function cf(a){return typeof a=="symbol"?a:"".concat(a)}function df(a,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function uf(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)}function xe(a,r,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):l(g.value).then(h,f)}p((i=i.apply(a,r||[])).next())})}function hf(a,r){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,l,c,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=h(0),u.throw=h(1),u.return=h(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(g){return f([p,g])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(i=1,l&&(c=p[0]&2?l.return:p[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,p[1])).done)return c;switch(l=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,l=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){n.label=p[1];break}if(p[0]===6&&n.label<c[1]){n.label=c[1],c=p;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(p);break}c[2]&&n.ops.pop(),n.trys.pop();continue}p=r.call(a,n)}catch(g){p=[6,g],l=0}finally{i=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var To=Object.create?(function(a,r,n,i){i===void 0&&(i=n);var l=Object.getOwnPropertyDescriptor(r,n);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(a,i,l)}):(function(a,r,n,i){i===void 0&&(i=n),a[i]=r[n]});function mf(a,r){for(var n in a)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&To(r,a,n)}function wo(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],i=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&i>=a.length&&(a=void 0),{value:a&&a[i++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cd(a,r){var n=typeof Symbol=="function"&&a[Symbol.iterator];if(!n)return a;var i=n.call(a),l,c=[],u;try{for(;(r===void 0||r-- >0)&&!(l=i.next()).done;)c.push(l.value)}catch(h){u={error:h}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return c}function ff(){for(var a=[],r=0;r<arguments.length;r++)a=a.concat(Cd(arguments[r]));return a}function xf(){for(var a=0,r=0,n=arguments.length;r<n;r++)a+=arguments[r].length;for(var i=Array(a),l=0,r=0;r<n;r++)for(var c=arguments[r],u=0,h=c.length;u<h;u++,l++)i[l]=c[u];return i}function pf(a,r,n){if(n||arguments.length===2)for(var i=0,l=r.length,c;i<l;i++)(c||!(i in r))&&(c||(c=Array.prototype.slice.call(r,0,i)),c[i]=r[i]);return a.concat(c||Array.prototype.slice.call(r))}function bn(a){return this instanceof bn?(this.v=a,this):new bn(a)}function gf(a,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(a,r||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),l[Symbol.asyncIterator]=function(){return this},l;function u(b){return function(_){return Promise.resolve(_).then(b,y)}}function h(b,_){i[b]&&(l[b]=function(k){return new Promise(function(C,A){c.push([b,k,C,A])>1||f(b,k)})},_&&(l[b]=_(l[b])))}function f(b,_){try{p(i[b](_))}catch(k){j(c[0][3],k)}}function p(b){b.value instanceof bn?Promise.resolve(b.value.v).then(g,y):j(c[0][2],b)}function g(b){f("next",b)}function y(b){f("throw",b)}function j(b,_){b(_),c.shift(),c.length&&f(c[0][0],c[0][1])}}function yf(a){var r,n;return r={},i("next"),i("throw",function(l){throw l}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(l,c){r[l]=a[l]?function(u){return(n=!n)?{value:bn(a[l](u)),done:!1}:c?c(u):u}:c}}function vf(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a[Symbol.asyncIterator],n;return r?r.call(a):(a=typeof wo=="function"?wo(a):a[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=a[c]&&function(u){return new Promise(function(h,f){u=a[c](u),l(h,f,u.done,u.value)})}}function l(c,u,h,f){Promise.resolve(f).then(function(p){c({value:p,done:h})},u)}}function bf(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a}var fv=Object.create?(function(a,r){Object.defineProperty(a,"default",{enumerable:!0,value:r})}):function(a,r){a.default=r},sd=function(a){return sd=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},sd(a)};function wf(a){if(a&&a.__esModule)return a;var r={};if(a!=null)for(var n=sd(a),i=0;i<n.length;i++)n[i]!=="default"&&To(r,a,n[i]);return fv(r,a),r}function jf(a){return a&&a.__esModule?a:{default:a}}function Nf(a,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?a!==r||!i:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(a):i?i.value:r.get(a)}function _f(a,r,n,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?a!==r||!l:!r.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(a,n):l?l.value=n:r.set(a,n),n}function kf(a,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?r===a:a.has(r)}function Sf(a,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var i,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=r[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=r[Symbol.dispose],n&&(l=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");l&&(i=function(){try{l.call(this)}catch(c){return Promise.reject(c)}}),a.stack.push({value:r,dispose:i,async:n})}else n&&a.stack.push({async:!0});return r}var xv=typeof SuppressedError=="function"?SuppressedError:function(a,r,n){var i=new Error(n);return i.name="SuppressedError",i.error=a,i.suppressed=r,i};function Cf(a){function r(c){a.error=a.hasError?new xv(c,a.error,"An error was suppressed during disposal."):c,a.hasError=!0}var n,i=0;function l(){for(;n=a.stack.pop();)try{if(!n.async&&i===1)return i=0,a.stack.push(n),Promise.resolve().then(l);if(n.dispose){var c=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(c).then(l,function(u){return r(u),l()})}else i|=1}catch(u){r(u)}if(i===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return l()}function Ef(a,r){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,l,c,u){return i?r?".jsx":".js":l&&(!c||!u)?n:l+c+"."+u.toLowerCase()+"js"}):a}const pv={__extends:sf,__assign:bo,__rest:Sn,__decorate:nf,__param:af,__esDecorate:of,__runInitializers:lf,__propKey:cf,__setFunctionName:df,__metadata:uf,__awaiter:xe,__generator:hf,__createBinding:To,__exportStar:mf,__values:wo,__read:Cd,__spread:ff,__spreadArrays:xf,__spreadArray:pf,__await:bn,__asyncGenerator:gf,__asyncDelegator:yf,__asyncValues:vf,__makeTemplateObject:bf,__importStar:wf,__importDefault:jf,__classPrivateFieldGet:Nf,__classPrivateFieldSet:_f,__classPrivateFieldIn:kf,__addDisposableResource:Sf,__disposeResources:Cf,__rewriteRelativeImportExtension:Ef},gv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Sf,get __assign(){return bo},__asyncDelegator:yf,__asyncGenerator:gf,__asyncValues:vf,__await:bn,__awaiter:xe,__classPrivateFieldGet:Nf,__classPrivateFieldIn:kf,__classPrivateFieldSet:_f,__createBinding:To,__decorate:nf,__disposeResources:Cf,__esDecorate:of,__exportStar:mf,__extends:sf,__generator:hf,__importDefault:jf,__importStar:wf,__makeTemplateObject:bf,__metadata:uf,__param:af,__propKey:cf,__read:Cd,__rest:Sn,__rewriteRelativeImportExtension:Ef,__runInitializers:lf,__setFunctionName:df,__spread:ff,__spreadArray:pf,__spreadArrays:xf,__values:wo,default:pv},Symbol.toStringTag,{value:"Module"})),yv="modulepreload",vv=function(a,r){return new URL(a,r).href},Gm={},Cn=function(r,n,i){let l=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),f=h?.nonce||h?.getAttribute("nonce");l=p(n.map(g=>{if(g=vv(g,i),g in Gm)return;Gm[g]=!0;const y=g.endsWith(".css"),j=y?'[rel="stylesheet"]':"";if(i)for(let _=u.length-1;_>=0;_--){const k=u[_];if(k.href===g&&(!y||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${j}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":yv,y||(b.as="script"),b.crossOrigin="",b.href=g,f&&b.setAttribute("nonce",f),document.head.appendChild(b),y)return new Promise((_,k)=>{b.addEventListener("load",_),b.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return l.then(u=>{for(const h of u||[])h.status==="rejected"&&c(h.reason);return r().catch(c)})},bv=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...n)=>Cn(async()=>{const{default:i}=await Promise.resolve().then(()=>Ts);return{default:i}},[],import.meta.url).then(({default:i})=>i(...n)):r=fetch,(...n)=>r(...n)};class Ed extends Error{constructor(r,n="FunctionsError",i){super(r),this.name=n,this.context=i}}class Km extends Ed{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Qm extends Ed{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Jm extends Ed{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var nd;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(nd||(nd={}));class wv{constructor(r,{headers:n={},customFetch:i,region:l=nd.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=bv(i)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return xe(this,arguments,void 0,function*(n,i={}){var l;try{const{headers:c,method:u,body:h,signal:f}=i;let p={},{region:g}=i;g||(g=this.region);const y=new URL(`${this.url}/${n}`);g&&g!=="any"&&(p["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let j;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",j=h):typeof h=="string"?(p["Content-Type"]="text/plain",j=h):typeof FormData<"u"&&h instanceof FormData?j=h:(p["Content-Type"]="application/json",j=JSON.stringify(h)):j=h;const b=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),c),body:j,signal:f}).catch(A=>{throw A.name==="AbortError"?A:new Km(A)}),_=b.headers.get("x-relay-error");if(_&&_==="true")throw new Qm(b);if(!b.ok)throw new Jm(b);let k=((l=b.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),C;return k==="application/json"?C=yield b.json():k==="application/octet-stream"||k==="application/pdf"?C=yield b.blob():k==="text/event-stream"?C=b:k==="multipart/form-data"?C=yield b.formData():C=yield b.text(),{data:C,error:null,response:b}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new Km(c)}:{data:null,error:c,response:c instanceof Jm||c instanceof Qm?c.context:void 0}}})}}var mt={};const En=M0(gv);var eo={},to={},ro={},so={},no={},jv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wn=jv();const Nv=wn.fetch,Pf=wn.fetch.bind(wn),Af=wn.Headers,_v=wn.Request,kv=wn.Response,Ts=Object.freeze(Object.defineProperty({__proto__:null,Headers:Af,Request:_v,Response:kv,default:Pf,fetch:Nv},Symbol.toStringTag,{value:"Module"})),Sv=M0(Ts);var ao={},Ym;function Of(){if(Ym)return ao;Ym=1,Object.defineProperty(ao,"__esModule",{value:!0});class a extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ao.default=a,ao}var Xm;function Tf(){if(Xm)return no;Xm=1,Object.defineProperty(no,"__esModule",{value:!0});const a=En,r=a.__importDefault(Sv),n=a.__importDefault(Of());class i{constructor(c){var u,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let f=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,y,j,b;let _=null,k=null,C=null,A=p.status,N=p.statusText;if(p.ok){if(this.method!=="HEAD"){const $=await p.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?k=$:k=JSON.parse($))}const F=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),P=(j=p.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");F&&P&&P.length>1&&(C=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(_={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,C=null,A=406,N="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const F=await p.text();try{_=JSON.parse(F),Array.isArray(_)&&p.status===404&&(k=[],_=null,A=200,N="OK")}catch{p.status===404&&F===""?(A=204,N="No Content"):_={message:F}}if(_&&this.isMaybeSingle&&(!((b=_?.details)===null||b===void 0)&&b.includes("0 rows"))&&(_=null,A=200,N="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:k,count:C,status:A,statusText:N}});return this.shouldThrowOnError||(f=f.catch(p=>{var g,y,j;return{error:{message:`${(g=p?.name)!==null&&g!==void 0?g:"FetchError"}: ${p?.message}`,details:`${(y=p?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(j=p?.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),f.then(c,u)}returns(){return this}overrideTypes(){return this}}return no.default=i,no}var Zm;function Rf(){if(Zm)return so;Zm=1,Object.defineProperty(so,"__esModule",{value:!0});const r=En.__importDefault(Tf());class n extends r.default{select(l){let c=!1;const u=(l??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${l}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,c,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${l}`),this.url.searchParams.set(p,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:f=!1,format:p="text"}={}){var g;const y=[l?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),j=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${j}"; options=${y};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return so.default=n,so}var e0;function Pd(){if(e0)return ro;e0=1,Object.defineProperty(ro,"__esModule",{value:!0});const r=En.__importDefault(Rf());class n extends r.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const u=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${u})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:u,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(l,`${f}fts${p}.${c}`),this}match(l){return Object.entries(l).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(l,c,u){return this.url.searchParams.append(l,`not.${c}.${u}`),this}or(l,{foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,c,u){return this.url.searchParams.append(l,`${c}.${u}`),this}}return ro.default=n,ro}var t0;function Lf(){if(t0)return to;t0=1,Object.defineProperty(to,"__esModule",{value:!0});const r=En.__importDefault(Pd());class n{constructor(l,{headers:c={},schema:u,fetch:h}){this.url=l,this.headers=new Headers(c),this.schema=u,this.fetch=h}select(l,c){const{head:u=!1,count:h}=c??{},f=u?"HEAD":"GET";let p=!1;const g=(l??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",g),h&&this.headers.append("Prefer",`count=${h}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:u=!0}={}){var h;const f="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:f=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((j,b)=>j.concat(Object.keys(b)),[]);if(y.length>0){const j=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",j.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:c}={}){var u;const h="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:l}={}){var c;const u="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return to.default=n,to}var r0;function Cv(){if(r0)return eo;r0=1,Object.defineProperty(eo,"__esModule",{value:!0});const a=En,r=a.__importDefault(Lf()),n=a.__importDefault(Pd());class i{constructor(c,{headers:u={},schema:h,fetch:f}={}){this.url=c,this.headers=new Headers(u),this.schemaName=h,this.fetch=f}from(c){const u=new URL(`${this.url}/${c}`);return new r.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:h=!1,get:f=!1,count:p}={}){var g;let y;const j=new URL(`${this.url}/rpc/${c}`);let b;h||f?(y=h?"HEAD":"GET",Object.entries(u).filter(([k,C])=>C!==void 0).map(([k,C])=>[k,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([k,C])=>{j.searchParams.append(k,C)})):(y="POST",b=u);const _=new Headers(this.headers);return p&&_.set("Prefer",`count=${p}`),new n.default({method:y,url:j,headers:_,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return eo.default=i,eo}var s0;function Ev(){if(s0)return mt;s0=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const a=En,r=a.__importDefault(Cv());mt.PostgrestClient=r.default;const n=a.__importDefault(Lf());mt.PostgrestQueryBuilder=n.default;const i=a.__importDefault(Pd());mt.PostgrestFilterBuilder=i.default;const l=a.__importDefault(Rf());mt.PostgrestTransformBuilder=l.default;const c=a.__importDefault(Tf());mt.PostgrestBuilder=c.default;const u=a.__importDefault(Of());return mt.PostgrestError=u.default,mt.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:u.default},mt}var Pv=Ev();const Av=Eg(Pv),{PostgrestClient:Ov,PostgrestQueryBuilder:S4,PostgrestFilterBuilder:C4,PostgrestTransformBuilder:E4,PostgrestBuilder:P4,PostgrestError:A4}=Av;class Tv{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,l=parseInt(i.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const i=this.getWebSocketConstructor();return new i(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Rv="2.76.1",Lv=`realtime-js/${Rv}`,Iv="1.0.0",ad=1e4,$v=1e3,Dv=100;var wa;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(wa||(wa={}));var et;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(et||(et={}));var rr;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(rr||(rr={}));var id;(function(a){a.websocket="websocket"})(id||(id={}));var ks;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(ks||(ks={}));class Mv{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),i=new TextDecoder;return this._decodeBroadcast(r,n,i)}_decodeBroadcast(r,n,i){const l=n.getUint8(1),c=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(r.slice(u,u+l));u=u+l;const f=i.decode(r.slice(u,u+c));u=u+c;const p=JSON.parse(i.decode(r.slice(u,r.byteLength)));return{ref:null,topic:h,event:f,payload:p}}}class If{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Le||(Le={}));const n0=(a,r,n={})=>{var i;const l=(i=n.skipTypes)!==null&&i!==void 0?i:[];return r?Object.keys(r).reduce((c,u)=>(c[u]=zv(u,a,r,l),c),{}):{}},zv=(a,r,n,i)=>{const l=r.find(h=>h.name===a),c=l?.type,u=n[a];return c&&!i.includes(c)?$f(c,u):od(u)},$f=(a,r)=>{if(a.charAt(0)==="_"){const n=a.slice(1,a.length);return qv(r,n)}switch(a){case Le.bool:return Uv(r);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return Fv(r);case Le.json:case Le.jsonb:return Bv(r);case Le.timestamp:return Wv(r);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return od(r);default:return od(r)}},od=a=>a,Uv=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Fv=a=>{if(typeof a=="string"){const r=parseFloat(a);if(!Number.isNaN(r))return r}return a},Bv=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(r){return console.log(`JSON parse error: ${r}`),a}return a},qv=(a,r)=>{if(typeof a!="string")return a;const n=a.length-1,i=a[n];if(a[0]==="{"&&i==="}"){let c;const u=a.slice(1,n);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>$f(r,h))}return a},Wv=a=>typeof a=="string"?a.replace(" ","T"):a,Df=a=>{const r=new URL(a);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Mc{constructor(r,n,i={},l=ad){this.channel=r,this.event=n,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var i;return this._hasReceived(r)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(i=>i.status===r).forEach(i=>i.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var a0;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(a0||(a0={}));class ja{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ja.syncState(this.state,l,c,u),this.pendingDiffs.forEach(f=>{this.state=ja.syncDiff(this.state,f,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},l=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ja.syncDiff(this.state,l,c,u),h())}),this.onJoin((l,c,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:u})}),this.onLeave((l,c,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,i,l){const c=this.cloneDeep(r),u=this.transformState(n),h={},f={};return this.map(c,(p,g)=>{u[p]||(f[p]=g)}),this.map(u,(p,g)=>{const y=c[p];if(y){const j=g.map(C=>C.presence_ref),b=y.map(C=>C.presence_ref),_=g.filter(C=>b.indexOf(C.presence_ref)<0),k=y.filter(C=>j.indexOf(C.presence_ref)<0);_.length>0&&(h[p]=_),k.length>0&&(f[p]=k)}else h[p]=g}),this.syncDiff(c,{joins:h,leaves:f},i,l)}static syncDiff(r,n,i,l){const{joins:c,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(c,(h,f)=>{var p;const g=(p=r[h])!==null&&p!==void 0?p:[];if(r[h]=this.cloneDeep(f),g.length>0){const y=r[h].map(b=>b.presence_ref),j=g.filter(b=>y.indexOf(b.presence_ref)<0);r[h].unshift(...j)}i(h,g,f)}),this.map(u,(h,f)=>{let p=r[h];if(!p)return;const g=f.map(y=>y.presence_ref);p=p.filter(y=>g.indexOf(y.presence_ref)<0),r[h]=p,l(h,p,f),p.length===0&&delete r[h]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(i=>n(i,r[i]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,i)=>{const l=r[i];return"metas"in l?n[i]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[i]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var i0;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(i0||(i0={}));var Na;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Na||(Na={}));var _r;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(_r||(_r={}));class Ad{constructor(r,n={config:{}},i){var l,c;if(this.topic=r,this.params=n,this.socket=i,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mc(this,rr.join,this.params,this.timeout),this.rejoinTimer=new If(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rr.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new ja(this),this.broadcastEndpointURL=Df(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var i,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,p=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&l!==void 0?l:[],g=!!this.bindings[Na.PRESENCE]&&this.bindings[Na.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,y={},j={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(b=>r?.(_r.CHANNEL_ERROR,b)),this._onClose(()=>r?.(_r.CLOSED)),this.updateJoinPayload(Object.assign({config:j},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var _;if(this.socket.setAuth(),b===void 0){r?.(_r.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,C=(_=k?.length)!==null&&_!==void 0?_:0,A=[];for(let N=0;N<C;N++){const S=k[N],{filter:{event:F,schema:P,table:$,filter:D}}=S,I=b&&b[N];if(I&&I.event===F&&I.schema===P&&I.table===$&&I.filter===D)A.push(Object.assign(Object.assign({},S),{id:I.id}));else{this.unsubscribe(),this.state=et.errored,r?.(_r.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,r&&r(_r.SUBSCRIBED);return}}).receive("error",b=>{this.state=et.errored,r?.(_r.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{r?.(_r.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,i){return this.state===et.joined&&r===Na.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,i)}async httpSend(r,n,i={}){var l;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const p=await h.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(r,n={}){var i,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=r,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,f;const p=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=et.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new Mc(this,rr.leave,{},r),i.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(r,n,i){const l=new AbortController,c=setTimeout(()=>l.abort(),i),u=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(c),u}_push(r,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Mc(this,r,n,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Dv){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,i){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,i){var l,c;const u=r.toLocaleLowerCase(),{close:h,error:f,leave:p,join:g}=rr;if(i&&[h,f,p,g].indexOf(u)>=0&&i!==this._joinRef())return;let j=this._onMessage(u,n,i);if(n&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var _,k,C;return((_=b.filter)===null||_===void 0?void 0:_.event)==="*"||((C=(k=b.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===u}).map(b=>b.callback(j,i)):(c=this.bindings[u])===null||c===void 0||c.filter(b=>{var _,k,C,A,N,S;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const F=b.id,P=(_=b.filter)===null||_===void 0?void 0:_.event;return F&&((k=n.ids)===null||k===void 0?void 0:k.includes(F))&&(P==="*"||P?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const F=(N=(A=b?.filter)===null||A===void 0?void 0:A.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return F==="*"||F===((S=n?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof j=="object"&&"ids"in j){const _=j.data,{schema:k,table:C,commit_timestamp:A,type:N,errors:S}=_;j=Object.assign(Object.assign({},{schema:k,table:C,commit_timestamp:A,eventType:N,new:{},old:{},errors:S}),this._getPayloadRecords(_))}b.callback(j,i)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,i){const l=r.toLocaleLowerCase(),c={type:l,filter:n,callback:i};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(r,n){const i=r.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&Ad.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const i in r)if(r[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(rr.close,{},r)}_onError(r){this._on(rr.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=n0(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=n0(r.columns,r.old_record)),n}}const zc=()=>{},io={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hv=[1e3,2e3,5e3,1e4],Vv=1e4,Gv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kv{constructor(r,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ad,this.transport=null,this.heartbeatIntervalMs=io.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zc,this.ref=0,this.reconnectTimer=null,this.logger=zc,this.conn=null,this.sendBuffer=[],this.serializer=new Mv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...u)=>Cn(async()=>{const{default:h}=await Promise.resolve().then(()=>Ts);return{default:h}},void 0,import.meta.url).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...u)=>c(...u)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${id.websocket}`,this.httpEndpoint=Df(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Tv.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Iv}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,i){this.logger(r,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case wa.connecting:return ks.Connecting;case wa.open:return ks.Open;case wa.closing:return ks.Closing;default:return ks.Closed}}isConnected(){return this.connectionState()===ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const i=`realtime:${r}`,l=this.getChannels().find(c=>c.topic===i);if(l)return l;{const c=new Ad(`realtime:${r}`,n,this);return this.channels.push(c),c}}push(r){const{topic:n,event:i,payload:l,ref:c}=r,u=()=>{this.encode(r,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${i} (${c})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close($v,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},io.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(i=>i.topic===r&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:c,ref:u}=n,h=u?`(${u})`:"",f=c.status||"";this.log("receive",`${f} ${i} ${l} ${h}`.trim(),c),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(l,c,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(rr.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const i=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${i}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const i=new Blob([Gv],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const l={access_token:n,version:Lv};n&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(rr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(i=>{try{i(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(i){this.log("error",`error triggering ${r} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new If(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},io.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,i,l,c,u,h,f,p,g;if(this.transport=(n=r?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=r?.timeout)!==null&&i!==void 0?i:ad,this.heartbeatIntervalMs=(l=r?.heartbeatIntervalMs)!==null&&l!==void 0?l:io.HEARTBEAT_INTERVAL,this.worker=(c=r?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=r?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=r?.heartbeatCallback)!==null&&h!==void 0?h:zc,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=r?.reconnectAfterMs)!==null&&f!==void 0?f:(y=>Hv[y-1]||Vv),this.encode=(p=r?.encode)!==null&&p!==void 0?p:((y,j)=>j(JSON.stringify(y))),this.decode=(g=r?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class Od extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Be(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Qv extends Od{constructor(r,n,i){super(r),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ld extends Od{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const Td=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...n)=>Cn(async()=>{const{default:i}=await Promise.resolve().then(()=>Ts);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...n)):r=fetch,(...n)=>r(...n)},Jv=()=>xe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cn(()=>Promise.resolve().then(()=>Ts),void 0,import.meta.url)).Response:Response}),cd=a=>{if(Array.isArray(a))return a.map(n=>cd(n));if(typeof a=="function"||a!==Object(a))return a;const r={};return Object.entries(a).forEach(([n,i])=>{const l=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[l]=cd(i)}),r},Yv=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Uc=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Xv=(a,r,n)=>xe(void 0,void 0,void 0,function*(){const i=yield Jv();a instanceof i&&!n?.noResolveJson?a.json().then(l=>{const c=a.status||500,u=l?.statusCode||c+"";r(new Qv(Uc(l),c,u))}).catch(l=>{r(new ld(Uc(l),l))}):r(new ld(Uc(a),a))}),Zv=(a,r,n,i)=>{const l={method:a,headers:r?.headers||{}};return a==="GET"||!i?l:(Yv(i)?(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(i)):l.body=i,r?.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function Da(a,r,n,i,l,c){return xe(this,void 0,void 0,function*(){return new Promise((u,h)=>{a(n,Zv(r,i,l,c)).then(f=>{if(!f.ok)throw f;return i?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>Xv(f,h,i))})})}function Ca(a,r,n,i){return xe(this,void 0,void 0,function*(){return Da(a,"GET",r,n,i)})}function tr(a,r,n,i,l){return xe(this,void 0,void 0,function*(){return Da(a,"POST",r,i,l,n)})}function dd(a,r,n,i,l){return xe(this,void 0,void 0,function*(){return Da(a,"PUT",r,i,l,n)})}function eb(a,r,n,i){return xe(this,void 0,void 0,function*(){return Da(a,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Rd(a,r,n,i,l){return xe(this,void 0,void 0,function*(){return Da(a,"DELETE",r,i,l,n)})}class tb{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}}var Mf;class rb{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[Mf]="BlobDownloadBuilder",this.promise=null}asStream(){return new tb(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}}Mf=Symbol.toStringTag;const sb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},o0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nb{constructor(r,n={},i,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=i,this.fetch=Td(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,i,l){return xe(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},o0),l);let h=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),f&&c.append("metadata",this.encodeMetadata(f)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",u.cacheControl),f&&c.append("metadata",this.encodeMetadata(f))):(c=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),l?.headers&&(h=Object.assign(Object.assign({},h),l.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),y=yield(r=="PUT"?dd:tr)(this.fetch,`${this.url}/object/${g}`,c,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Be(c))return{data:null,error:c};throw c}})}upload(r,n,i){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,i)})}uploadToSignedUrl(r,n,i,l){return xe(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let f;const p=Object.assign({upsert:o0.upsert},l),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",p.cacheControl)):(f=i,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const y=yield dd(this.fetch,h.toString(),f,{headers:g});return{data:{path:c,fullPath:y.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Be(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(r,n){return xe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(r);const l=Object.assign({},this.headers);n?.upsert&&(l["x-upsert"]="true");const c=yield tr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new Od("No token returned by API");return{data:{signedUrl:u.toString(),path:r,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}update(r,n,i){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,i)})}move(r,n,i){return xe(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}copy(r,n,i){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,i){return xe(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),c=yield tr(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,i){return xe(this,void 0,void 0,function*(){try{const l=yield tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}download(r,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(n?.transform||{}),u=c?`?${c}`:"",h=this._getFinalPath(r),f=()=>Ca(this.fetch,`${this.url}/${l}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new rb(f,this.shouldThrowOnError)}info(r){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const i=yield Ca(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:cd(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}exists(r){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield eb(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i)&&i instanceof ld){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(r,n){const i=this._getFinalPath(r),l=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${p}`)}}}remove(r){return xe(this,void 0,void 0,function*(){try{return{data:yield Rd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}list(r,n,i){return xe(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},sb),n),{prefix:r||""});return{data:yield tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}listV2(r,n){return xe(this,void 0,void 0,function*(){try{const i=Object.assign({},r);return{data:yield tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const zf="2.76.1",Uf={"X-Client-Info":`storage-js/${zf}`};class ab{constructor(r,n={},i,l){this.shouldThrowOnError=!1;const c=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uf),n),this.fetch=Td(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return xe(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}getBucket(r){return xe(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}createBucket(r){return xe(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}updateBucket(r,n){return xe(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}emptyBucket(r){return xe(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}deleteBucket(r){return xe(this,void 0,void 0,function*(){try{return{data:yield Rd(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}}class ib{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uf),n),this.fetch=Td(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return xe(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}listBuckets(r){return xe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;r?.limit!==void 0&&n.set("limit",r.limit.toString()),r?.offset!==void 0&&n.set("offset",r.offset.toString()),r?.sortColumn&&n.set("sortColumn",r.sortColumn),r?.sortOrder&&n.set("sortOrder",r.sortOrder),r?.search&&n.set("search",r.search);const i=n.toString(),l=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,c=yield Ca(this.fetch,l,{headers:this.headers});return{data:Array.isArray(c)?c.filter(h=>h.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}deleteBucket(r){return xe(this,void 0,void 0,function*(){try{return{data:yield Rd(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}}const Ld={"X-Client-Info":`storage-js/${zf}`,"Content-Type":"application/json"};class Ff extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Rt(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class Fc extends Ff{constructor(r,n,i){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ob extends Ff{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var l0;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(l0||(l0={}));const Id=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...n)=>Cn(async()=>{const{default:i}=await Promise.resolve().then(()=>Ts);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...n)):r=fetch,(...n)=>r(...n)},lb=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},c0=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),cb=(a,r,n)=>xe(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!n?.noResolveJson){const l=a.status||500,c=a;if(typeof c.json=="function")c.json().then(u=>{const h=u?.statusCode||u?.code||l+"";r(new Fc(c0(u),l,h))}).catch(()=>{const u=l+"",h=c.statusText||`HTTP ${l} error`;r(new Fc(h,l,u))});else{const u=l+"",h=c.statusText||`HTTP ${l} error`;r(new Fc(h,l,u))}}else r(new ob(c0(a),a))}),db=(a,r,n,i)=>{const l={method:a,headers:r?.headers||{}};return i?(lb(i)?(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(i)):l.body=i,Object.assign(Object.assign({},l),n)):l};function ub(a,r,n,i,l,c){return xe(this,void 0,void 0,function*(){return new Promise((u,h)=>{a(n,db(r,i,l,c)).then(f=>{if(!f.ok)throw f;if(i?.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>cb(f,h,i))})})}function Lt(a,r,n,i,l){return xe(this,void 0,void 0,function*(){return ub(a,"POST",r,i,l,n)})}class hb{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ld),n),this.fetch=Id(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return xe(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}getIndex(r,n){return xe(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}listIndexes(r){return xe(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return xe(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}}class mb{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ld),n),this.fetch=Id(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return xe(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Lt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}getVectors(r){return xe(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}listVectors(r){return xe(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield Lt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}queryVectors(r){return xe(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}deleteVectors(r){return xe(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Lt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}}class fb{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ld),n),this.fetch=Id(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return xe(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}getBucket(r){return xe(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}listBuckets(){return xe(this,arguments,void 0,function*(r={}){try{return{data:yield Lt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}deleteBucket(r){return xe(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}}class xb extends fb{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new pb(this.url,this.headers,r,this.fetch)}}class pb extends hb{constructor(r,n,i,l){super(r,n,l),this.vectorBucketName=i}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return xe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return xe(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return xe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return xe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new gb(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class gb extends mb{constructor(r,n,i,l,c){super(r,n,c),this.vectorBucketName=i,this.indexName=l}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return xe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return xe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return xe(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return xe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return xe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class yb extends ab{constructor(r,n={},i,l){super(r,n,i,l)}from(r){return new nb(this.url,this.headers,r,this.fetch)}get vectors(){return new xb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ib(this.url+"/iceberg",this.headers,this.fetch)}}const vb="2.76.1";let ba="";typeof Deno<"u"?ba="deno":typeof document<"u"?ba="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ba="react-native":ba="node";const bb={"X-Client-Info":`supabase-js-${ba}/${vb}`},wb={headers:bb},jb={schema:"public"},Nb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_b={},kb=a=>{let r;return a?r=a:typeof fetch>"u"?r=Pf:r=fetch,(...n)=>r(...n)},Sb=()=>typeof Headers>"u"?Af:Headers,Cb=(a,r,n)=>{const i=kb(n),l=Sb();return async(c,u)=>{var h;const f=(h=await r())!==null&&h!==void 0?h:a;let p=new l(u?.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),i(c,Object.assign(Object.assign({},u),{headers:p}))}};function Eb(a){return a.endsWith("/")?a:a+"/"}function Pb(a,r){var n,i;const{db:l,auth:c,realtime:u,global:h}=a,{db:f,auth:p,realtime:g,global:y}=r,j={db:Object.assign(Object.assign({},f),l),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(n=y?.headers)!==null&&n!==void 0?n:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return a.accessToken?j.accessToken=a.accessToken:delete j.accessToken,j}function Ab(a){const r=a?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Eb(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Bf="2.76.1",fn=30*1e3,ud=3,Bc=ud*fn,Ob="http://localhost:9999",Tb="supabase.auth.token",Rb={"X-Client-Info":`gotrue-js/${Bf}`},hd="X-Supabase-Api-Version",qf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ib=600*1e3;class Ea extends Error{constructor(r,n,i){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function we(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class $b extends Ea{constructor(r,n,i){super(r,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Db(a){return we(a)&&a.name==="AuthApiError"}class Ss extends Ea{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class ss extends Ea{constructor(r,n,i,l){super(r,i,l),this.name=n,this.status=i}}class Zr extends ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mb(a){return we(a)&&a.name==="AuthSessionMissingError"}class an extends ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oo extends ss{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class lo extends ss{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zb(a){return we(a)&&a.name==="AuthImplicitGrantRedirectError"}class d0 extends ss{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class md extends ss{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function qc(a){return we(a)&&a.name==="AuthRetryableFetchError"}class u0 extends ss{constructor(r,n,i){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class fd extends ss{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),h0=` 	
\r=`.split(""),Ub=(()=>{const a=new Array(128);for(let r=0;r<a.length;r+=1)a[r]=-1;for(let r=0;r<h0.length;r+=1)a[h0[r].charCodeAt(0)]=-2;for(let r=0;r<jo.length;r+=1)a[jo[r].charCodeAt(0)]=r;return a})();function m0(a,r,n){if(a!==null)for(r.queue=r.queue<<8|a,r.queuedBits+=8;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;n(jo[i]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;n(jo[i]),r.queuedBits-=6}}function Wf(a,r,n){const i=Ub[a];if(i>-1)for(r.queue=r.queue<<6|i,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function f0(a){const r=[],n=u=>{r.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=u=>{qb(u,i,n)};for(let u=0;u<a.length;u+=1)Wf(a.charCodeAt(u),l,c);return r.join("")}function Fb(a,r){if(a<=127){r(a);return}else if(a<=2047){r(192|a>>6),r(128|a&63);return}else if(a<=65535){r(224|a>>12),r(128|a>>6&63),r(128|a&63);return}else if(a<=1114111){r(240|a>>18),r(128|a>>12&63),r(128|a>>6&63),r(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function Bb(a,r){for(let n=0;n<a.length;n+=1){let i=a.charCodeAt(n);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(a.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Fb(i,r)}}function qb(a,r,n){if(r.utf8seq===0){if(a<=127){n(a);return}for(let i=1;i<6;i+=1)if((a>>7-i&1)===0){r.utf8seq=i;break}if(r.utf8seq===2)r.codepoint=a&31;else if(r.utf8seq===3)r.codepoint=a&15;else if(r.utf8seq===4)r.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|a&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function vn(a){const r=[],n={queue:0,queuedBits:0},i=l=>{r.push(l)};for(let l=0;l<a.length;l+=1)Wf(a.charCodeAt(l),n,i);return new Uint8Array(r)}function Wb(a){const r=[];return Bb(a,n=>r.push(n)),new Uint8Array(r)}function Cs(a){const r=[],n={queue:0,queuedBits:0},i=l=>{r.push(l)};return a.forEach(l=>m0(l,n,i)),m0(null,n,i),r.join("")}function Hb(a){return Math.round(Date.now()/1e3)+a}function Vb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const r=Math.random()*16|0;return(a=="x"?r:r&3|8).toString(16)})}const Tt=()=>typeof window<"u"&&typeof document<"u",js={tested:!1,writable:!1},Hf=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(js.tested)return js.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),js.tested=!0,js.writable=!0}catch{js.tested=!0,js.writable=!1}return js.writable};function Gb(a){const r={},n=new URL(a);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,c)=>{r[c]=l})}catch{}return n.searchParams.forEach((i,l)=>{r[l]=i}),r}const Vf=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...n)=>Cn(async()=>{const{default:i}=await Promise.resolve().then(()=>Ts);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...n)):r=fetch,(...n)=>r(...n)},Kb=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",xn=async(a,r,n)=>{await a.setItem(r,JSON.stringify(n))},Ns=async(a,r)=>{const n=await a.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yr=async(a,r)=>{await a.removeItem(r)};class Ro{constructor(){this.promise=new Ro.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}Ro.promiseConstructor=Promise;function Wc(a){const r=a.split(".");if(r.length!==3)throw new fd("Invalid JWT structure");for(let i=0;i<r.length;i++)if(!Lb.test(r[i]))throw new fd("JWT not in base64url format");return{header:JSON.parse(f0(r[0])),payload:JSON.parse(f0(r[1])),signature:vn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Qb(a){return await new Promise(r=>{setTimeout(()=>r(null),a)})}function Jb(a,r){return new Promise((i,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await a(c);if(!r(c,null,u)){i(u);return}}catch(u){if(!r(c,u)){l(u);return}}})()})}function Yb(a){return("0"+a.toString(16)).substr(-2)}function Xb(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let l="";for(let c=0;c<56;c++)l+=n.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(r),Array.from(r,Yb).join("")}async function Zb(a){const n=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(i);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function e1(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const n=await Zb(a);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function on(a,r,n=!1){const i=Xb();let l=i;n&&(l+="/PASSWORD_RECOVERY"),await xn(a,`${r}-code-verifier`,l);const c=await e1(i);return[c,i===c?"plain":"s256"]}const t1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r1(a){const r=a.headers.get(hd);if(!r||!r.match(t1))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function s1(a){if(!a)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(a<=r)throw new Error("JWT has expired")}function n1(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const a1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ln(a){if(!a1.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hc(){const a={};return new Proxy(a,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x0(a){return JSON.parse(JSON.stringify(a))}const _s=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),i1=[502,503,504];async function p0(a){var r;if(!Kb(a))throw new md(_s(a),0);if(i1.includes(a.status))throw new md(_s(a),a.status);let n;try{n=await a.json()}catch(c){throw new Ss(_s(c),c)}let i;const l=r1(a);if(l&&l.getTime()>=qf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new u0(_s(n),a.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(i==="session_not_found")throw new Zr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new u0(_s(n),a.status,n.weak_password.reasons);throw new $b(_s(n),a.status||500,i)}const o1=(a,r,n,i)=>{const l={method:a,headers:r?.headers||{}};return a==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),n))};async function _e(a,r,n,i){var l;const c=Object.assign({},i?.headers);c[hd]||(c[hd]=qf["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const u=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await l1(a,r,n+h,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(f):{data:Object.assign({},f),error:null}}async function l1(a,r,n,i,l,c){const u=o1(r,i,l,c);let h;try{h=await a(n,Object.assign({},u))}catch(f){throw console.error(f),new md(_s(f),0)}if(h.ok||await p0(h),i?.noResolveJson)return h;try{return await h.json()}catch(f){await p0(f)}}function er(a){var r;let n=null;u1(a)&&(n=Object.assign({},a),a.expires_at||(n.expires_at=Hb(a.expires_in)));const i=(r=a.user)!==null&&r!==void 0?r:a;return{data:{session:n,user:i},error:null}}function g0(a){const r=er(a);return!r.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(r.data.weak_password=a.weak_password),r}function es(a){var r;return{data:{user:(r=a.user)!==null&&r!==void 0?r:a},error:null}}function c1(a){return{data:a,error:null}}function d1(a){const{action_link:r,email_otp:n,hashed_token:i,redirect_to:l,verification_type:c}=a,u=Sn(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:r,email_otp:n,hashed_token:i,redirect_to:l,verification_type:c},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function y0(a){return a}function u1(a){return a.access_token&&a.refresh_token&&a.expires_in}const Vc=["global","local","others"];class h1{constructor({url:r="",headers:n={},fetch:i}){this.url=r,this.headers=n,this.fetch=Vf(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=Vc[0]){if(Vc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vc.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}}async inviteUserByEmail(r,n={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:es})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async generateLink(r){try{const{options:n}=r,i=Sn(r,["options"]),l=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:d1,redirectTo:n?.redirectTo})}catch(n){if(we(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:es})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,i,l,c,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},g=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(c=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:y0});if(g.error)throw g.error;const y=await g.json(),j=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);p[`${C}Page`]=k}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(we(p))return{data:{users:[]},error:p};throw p}}async getUserById(r){ln(r);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:es})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){ln(r);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:es})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async deleteUser(r,n=!1){ln(r);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:es})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async _listFactors(r){ln(r.userId);try{const{data:n,error:i}=await _e(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:i}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _deleteFactor(r){ln(r.userId),ln(r.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,i,l,c,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},g=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(c=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:y0});if(g.error)throw g.error;const y=await g.json(),j=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);p[`${C}Page`]=k}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(we(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(r){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(r){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}}function v0(a={}){return{getItem:r=>a[r]||null,setItem:(r,n)=>{a[r]=n},removeItem:r=>{delete a[r]}}}const cn={debug:!!(globalThis&&Hf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class m1 extends Gf{}async function f1(a,r,n){cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,r);const i=new globalThis.AbortController;return r>0&&setTimeout(()=>{i.abort(),cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,l.name);try{return await n()}finally{cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,l.name)}}else{if(r===0)throw cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new m1(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(cn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function x1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kf(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function p1(a){return parseInt(a,16)}function g1(a){const r=new TextEncoder().encode(a);return"0x"+Array.from(r,i=>i.toString(16).padStart(2,"0")).join("")}function y1(a){var r;const{chainId:n,domain:i,expirationTime:l,issuedAt:c=new Date,nonce:u,notBefore:h,requestId:f,resources:p,scheme:g,uri:y,version:j}=a;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((r=a.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const b=Kf(a.address),_=g?`${g}://${i}`:i,k=a.statement?`${a.statement}
`:"",C=`${_} wants you to sign in with your Ethereum account:
${b}

${k}`;let A=`URI: ${y}
Version: ${j}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(l&&(A+=`
Expiration Time: ${l.toISOString()}`),h&&(A+=`
Not Before: ${h.toISOString()}`),f&&(A+=`
Request ID: ${f}`),p){let N=`
Resources:`;for(const S of p){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);N+=`
- ${S}`}A+=N}return`${C}
${A}`}class Je extends Error{constructor({message:r,code:n,cause:i,name:l}){var c;super(r,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=l??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=n}}class No extends Je{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function v1({error:a,options:r}){var n,i,l;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((n=c.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(r.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new Je({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const u=window.location.hostname;if(Qf(u)){if(c.rp.id!==u)return new Je({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function b1({error:a,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new Je({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const i=window.location.hostname;if(Qf(i)){if(n.rpId!==i)return new Je({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class w1{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const j1=new w1;function N1(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:r,user:n,excludeCredentials:i}=a,l=Sn(a,["challenge","user","excludeCredentials"]),c=vn(r).buffer,u=Object.assign(Object.assign({},n),{id:vn(n.id).buffer}),h=Object.assign(Object.assign({},l),{challenge:c,user:u});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const p=i[f];h.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:vn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function _1(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:r,allowCredentials:n}=a,i=Sn(a,["challenge","allowCredentials"]),l=vn(r).buffer,c=Object.assign(Object.assign({},i),{challenge:l});if(n&&n.length>0){c.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];c.allowCredentials[u]=Object.assign(Object.assign({},h),{id:vn(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function k1(a){var r;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const n=a;return{id:a.id,rawId:a.id,response:{attestationObject:Cs(new Uint8Array(a.response.attestationObject)),clientDataJSON:Cs(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function S1(a){var r;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const n=a,i=a.getClientExtensionResults(),l=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Cs(new Uint8Array(l.authenticatorData)),clientDataJSON:Cs(new Uint8Array(l.clientDataJSON)),signature:Cs(new Uint8Array(l.signature)),userHandle:l.userHandle?Cs(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Qf(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function b0(){var a,r;return!!(Tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function C1(a){try{const r=await navigator.credentials.create(a);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new No("Browser returned unexpected credential type",r)}:{data:null,error:new No("Empty credential response",r)}}catch(r){return{data:null,error:v1({error:r,options:a})}}}async function E1(a){try{const r=await navigator.credentials.get(a);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new No("Browser returned unexpected credential type",r)}:{data:null,error:new No("Empty credential response",r)}}catch(r){return{data:null,error:b1({error:r,options:a})}}}const P1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},A1={userVerification:"preferred",hints:["security-key"]};function _o(...a){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),i={};for(const l of a)if(l)for(const c in l){const u=l[c];if(u!==void 0)if(Array.isArray(u))i[c]=u;else if(n(u))i[c]=u;else if(r(u)){const h=i[c];r(h)?i[c]=_o(h,u):i[c]=_o(u)}else i[c]=u}return i}function O1(a,r){return _o(P1,a,r||{})}function T1(a,r){return _o(A1,a,r||{})}class R1{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:i,signal:l},c){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!u)return{data:null,error:h};const f=l??j1.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=O1(u.webauthn.credential_options.publicKey,c?.create),{data:g,error:y}=await C1({publicKey:p,signal:f});return g?{data:{factorId:r,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const p=T1(u.webauthn.credential_options.publicKey,c?.request),{data:g,error:y}=await E1(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return g?{data:{factorId:r,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(u){return we(u)?{data:null,error:u}:{data:null,error:new Ss("Unexpected error in challenge",u)}}}async _verify({challengeId:r,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:i})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l}},c){if(!n)return{data:null,error:new Ea("rpId is required for WebAuthn authentication")};try{if(!b0())return{data:null,error:new Ss("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:i},signal:l},{request:c});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:r,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:i,credential_response:f.credential_response}})}catch(u){return we(u)?{data:null,error:u}:{data:null,error:new Ss("Unexpected error in authenticate",u)}}}async _register({friendlyName:r,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l},c){if(!n)return{data:null,error:new Ea("rpId is required for WebAuthn registration")};try{if(!b0())return{data:null,error:new Ss("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:r});if(!u)return await this.client.mfa.listFactors().then(g=>{var y;return(y=g.data)===null||y===void 0?void 0:y.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===r&&j.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:h};const{data:f,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:l},{create:c});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(u){return we(u)?{data:null,error:u}:{data:null,error:new Ss("Unexpected error in register",u)}}}}x1();const L1={url:Ob,storageKey:Tb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function w0(a,r,n){return await n()}const dn={};class Pa{get jwks(){var r,n;return(n=(r=dn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){dn[this.storageKey]=Object.assign(Object.assign({},dn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=dn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){dn[this.storageKey]=Object.assign(Object.assign({},dn[this.storageKey]),{cachedAt:r})}constructor(r){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pa.nextInstanceID,Pa.nextInstanceID+=1,this.instanceID>0&&Tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},L1),r);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new h1({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Vf(l.fetch),this.lock=l.lock||w0,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Tt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=f1:this.lock=w0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new R1(this)},this.persistSession?(l.storage?this.storage=l.storage:Hf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=v0(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=v0(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bf}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=Gb(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Tt()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:c}=await this._getSessionFromURL(n,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),zb(c)){const f=(r=c.details)===null||r===void 0?void 0:r.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return we(n)?{error:n}:{error:new Ss("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,i,l;try{const c=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=r?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=r?.options)===null||l===void 0?void 0:l.captchaToken}},xform:er}),{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(c){if(we(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(r){var n,i,l;try{let c;if("email"in r){const{email:g,password:y,options:j}=r;let b=null,_=null;this.flowType==="pkce"&&([b,_]=await on(this.storage,this.storageKey)),c=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:g,password:y,data:(n=j?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:b,code_challenge_method:_},xform:er})}else if("phone"in r){const{phone:g,password:y,options:j}=r;c=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(i=j?.data)!==null&&i!==void 0?i:{},channel:(l=j?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:er})}else throw new oo("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(c){if(we(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(r){try{let n;if("email"in r){const{email:c,password:u,options:h}=r;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:g0})}else if("phone"in r){const{phone:c,password:u,options:h}=r;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:g0})}else throw new oo("You must provide either an email or phone number and a password");const{data:i,error:l}=n;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new an}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,i,l,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=r.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,i,l,c,u,h,f,p,g,y,j;let b,_;if("message"in r)b=r.message,_=r.signature;else{const{chain:k,wallet:C,statement:A,options:N}=r;let S;if(Tt())if(typeof C=="object")S=C;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")S=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=C}const F=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),P=await S.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=Kf(P[0]);let D=(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!D){const H=await S.request({method:"eth_chainId"});D=p1(H)}const I={domain:F.host,address:$,statement:A,uri:F.href,version:"1",chainId:D,nonce:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(u=(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=N?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=N?.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=y1(I),_=await S.request({method:"personal_sign",params:[g1(b),$]})}try{const{data:k,error:C}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:_},!((y=r.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(j=r.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:er});if(C)throw C;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new an}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:C})}catch(k){if(we(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(r){var n,i,l,c,u,h,f,p,g,y,j,b;let _,k;if("message"in r)_=r.message,k=r.signature;else{const{chain:C,wallet:A,statement:N,options:S}=r;let F;if(Tt())if(typeof A=="object")F=A;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))F=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=A}const P=new URL((n=S?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const $=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),N?{statement:N}:null));let D;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")D=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)D=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)_=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),k=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${P.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(l=(i=S?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=S?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((h=S?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((f=S?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((p=S?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((y=(g=S?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...S.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const $=await F.signMessage(new TextEncoder().encode(_),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=$}}try{const{data:C,error:A}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Cs(k)},!((j=r.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:er});if(A)throw A;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new an}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:A})}catch(C){if(we(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(r){const n=await Ns(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(n??"").split("/");try{const{data:c,error:u}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:i},xform:er});if(await Yr(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new an}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:u})}catch(c){if(we(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(r){try{const{options:n,provider:i,token:l,access_token:c,nonce:u}=r,h=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:er}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new an}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,i,l,c,u;try{if("email"in r){const{email:h,options:f}=r;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await on(this.storage,this.storageKey));const{error:y}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(i=f?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in r){const{phone:h,options:f}=r,{data:p,error:g}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=f?.data)!==null&&l!==void 0?l:{},create_user:(c=f?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:g}}throw new oo("You must provide either an email or phone number.")}catch(h){if(we(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(r){var n,i;try{let l,c;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,c=(i=r.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:er});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(l){if(we(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(r){var n,i,l;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await on(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(i=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=r?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:c1})}catch(c){if(we(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)throw i;if(!n)throw new Zr;const{error:l}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:i,type:l,options:c}=r,{error:u}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in r){const{phone:i,type:l,options:c}=r,{data:u,error:h}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new oo("You must provide either an email or phone number and a type")}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Ns(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const i=r.expires_at?r.expires_at*1e3-Date.now()<Bc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(this.userStorage){const u=await Ns(this.userStorage,this.storageKey+"-user");u?.user?r.user=u.user:r.user=Hc()}if(this.storage.isServer&&r.user){let u=this.suppressGetSessionWarning;r=new Proxy(r,{get:(f,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,g))})}return{data:{session:r},error:null}}const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:es}):await this._useSession(async n=>{var i,l,c;const{data:u,error:h}=n;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zr}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:es})})}catch(n){if(we(n))return Mb(n)&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async i=>{const{data:l,error:c}=i;if(c)throw c;if(!l.session)throw new Zr;const u=l.session;let h=null,f=null;this.flowType==="pkce"&&r.email!=null&&([h,f]=await on(this.storage,this.storageKey));const{data:p,error:g}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:es});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Zr;const n=Date.now()/1e3;let i=n,l=!0,c=null;const{payload:u}=Wc(r.access_token);if(u.exp&&(i=u.exp,l=i<=n),l){const{data:h,error:f}=await this._callRefreshToken(r.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:f}=await this._getUser(r.access_token);if(f)throw f;c={access_token:r.access_token,refresh_token:r.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(n){if(we(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var i;if(!r){const{data:u,error:h}=n;if(h)throw h;r=(i=u.session)!==null&&i!==void 0?i:void 0}if(!r?.refresh_token)throw new Zr;const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!Tt())throw new lo("No browser detected.");if(r.error||r.error_description||r.error_code)throw new lo(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new d0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new d0("No code detected.");const{data:N,error:S}=await this._exchangeCodeForSession(r.code);if(S)throw S;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:c,refresh_token:u,expires_in:h,expires_at:f,token_type:p}=r;if(!c||!h||!u||!p)throw new lo("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(h);let j=g+y;f&&(j=parseInt(f));const b=j-g;b*1e3<=fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const _=j-y;g-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,j,g):g-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,j,g);const{data:k,error:C}=await this._getUser(c);if(C)throw C;const A={provider_token:i,provider_refresh_token:l,access_token:c,expires_in:y,expires_at:j,refresh_token:u,token_type:p,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:r.type},error:null}}catch(i){if(we(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Ns(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:l,error:c}=n;if(c)return{error:c};const u=(i=l.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,r);if(h&&!(Db(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return r!=="others"&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=Vb(),i={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(r){return await this._useSession(async n=>{var i,l;try{const{data:{session:c},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(r))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,n={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await on(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(we(c))return{data:null,error:c};throw c}}async getUserIdentities(){var r;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:i,error:l}=await this._useSession(async c=>{var u,h,f,p,g;const{data:y,error:j}=c;if(j)throw j;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(u=r.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=r.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=r.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return Tt()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:r.provider,url:i?.url},error:null}}catch(i){if(we(i))return{data:{provider:r.provider,url:null},error:i};throw i}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var i;try{const{error:l,data:{session:c}}=n;if(l)throw l;const{options:u,provider:h,token:f,access_token:p,nonce:g}=r,y=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:f,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:er}),{data:j,error:b}=y;return b?{data:{user:null,session:null},error:b}:!j||!j.session||!j.user?{data:{user:null,session:null},error:new an}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),{data:j,error:b})}catch(l){if(we(l))return{data:{user:null,session:null},error:l};throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var i,l;const{data:c,error:u}=n;if(u)throw u;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await Jb(async l=>(l>0&&await Qb(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:er})),(l,c)=>{const u=200*Math.pow(2,l);return c&&qc(c)&&Date.now()+u-i<fn})}catch(i){if(this._debug(n,"error",i),we(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",i),Tt()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:r,url:i},error:null}}async _recoverAndRefresh(){var r,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await Ns(this.storage,this.storageKey);if(l&&this.userStorage){let u=await Ns(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:l.user},await xn(this.userStorage,this.storageKey+"-user",u)),l.user=(r=u?.user)!==null&&r!==void 0?r:Hc()}else if(l&&!l.user&&!l.user){const u=await Ns(this.storage,this.storageKey+"-user");u&&u?.user?(l.user=u.user,await Yr(this.storage,this.storageKey+"-user"),await xn(this.storage,this.storageKey,l)):l.user=Hc()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const c=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bc;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${Bc}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),qc(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(l.access_token);!h&&u?.user?(l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(r){var n,i;if(!r)throw new Zr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ro;const{data:c,error:u}=await this._refreshAccessToken(r);if(u)throw u;if(!c.session)throw new Zr;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(l,"error",c),we(c)){const u={data:null,error:c};return qc(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,i=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:r,session:n});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(r,n)}catch(f){c.push(f)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await xn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const c=x0(l);await xn(this.storage,this.storageKey,c)}else{const l=x0(n);await xn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Yr(this.storage,this.storageKey),await Yr(this.storage,this.storageKey+"-code-verifier"),await Yr(this.storage,this.storageKey+"-user"),this.userStorage&&await Yr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),fn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-r)/fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${fn}ms, refresh threshold is ${ud} ticks`),l<=ud&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Gf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,i){const l=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,u]=await on(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(h.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);l.push(c.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var i;const{data:l,error:c}=n;return c?{data:null,error:c}:await _e(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var i,l;const{data:c,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:f,error:p}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(r.factorType==="totp"&&f.type==="totp"&&(!((l=f?.totp)===null||l===void 0)&&l.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:c}=n;if(c)return{data:null,error:c};const u=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?k1(r.webauthn.credential_response):S1(r.webauthn.credential_response)})}:{code:r.code}),{data:h,error:f}=await _e(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:f})})}catch(n){if(we(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:c}=n;if(c)return{data:null,error:c};const u=await _e(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:N1(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:_1(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(we(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:i}=await this._challenge({factorId:r.factorId});return i?{data:null,error:i}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=n?.factors)!==null&&r!==void 0?r:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var n,i;const{data:{session:l},error:c}=r;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Wc(l.access_token);let h=null;u.aal&&(h=u.aal);let f=h;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(r,n={keys:[]}){let i=n.keys.find(h=>h.kid===r);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(h=>h.kid===r),i&&this.jwks_cached_at+Ib>l)return i;const{data:c,error:u}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,i=c.keys.find(h=>h.kid===r),!i)?null:i}async getClaims(r,n={}){try{let i=r;if(!i){const{data:b,error:_}=await this.getSession();if(_||!b.session)return{data:null,error:_};i=b.session.access_token}const{header:l,payload:c,signature:u,raw:{header:h,payload:f}}=Wc(i);n?.allowExpired||s1(c.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:c,header:l,signature:u},error:null}}const g=n1(l.alg),y=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,u,Wb(`${h}.${f}`)))throw new fd("Invalid JWT signature");return{data:{claims:c,header:l,signature:u},error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}}}Pa.nextInstanceID=0;const I1=Pa;class $1 extends I1{constructor(r){super(r)}}class D1{constructor(r,n,i){var l,c,u;this.supabaseUrl=r,this.supabaseKey=n;const h=Ab(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:jb,realtime:_b,auth:Object.assign(Object.assign({},Nb),{storageKey:f}),global:wb},g=Pb(i??{},p);this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=Cb(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new Ov(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new yb(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new wv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:c,storageKey:u,flowType:h,lock:f,debug:p},g,y){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $1({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),g),storageKey:u,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:c,flowType:h,lock:f,debug:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Kv(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jf=(a,r,n)=>new D1(a,r,n);function M1(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}M1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yf="https://mpbszymyubxavjoxhzfm.supabase.co",z1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1wYnN6eW15dWJ4YXZqb3hoemZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyOTc5OTQsImV4cCI6MjA2OTg3Mzk5NH0.NnHFwGCkNpTWorV8O6vgn6uuqYPRek1QK4Sk_rcqLOg",U1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1wYnN6eW15dWJ4YXZqb3hoemZtIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NDI5Nzk5NCwiZXhwIjoyMDY5ODczOTk0fQ.a2qiA6LIIDkxO6YDxUyOzansgdop_oNQgp0uLBUF8vA",Ee=Jf(Yf,z1),ft=Jf(Yf,U1,{auth:{autoRefreshToken:!1,persistSession:!1}});async function Lo(){try{console.log(" Fetching products from Supabase...");let a=[],r=0;const n=1e3;let i=!0;for(;i;){const{data:l,error:c}=await Ee.from("products").select("*").eq("in_stock",!0).order("created_at",{ascending:!1}).range(r,r+n-1);if(c)throw console.error(" Supabase error:",c),new Error(`Database error: ${c.message}`);l&&l.length>0?(a=[...a,...l],r+=n,i=l.length===n):i=!1}return console.log(` Successfully fetched ${a.length} products`),$d(a)}catch(a){throw console.error(" Error in getAllProducts:",a),a}}async function F1(a){try{console.log(" getProductsByCategory - Querying for category:",a);let r=[],n=0;const i=1e3;let l=!0;for(;l;){const{data:u,error:h}=await Ee.from("products").select("*").eq("category",a).eq("in_stock",!0).order("rating",{ascending:!1}).range(n,n+i-1);if(h)return console.error(" Error fetching products by category:",h),[];u&&u.length>0?(r=[...r,...u],n+=i,l=u.length===i):l=!1}console.log(" getProductsByCategory - Raw data from DB:",r.length,"products");const c=$d(r);return console.log(" getProductsByCategory - Transformed products:",c.length),c}catch(r){return console.error("Error in getProductsByCategory:",r),[]}}async function Xf(a){try{const{data:r,error:n}=await Ee.from("products").select("*").eq("in_stock",!0).ilike("name",`%${a}%`);return n?(console.error("Error searching products:",n),[]):$d(r||[])}catch(r){return console.error("Error in searchProducts:",r),[]}}function $d(a){return a.map(r=>({...r,price:typeof r.price=="string"?parseFloat(r.price):r.price,image:r.image_url||r.image}))}async function B1(a){try{const{data:r,error:n}=await Ee.auth.signInWithOtp({phone:a});if(n)throw n;return r}catch(r){throw console.error("Error sending OTP:",r),r}}async function q1(a,r){try{const{data:n,error:i}=await Ee.auth.verifyOtp({phone:a,token:r,type:"sms"});if(i)throw i;return n}catch(n){throw console.error("Error verifying OTP:",n),n}}async function W1(){try{const{data:{user:a}}=await Ee.auth.getUser();return a}catch(a){return console.error("Error getting current user:",a),null}}async function H1(){try{const{error:a}=await Ee.auth.signOut();if(a)throw a}catch(a){throw console.error("Error logging out:",a),a}}async function V1(){try{const a=new Date,r=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0"),c=`NN${`${r}${n}${i}`}`,{data:u,error:h}=await Ee.rpc("generate_next_order_number",{date_prefix:c});if(h)throw console.error("Error generating order number via RPC:",h),new Error(`Failed to generate order number: ${h.message}`);if(!u||typeof u!="string")throw new Error("Invalid response from order number generator");return u}catch(a){throw console.error("Error generating order number:",a),a}}async function G1(a){try{console.log(" Creating order...",a);const r=await V1();console.log(" Generated order number:",r);const n={user_id:a.user_id||null,customer_name:a.customer_name,customer_email:a.customer_email||null,customer_phone:a.customer_phone,order_status:a.order_status,payment_status:a.payment_status,payment_method:a.payment_method,order_total:a.order_total,subtotal:a.subtotal,delivery_fee:a.delivery_fee,items:a.items,shipping_address:a.shipping_address,order_number:r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:i,error:l}=await Ee.from("orders").insert([n]).select().single();if(l)throw console.error(" Error creating order:",l),new Error(`Failed to create order: ${l.message}`);return console.log(" Order created successfully:",i),{...i,items_count:i.items?.length||0}}catch(r){throw console.error(" Error in createOrder:",r),r}}async function K1(a,r,n){try{console.log(" Fetching orders for user:",a,"phone:",r,"email:",n);const i=[];if(a&&i.push(Ee.from("orders").select("*").eq("user_id",a)),r&&i.push(Ee.from("orders").select("*").eq("customer_phone",r)),n&&i.push(Ee.from("orders").select("*").eq("customer_email",n)),i.length>0){const l=await Promise.all(i),c=[],u=new Set;for(const h of l){if(h.error){console.warn(" Error in one of the order queries:",h.error);continue}if(h.data)for(const f of h.data)u.has(f.id)||(u.add(f.id),c.push(f))}return c.sort((h,f)=>{const p=new Date(h.created_at).getTime();return new Date(f.created_at).getTime()-p}),console.log(` Fetched ${c.length} orders for user (including matches by phone/email)`),c.map(h=>({...h,items_count:h.items?.length||0}))}else{if(!(a&&typeof a=="string"&&a.trim()!==""))return console.warn(" No valid user identifier provided for order query (userId, phone, or email)"),[];const{data:c,error:u}=await Ee.from("orders").select("*").eq("user_id",a).order("created_at",{ascending:!1});return u?(console.warn(" Error fetching user orders:",u),[]):(console.log(` Fetched ${c?.length||0} orders for user`),(c||[]).map(h=>({...h,items_count:h.items?.length||0})))}}catch(i){throw console.error(" Error in getUserOrders:",i),i}}async function Q1(a){try{if(console.log(" Subscribing email to newsletter:",a),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))throw new Error("Please enter a valid email address");const{data:n}=await Ee.from("newsletter_subscriptions").select("*").eq("email",a.toLowerCase().trim()).single();if(n){if(n.is_active)return console.log(" Email already subscribed"),n;const{data:c,error:u}=await Ee.from("newsletter_subscriptions").update({is_active:!0,subscribed_at:new Date().toISOString()}).eq("email",a.toLowerCase().trim()).select().single();if(u)throw new Error(`Failed to resubscribe: ${u.message}`);return console.log(" Email resubscribed successfully"),c}const{data:i,error:l}=await Ee.from("newsletter_subscriptions").insert([{email:a.toLowerCase().trim(),is_active:!0,subscribed_at:new Date().toISOString()}]).select().single();if(l)throw console.error(" Error subscribing to newsletter:",l),new Error(`Failed to subscribe: ${l.message}`);return console.log(" Successfully subscribed to newsletter"),i}catch(r){throw console.error(" Error in subscribeToNewsletter:",r),r}}async function kr(a){try{console.log(" Fetching addresses for user:",a);const{data:r,error:n}=await Ee.from("addresses").select("*").eq("user_id",a).order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(n)throw console.error(" Error fetching addresses:",n),new Error(`Failed to fetch addresses: ${n.message}`);return console.log(` Fetched ${r?.length||0} addresses`),r||[]}catch(r){throw console.error(" Error in getUserAddresses:",r),r}}async function Zf(a){try{console.log(" Creating new address..."),a.is_default&&await Ee.from("addresses").update({is_default:!1}).eq("user_id",a.user_id);const{data:r,error:n}=await Ee.from("addresses").insert([a]).select().single();if(n)throw console.error(" Error creating address:",n),new Error(`Failed to create address: ${n.message}`);return console.log(" Address created successfully"),r}catch(r){throw console.error(" Error in createAddress:",r),r}}async function ex(a,r,n){try{console.log(" Updating address:",a),n.is_default&&await Ee.from("addresses").update({is_default:!1}).eq("user_id",r).neq("id",a);const{data:i,error:l}=await Ee.from("addresses").update({...n,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",r).select().single();if(l)throw console.error(" Error updating address:",l),new Error(`Failed to update address: ${l.message}`);return console.log(" Address updated successfully"),i}catch(i){throw console.error(" Error in updateAddress:",i),i}}async function tx(a,r){try{console.log(" Deleting address:",a);const{error:n}=await Ee.from("addresses").delete().eq("id",a).eq("user_id",r);if(n)throw console.error(" Error deleting address:",n),new Error(`Failed to delete address: ${n.message}`);console.log(" Address deleted successfully")}catch(n){throw console.error(" Error in deleteAddress:",n),n}}async function J1(a,r){try{console.log(" Setting default address:",a),await Ee.from("addresses").update({is_default:!1}).eq("user_id",r);const{data:n,error:i}=await Ee.from("addresses").update({is_default:!0,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",r).select().single();if(i)throw console.error(" Error setting default address:",i),new Error(`Failed to set default address: ${i.message}`);return console.log(" Default address updated successfully"),n}catch(n){throw console.error(" Error in setDefaultAddress:",n),n}}const rx=v.createContext(void 0);function Y1({children:a}){const[r,n]=v.useState(null),[i,l]=v.useState(!0),[c,u]=v.useState(!1);v.useEffect(()=>{const j=async()=>{try{l(!0);const _=await W1();_?(n({id:_.id,phone:_.phone,email:_.email,name:_.user_metadata?.name}),u(!0)):(n(null),u(!1))}catch(_){console.error("Error checking authentication:",_),n(null),u(!1)}finally{l(!1)}},{data:{subscription:b}}=Ee.auth.onAuthStateChange(async(_,k)=>{k?.user?(n({id:k.user.id,phone:k.user.phone,email:k.user.email,name:k.user.user_metadata?.name}),u(!0)):(n(null),u(!1)),l(!1)});return j(),()=>{b.unsubscribe()}},[]);const y={user:r,isLoading:i,isAuthenticated:c,loginWithPhone:async j=>{try{l(!0),await B1(j)}catch(b){throw console.error("Error logging in with phone:",b),b}finally{l(!1)}},verifyOTPCode:async(j,b)=>{try{l(!0);const{session:_,user:k}=await q1(j,b);k&&(n({id:k.id,phone:k.phone,email:k.email,name:k.user_metadata?.name}),u(!0))}catch(_){throw console.error("Error verifying OTP:",_),_}finally{l(!1)}},logoutUser:async()=>{try{l(!0),await H1(),n(null),u(!1)}catch(j){throw console.error("Error logging out:",j),j}finally{l(!1)}},updateUserProfile:async j=>{try{l(!0);const{error:b}=await Ee.auth.updateUser({data:j});if(b)throw b;r&&n({...r,...j})}catch(b){throw console.error("Error updating profile:",b),b}finally{l(!1)}}};return e.jsx(rx.Provider,{value:y,children:a})}function ns(){const a=v.useContext(rx);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a}const sx=v.createContext(void 0);function X1({children:a}){const{isAuthenticated:r,user:n}=ns(),[i,l]=v.useState([]),[c,u]=v.useState(0),[h,f]=v.useState(0),[p,g]=v.useState(!1);v.useEffect(()=>{if(r&&n){const N=localStorage.getItem("nearNowCartItems");if(N)try{const S=JSON.parse(N);Array.isArray(S)&&S.length>0?(l(S),g(!0)):(l([]),g(!0))}catch(S){console.error("Error loading cart from storage:",S),l([]),g(!0)}else l([]),g(!0)}else l([]),u(0),f(0),g(!1)},[r,n]),v.useEffect(()=>{if(r&&p)try{localStorage.setItem("nearNowCartItems",JSON.stringify(i));const N=i.reduce((F,P)=>F+(P.quantity||0),0);u(N);const S=i.reduce((F,P)=>F+P.price*P.quantity,0);f(S)}catch(N){console.error("Error saving cart to storage:",N)}else r||(localStorage.removeItem("nearNowCartItems"),u(0),f(0))},[i,r,p]);const y=(N,S=1,F=!1)=>r?(l(P=>{const $=P.findIndex(D=>D.id===N.id&&D.isLoose===F);if($>=0){const D=[...P];return D[$].quantity+=S,D}else{const D={id:N.id,name:N.name,price:N.price,quantity:S,image:N.image||N.image_url,size:N.size||N.weight||"",isLoose:F};return[...P,D]}}),!0):!1,j=N=>r?(l(S=>S.filter(F=>F.id!==N)),!0):!1,A={cartItems:i,cartCount:c,cartTotal:h,addToCart:y,removeFromCart:j,updateCartQuantity:(N,S)=>r?S<=0?(j(N),!0):(l(F=>F.map(P=>P.id===N?{...P,quantity:S}:P)),!0):!1,decreaseCartQuantity:N=>r?(l(S=>{const F=S.find(P=>P.id===N);return F&&F.quantity>1?S.map(P=>P.id===N?{...P,quantity:P.quantity-1}:P):S.filter(P=>P.id!==N)}),!0):!1,clearCart:()=>{r&&(l([]),localStorage.removeItem("nearNowCartItems"))},getCartTotal:()=>i.reduce((N,S)=>N+S.price*S.quantity,0),isAuthenticated:r};return e.jsx(sx.Provider,{value:A,children:a})}function as(){const a=v.useContext(sx);if(a===void 0)throw new Error("useCart must be used within a CartProvider");return a}const nx=v.createContext(void 0);function Z1({children:a}){const[r,n]=v.useState([]);v.useEffect(()=>{if(r.length>0){const u=r.map(h=>{const f=h.duration||3e3;return setTimeout(()=>{l(h.id)},f)});return()=>{u.forEach(h=>clearTimeout(h))}}},[r]);const i=(u,h="info",f=3e3)=>{const g={id:Math.random().toString(36).substring(2,9),message:u,type:h,duration:f};n(y=>[...y,g])},l=u=>{n(h=>h.filter(f=>f.id!==u))},c={notifications:r,showNotification:i,removeNotification:l};return e.jsx(nx.Provider,{value:c,children:a})}function fr(){const a=v.useContext(nx);if(a===void 0)throw new Error("useNotification must be used within a NotificationProvider");return a}function Ke(a){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a)}function Aa(a){return a?a.replace(/-/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "):""}function ew(a,r){return a?a.length<=r?a:a.substring(0,r)+"...":""}const tw=({item:a})=>{const{updateCartQuantity:r,removeFromCart:n}=as(),i=()=>{r(a.id,a.quantity+1)},l=()=>{a.quantity>1?r(a.id,a.quantity-1):n(a.id)},c=()=>{n(a.id)};return e.jsxs("div",{className:"flex items-start border-b border-gray-200 pb-4",children:[e.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-gray-100 rounded-md overflow-hidden",children:e.jsx("img",{src:a.image||"https://via.placeholder.com/80x80?text=No+Image",alt:a.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"ml-4 flex-grow",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-800 line-clamp-2",children:a.name}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-red-500 ml-2 flex-shrink-0",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.size&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.size}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("div",{className:"text-primary font-medium",children:Ke(a.price)}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[e.jsx("button",{onClick:l,className:"w-8 h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-gray-800 text-sm",children:a.quantity}),e.jsx("button",{onClick:i,className:"w-8 h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),e.jsxs("div",{className:"text-xs text-right text-gray-500 mt-1",children:["Total: ",Ke(a.price*a.quantity)]})]})]})},rw=({isOpen:a,onClose:r})=>{const{cartItems:n,getCartTotal:i,clearCart:l}=as(),c=v.useRef(null),u=i(),h=u>0?40:0,f=u+h;return v.useEffect(()=>{const p=g=>{c.current&&!c.current.contains(g.target)&&r()};return a&&(document.addEventListener("mousedown",p),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",p),document.body.style.overflow="auto"}},[a,r]),v.useEffect(()=>{const p=g=>{g.key==="Escape"&&a&&r()};return document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}},[a,r]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 z-40 ${a?"opacity-50":"opacity-0 pointer-events-none"}`,onClick:r,"aria-hidden":"true"}),e.jsx("div",{ref:c,className:`fixed top-0 right-0 h-full w-full sm:w-96 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"translate-x-full"}`,"aria-labelledby":"cart-heading",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-green-50 to-green-100",children:[e.jsxs("h2",{id:"cart-heading",className:"text-lg font-bold text-gray-800 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Your Cart ",n.length>0&&`(${n.length})`]}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500 rounded-full p-1","aria-label":"Close cart",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex-grow overflow-y-auto p-4",children:n.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 text-gray-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-300 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})})]}),e.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-3",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-500 mb-8 max-w-xs mx-auto",children:"Looks like you haven't added any products to your cart yet. Browse our catalog to find what you need."}),e.jsxs("button",{onClick:r,className:"bg-primary hover:bg-secondary text-white px-8 py-3 rounded-md transition-colors shadow-md hover:shadow-lg flex items-center justify-center group",children:[e.jsx("span",{children:"Start Shopping"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2 transform group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]}):e.jsx("div",{className:"space-y-4",children:n.map(p=>e.jsx(tw,{item:p},`${p.id}-${p.isLoose?"loose":"regular"}`))})}),n.length>0&&e.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gradient-to-r from-green-50 to-green-100",children:[e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{className:"font-medium",children:Ke(u)})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsx("span",{className:"font-medium",children:Ke(h)})]}),e.jsx("div",{className:"h-px bg-gray-200 my-2"}),e.jsxs("div",{className:"flex justify-between font-bold text-gray-800 text-lg",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"text-green-700",children:Ke(f)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ce,{to:"/checkout",onClick:r,className:"block w-full bg-primary hover:bg-secondary text-white py-3 rounded-md text-center font-medium transition-colors shadow-md hover:shadow-lg flex items-center justify-center",children:[e.jsx("span",{children:"Proceed to Checkout"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:r,className:"text-gray-600 hover:text-gray-800 py-2 text-center text-sm flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Continue Shopping"]}),e.jsxs("button",{onClick:l,className:"text-red-500 hover:text-red-700 py-2 text-center text-sm flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear Cart"]})]})]})]})]})})]})};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nw=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,i)=>i?i.toUpperCase():n.toLowerCase()),j0=a=>{const r=nw(a);return r.charAt(0).toUpperCase()+r.slice(1)},ax=(...a)=>a.filter((r,n,i)=>!!r&&r.trim()!==""&&i.indexOf(r)===n).join(" ").trim(),aw=a=>{for(const r in a)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=v.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:u,...h},f)=>v.createElement("svg",{ref:f,...iw,width:r,height:r,stroke:a,strokeWidth:i?Number(n)*24/Number(r):n,className:ax("lucide",l),...!c&&!aw(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,g])=>v.createElement(p,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(a,r)=>{const n=v.forwardRef(({className:i,...l},c)=>v.createElement(ow,{ref:c,iconNode:r,className:ax(`lucide-${sw(j0(a))}`,`lucide-${a}`,i),...l}));return n.displayName=j0(a),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],cw=te("activity",lw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],ko=te("arrow-down-right",dw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],hw=te("arrow-down",uw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Io=te("arrow-left",mw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],xw=te("arrow-up-down",fw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],_a=te("arrow-up-right",pw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],yw=te("arrow-up",gw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],bw=te("award",vw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],So=te("ban",ww);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Nw=te("bell",jw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dd=te("calendar",_w);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$o=te("chart-column",kw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Cw=te("chart-pie",Sw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pr=te("check",Ew);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Oa=te("chevron-down",Pw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ma=te("chevron-left",Aw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],za=te("chevron-right",Ow);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],We=te("circle-alert",Tw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kt=te("circle-check-big",Rw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Iw=te("circle-user",Lw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xd=te("circle-x",$w);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Mw=te("clipboard-list",Dw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nr=te("clock",zw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Fw=te("cloud-upload",Uw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ka=te("credit-card",Bw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Md=te("dollar-sign",qw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Hw=te("download",Ww);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],is=te("eye",Vw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Kw=te("facebook",Gw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],ix=te("file-image",Qw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Do=te("file-text",Jw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Xw=te("folder-open",Yw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Mo=te("funnel",Zw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],tj=te("grid-3x3",ej);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],N0=te("grip-vertical",rj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],nj=te("hash",sj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],zd=te("image-off",aj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],oj=te("indian-rupee",ij);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ox=te("info",lj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],dj=te("instagram",cj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jn=te("layers",uj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],mj=te("layout-dashboard",hj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],xj=te("link",fj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],gj=te("linkedin",pj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],vj=te("list",yj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xt=te("loader-circle",bj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ps=te("lock",wj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Nj=te("log-in",jj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lx=te("log-out",_j);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ua=te("mail",kj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Cr=te("map-pin",Sj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],cx=te("menu",Cj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Pj=te("navigation",Ej);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qt=te("package",Aj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Tj=te("palette",Oj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Lj=te("percent",Rj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ud=te("phone",Ij);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ar=te("plus",$j);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],co=te("refresh-ccw",Dj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rs=te("refresh-cw",Mj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zo=te("save",zj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],_0=te("scale",Uj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ar=te("search",Fj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],qj=te("send",Bj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hj=te("settings",Wj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Fd=te("shield-alert",Vj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Uo=te("shield-check",Gj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ts=te("shield",Kj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ir=te("shopping-bag",Qj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Co=te("shopping-cart",Jj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],k0=te("sliders-horizontal",Yj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Es=te("sparkles",Xj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Fo=te("square-pen",Zj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],S0=te("star",e2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],r2=te("tag",t2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],n2=te("target",s2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],dx=te("toggle-left",a2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ux=te("toggle-right",i2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fa=te("trash-2",o2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],c2=te("trending-down",l2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ta=te("trending-up",d2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],h2=te("triangle-alert",u2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],mr=te("truck",m2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],x2=te("twitter",f2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],g2=te("upload",p2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Eo=te("user-check",y2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],b2=te("user-plus",v2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],j2=te("user-x",w2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],As=te("user",N2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Os=te("users",_2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ie=te("x",k2),Gc={GOOGLE_MAPS_API_KEY:"AIzaSyAaEh8Qu-k6nT5BphpHcOUBOZ5RJ7F2QTQ",LOCATION_CACHE_DURATION:864e5,SEARCH_RADIUS_KM:1,MAX_SAVED_ADDRESSES:5,isProduction:function(){return!0},isProductionDomain:function(){return typeof window>"u"?!1:window.location.hostname==="nearandnow.in"||window.location.hostname==="www.nearandnow.in"},requiresHTTPS:function(){return typeof window>"u"?!1:this.isProduction()&&window.location.protocol!=="https:"},getApiKey:function(){return this.GOOGLE_MAPS_API_KEY}},S2=({isOpen:a,onClose:r,onLocationSelect:n,currentLocation:i})=>{const[l,c]=v.useState(""),[u,h]=v.useState([]),[f,p]=v.useState(!1),[g,y]=v.useState(!1),[j,b]=v.useState(null),[_,k]=v.useState([]),C=v.useRef(null),A=v.useRef(null),N=v.useRef(null);v.useEffect(()=>{if(!a)return;const W=Gc.getApiKey();if(console.log(" LocationPicker - API Key:",W?`${W.substring(0,10)}...`:"NOT FOUND"),!W){b("Google Maps API key is not configured. Please check your .env file."),console.error(" Google Maps API key is missing!");return}if(console.group(" GOOGLE MAPS API TROUBLESHOOTING GUIDE"),console.log("If you see REQUEST_DENIED, check these in order:"),console.log(""),console.log("1 ENABLE ALL REQUIRED APIs:"),console.log("   Go to: https://console.cloud.google.com/apis/library"),console.log("   Enable: Maps JavaScript API, Places API, Geocoding API"),console.log(""),console.log("2 CHECK API KEY RESTRICTIONS:"),console.log("   Go to: https://console.cloud.google.com/apis/credentials"),console.log("   Click your API key > Edit"),console.log("   "),console.log("   Application restrictions:"),console.log('      "None" (for testing) OR'),console.log('      "HTTP referrers" with these patterns:'),console.log("        - localhost:5173/*"),console.log("        - 127.0.0.1:5173/*"),console.log("        - your-domain.com/*"),console.log("   "),console.log("   API restrictions:"),console.log(`      "Don't restrict key" (for testing) OR`),console.log('      "Restrict key" with ALL these APIs selected:'),console.log("        - Geocoding API"),console.log("        - Maps JavaScript API"),console.log("        - Places API"),console.log(""),console.log("3 ENABLE BILLING:"),console.log("   Go to: https://console.cloud.google.com/billing"),console.log("   Make sure billing is enabled for your project"),console.log(""),console.log("4 WAIT FOR PROPAGATION:"),console.log("   Changes can take 5-10 minutes to propagate"),console.log("   Try hard refresh (Ctrl+Shift+R) after changes"),console.groupEnd(),window.google?.maps){console.log(" Google Maps API already loaded"),S();return}const B=console.error;console.error=(...ie)=>{const ae=ie.join(" ");(ae.includes("Google Maps")||ae.includes("API key")||ae.includes("MapsRequestError"))&&console.error(" GOOGLE MAPS API ERROR DETECTED:",...ie),B(...ie)},console.log(" Loading Google Maps API..."),console.log(" Script URL:",`https://maps.googleapis.com/maps/api/js?key=${W.substring(0,10)}...&libraries=places`);const J=document.createElement("script");return J.src=`https://maps.googleapis.com/maps/api/js?key=${W}&libraries=places`,J.async=!0,J.defer=!0,J.onload=()=>{console.log(" Google Maps API loaded successfully"),window.gm_authFailure&&(console.error(" GOOGLE MAPS AUTH FAILURE DETECTED!"),console.error("Check: https://console.cloud.google.com/apis/credentials")),S()},J.onerror=ie=>{console.error(" Failed to load Google Maps API:",ie),b("Failed to load Google Maps. Please check your API key and internet connection.")},document.head.appendChild(J),()=>{A.current&&clearTimeout(A.current)}},[a]),v.useEffect(()=>{const W=localStorage.getItem("savedAddresses");if(W)try{k(JSON.parse(W))}catch(B){console.error("Error loading saved addresses:",B)}},[]),v.useEffect(()=>{if(!a)return;const W=B=>{B.key==="Escape"&&r()};return document.addEventListener("keydown",W),()=>{document.removeEventListener("keydown",W)}},[a,r]);const S=()=>{if(window.google?.maps){C.current=new google.maps.Geocoder;const W=document.createElement("div");N.current=new google.maps.places.PlacesService(W),console.log(" Google Maps services initialized (Places & Geocoder)")}else console.error(" Cannot initialize services: window.google.maps not available")},F=async()=>{if(console.log(" getCurrentLocation called"),p(!0),b(null),!navigator.geolocation){console.error(" Geolocation not supported"),b("Geolocation is not supported by your browser"),p(!1);return}const W=()=>new Promise((B,V)=>{if(window.google?.maps){console.log(" Google Maps already available"),S(),B();return}console.log(" Waiting for Google Maps to load...");let J=0;const ie=50,ae=setInterval(()=>{J++,window.google?.maps?(console.log(` Google Maps loaded after ${J*200}ms`),S(),clearInterval(ae),B()):J>=ie&&(console.error(" Google Maps failed to load after 10 seconds"),clearInterval(ae),V(new Error("Google Maps API failed to load. Please check your API key.")))},200)});try{if(await W(),C.current)console.log(" Geocoder already initialized");else if(console.log(" Initializing geocoder..."),window.google?.maps)C.current=new window.google.maps.Geocoder,console.log(" Geocoder initialized");else throw console.error(" window.google.maps not available"),new Error("Google Maps Geocoder is not available");navigator.geolocation.getCurrentPosition(async B=>{const{latitude:V,longitude:J}=B.coords;console.log("Got coordinates:",V,J);try{const ie=await P(V,J);ie?(console.log("Location found:",ie),H(ie)):(console.warn("No location found for coordinates:",V,J),b("Could not find an address for your location. Please try searching manually."))}catch(ie){console.error("Reverse geocoding error:",ie);const ae=ie?.message||"Unknown error";ae.includes("REQUEST_DENIED")?b("Geocoding API access denied. Please check your Google Maps API key permissions."):ae.includes("OVER_QUERY_LIMIT")?b("Geocoding API quota exceeded. Please try again later."):ae.includes("ZERO_RESULTS")?b("Could not find an address for your location. Please try searching manually."):b(`Failed to get address: ${ae}. Please try searching manually.`)}finally{p(!1)}},B=>{switch(p(!1),B.code){case B.PERMISSION_DENIED:b("Location permission denied. Please enable location access in your browser settings.");break;case B.POSITION_UNAVAILABLE:b("Location information unavailable. Please try searching manually.");break;case B.TIMEOUT:b("Location request timed out. Please try again.");break;default:b("An unknown error occurred. Please try searching manually.")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}catch(B){p(!1),console.error("Error getting current location:",B),b(B?.message||"Failed to initialize location services. Please check your Google Maps API key.")}},P=async(W,B)=>{if(!C.current)throw new Error("Geocoder is not initialized");return console.group(" GEOCODING REQUEST DIAGNOSTICS"),console.log(" Coordinates:",{lat:W,lng:B}),console.log(" Current URL:",window.location.href),console.log(" Origin:",window.location.origin),console.log(" Referrer:",document.referrer||"(none)"),console.log(" API Key loaded:",Gc.getApiKey()?"Yes":"No"),console.log(" Google Maps loaded:",!!window.google?.maps),console.groupEnd(),new Promise((V,J)=>{try{C.current.geocode({location:{lat:W,lng:B}},(ie,ae)=>{if(console.group(" GEOCODING RESPONSE"),console.log("Status:",ae),console.log("Results count:",ie?.length||0),ae==="OK"&&ie&&ie[0]){const ge=ie[0];console.log(" Geocoding result:",ge.formatted_address),console.groupEnd();const Z=$(ge,W,B);V(Z)}else if(ae==="ZERO_RESULTS")console.warn(" No results found for coordinates:",W,B),console.groupEnd(),V(null);else{let ge=`Geocoding failed with status: ${ae}`;switch(ae){case"REQUEST_DENIED":ge="REQUEST_DENIED: Geocoding API access denied. Check API key permissions.",console.error(" REQUEST_DENIED ERROR DETAILS:"),console.error("  - Geocoding API enabled?"),console.error("  - API key restrictions correct?"),console.error("  - Billing enabled on Google Cloud project?"),console.error("  - Check: https://console.cloud.google.com/apis/credentials");break;case"OVER_QUERY_LIMIT":ge="OVER_QUERY_LIMIT: Geocoding API quota exceeded.";break;case"INVALID_REQUEST":ge="INVALID_REQUEST: Invalid geocoding request.";break;case"UNKNOWN_ERROR":ge="UNKNOWN_ERROR: An unknown error occurred during geocoding.";break;default:ge=`Geocoding failed: ${ae}`}console.error(" Geocoding error:",ge),console.groupEnd(),J(new Error(ge))}})}catch(ie){console.error("Geocoding exception:",ie),J(ie)}})},$=(W,B,V)=>{let J="",ie="";W.address_components&&W.address_components.forEach(Z=>{Z.types.includes("locality")&&(J=Z.long_name),Z.types.includes("postal_code")&&(ie=Z.long_name)});let ae=W.formatted_address||"";return ae=ae.split("\\n").join(" "),ae=ae.split("\\r").join(" "),ae=ae.replace(/\n/g," "),ae=ae.replace(/\r/g," "),ae=ae.replace(/\t/g," "),ae=ae.replace(/\s+/g," ").trim(),{address:ae,city:J||"Unknown",pincode:ie||"000000",lat:B||W.geometry?.location?.lat()||0,lng:V||W.geometry?.location?.lng()||0}},D=async W=>{if(!W.trim()){h([]);return}y(!0),A.current&&clearTimeout(A.current),A.current=setTimeout(async()=>{try{if(window.google?.maps?.places?.AutocompleteSuggestion){console.log(" Using new AutocompleteSuggestion API");const B={input:W,includedPrimaryTypes:["address","establishment","geocode"],locationRestriction:{country:"IN"}},{suggestions:V}=await google.maps.places.AutocompleteSuggestion.fetchAutocompleteSuggestions(B);if(y(!1),V&&V.length>0){const J=await Promise.all(V.slice(0,5).map(async ie=>ie.placePrediction?.placeId?await I(ie.placePrediction.placeId):null));h(J.filter(ie=>ie!==null))}else h([])}else console.warn(" New AutocompleteSuggestion API not available, using fallback"),y(!1),h([])}catch(B){console.error(" Autocomplete error:",B),y(!1),h([])}},300)},I=async W=>N.current?new Promise(B=>{N.current.getDetails({placeId:W,fields:["formatted_address","address_components","geometry"]},(V,J)=>{if(J==="OK"&&V){const ie=$(V);B(ie)}else console.error(" getPlaceDetails failed:",J),B(null)})}):null,H=W=>{const B=[..._];B.findIndex(J=>J.address===W.address)===-1&&(B.unshift(W),B.length>Gc.MAX_SAVED_ADDRESSES&&B.pop(),k(B),localStorage.setItem("savedAddresses",JSON.stringify(B))),n(W),r()},K=W=>{const B=W.target.value;c(B),D(B)};return a?e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:r,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:W=>W.stopPropagation(),children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Select Delivery Location"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Choose your delivery address"})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ie,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("button",{onClick:F,disabled:f,className:"w-full flex items-center gap-3 px-4 py-3 border-2 border-primary rounded-xl hover:bg-primary/5 transition-all group disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:f?e.jsx(xt,{className:"w-5 h-5 text-white animate-spin"}):e.jsx(Pj,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-800 group-hover:text-primary transition-colors",children:"Use Current Location"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enable location to detect automatically"})]})]})}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(ar,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search for area, street name, pincode...",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary transition-all",value:l,onChange:K}),g&&e.jsx(xt,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-primary animate-spin"})]})}),j&&e.jsx("div",{className:"px-6 py-3 bg-red-50 border-b border-red-100",children:e.jsx("p",{className:"text-sm text-red-600",children:j})}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u.length>0&&e.jsxs("div",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-3",children:"Search Results"}),e.jsx("div",{className:"space-y-2",children:u.map((W,B)=>e.jsxs("button",{onClick:()=>H(W),className:"w-full flex items-start gap-3 px-4 py-3 border border-gray-200 rounded-xl hover:border-primary hover:bg-primary/5 transition-all text-left group",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(Cr,{className:"w-4 h-4 text-gray-600 group-hover:text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"font-medium text-gray-800 group-hover:text-primary transition-colors truncate",children:[W.city," ",W.pincode]}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:W.address})]}),i?.address===W.address&&e.jsx(Pr,{className:"w-5 h-5 text-primary flex-shrink-0"})]},B))})]}),_.length>0&&!l&&e.jsxs("div",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-3",children:"Saved Addresses"}),e.jsx("div",{className:"space-y-2",children:_.map((W,B)=>e.jsxs("button",{onClick:()=>H(W),className:"w-full flex items-start gap-3 px-4 py-3 border border-gray-200 rounded-xl hover:border-primary hover:bg-primary/5 transition-all text-left group",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(Cr,{className:"w-4 h-4 text-gray-600 group-hover:text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"font-medium text-gray-800 group-hover:text-primary transition-colors truncate",children:[W.city," ",W.pincode]}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:W.address})]}),i?.address===W.address&&e.jsx(Pr,{className:"w-5 h-5 text-primary flex-shrink-0"})]},B))})]}),!l&&_.length===0&&e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Cr,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No saved addresses"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Search for a location or use current location"})]})]})]})}):null},C2=()=>{const{user:a,isAuthenticated:r,logoutUser:n}=ns(),{cartCount:i}=as(),[l,c]=v.useState(!1),[u,h]=v.useState(!1),[f,p]=v.useState(!1),[g,y]=v.useState(""),[j,b]=v.useState(!1),[_,k]=v.useState(!1),[C,A]=v.useState(!1),[N,S]=v.useState(null),[F,P]=v.useState([]),[$,D]=v.useState(!1),I=v.useRef(null),H=v.useRef(null),K=v.useRef(null),W=v.useRef(null);v.useEffect(()=>{const L=localStorage.getItem("currentLocation");if(L)try{S(JSON.parse(L))}catch(M){console.error("Error loading saved location:",M)}},[]),v.useEffect(()=>{const L=()=>{k(window.scrollY>10)};return window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)},[]),v.useEffect(()=>{const L=M=>{const G=K.current&&!K.current.contains(M.target),Q=W.current&&!W.current.contains(M.target);G&&Q&&c(!1)};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[]),v.useEffect(()=>{const L=M=>{H.current&&!H.current.contains(M.target)&&b(!1)};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[]),v.useEffect(()=>{if(!g.trim()){P([]),D(!1);return}return D(!0),I.current&&clearTimeout(I.current),I.current=setTimeout(async()=>{try{const L=await Xf(g);P(L.slice(0,8))}catch(L){console.error("Search error:",L),P([])}finally{D(!1)}},300),()=>{I.current&&clearTimeout(I.current)}},[g]);const B=L=>{L.preventDefault(),g.trim()&&(window.location.href=`/search?q=${encodeURIComponent(g)}`,y(""),b(!1))},V=L=>{window.location.href=`/product/${L}`,b(!1),y("")},J=()=>{h(!u)},ie=()=>{c(!l)},ae=()=>{p(!f)},ge=async()=>{try{await n(),c(!1)}catch(L){console.error("Error logging out:",L)}},Z=L=>{S(L),localStorage.setItem("currentLocation",JSON.stringify(L))},ue=()=>{A(!C)},se=L=>{if(!L)return{line1:"",line2:""};let M=L;M=M.split("\\n").join(" "),M=M.split("\\r").join(" "),M=M.replace(/\n/g," "),M=M.replace(/\r/g," "),M=M.replace(/\t/g," "),M=M.replace(/\s+/g," ").trim();const G=M.split(",").map(je=>je.trim());if(G.length<=2)return{line1:G[0]||"",line2:G[1]||""};const Q=G[0].length>40?G[0].substring(0,37)+"...":G[0],oe=G.slice(1,3).join(", "),de=oe.length>50?oe.substring(0,47)+"...":oe;return{line1:Q,line2:de}},T=["Rice","Milk","Vegetables","Atta","Oil"];return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:`bg-white sticky top-0 z-50 transition-all duration-300 ${_?"shadow-xl border-b border-gray-100":"shadow-md"}`,children:e.jsx("div",{className:"border-b border-gray-100/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs(ce,{to:"/",className:"flex items-center flex-shrink-0 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-2xl blur-xl group-hover:blur-2xl transition-all duration-300"}),e.jsx("img",{src:"/Logo.png",alt:"Near & Now",className:"h-14 w-14 object-contain transform group-hover:scale-110 transition-transform duration-300 relative z-10"})]}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h1",{className:"text-2xl font-black bg-gradient-to-r from-primary via-green-600 to-secondary bg-clip-text text-transparent leading-none tracking-tight",children:"Near & Now"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 font-semibold tracking-wide",children:"Digital Dukan, Local Dil Se"})]})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsxs("button",{onClick:ue,className:"flex items-center gap-3 px-4 py-3 border border-gray-200 rounded-2xl hover:border-primary/50 hover:shadow-xl hover:shadow-primary/10 transition-all duration-300 group bg-gradient-to-br from-gray-50 to-white hover:from-primary/5 hover:to-secondary/5 min-w-[280px] max-w-[320px] relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/5 to-primary/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),e.jsx("div",{className:"w-11 h-11 bg-gradient-to-br from-primary via-green-600 to-secondary rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300 relative z-10",children:e.jsx(Cr,{className:"w-5 h-5 text-white drop-shadow-lg"})}),e.jsxs("div",{className:"text-left flex-1 min-w-0 relative z-10",children:[e.jsxs("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider mb-1 flex items-center gap-1",children:[e.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full animate-pulse"}),"Deliver to"]}),N?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 truncate leading-tight whitespace-nowrap",children:se(N.address).line1}),e.jsx("p",{className:"text-xs text-gray-600 truncate leading-tight mt-0.5 whitespace-nowrap",children:se(N.address).line2})]}):e.jsxs("p",{className:"text-sm font-bold text-gray-900 flex items-center gap-1",children:["Select Location",e.jsx(Es,{className:"w-3 h-3 text-primary animate-pulse"})]})]}),e.jsx(Oa,{className:"w-4 h-4 text-gray-400 group-hover:text-primary group-hover:translate-y-0.5 transition-all flex-shrink-0 relative z-10"})]})}),e.jsx("div",{className:"hidden md:block flex-1 max-w-2xl",ref:H,children:e.jsxs("form",{onSubmit:B,className:"relative",children:[e.jsxs("div",{className:`relative transition-all duration-300 ${j?"transform scale-[1.02]":""}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-2xl focus-within:border-primary/50 focus-within:shadow-xl focus-within:shadow-primary/10 transition-all duration-300 overflow-hidden",children:[e.jsx(ar,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-primary transition-colors z-10"}),e.jsx("input",{type:"text",placeholder:"Search for products, brands and more...",className:"w-full pl-12 pr-12 py-3.5 bg-transparent focus:outline-none text-sm text-gray-900 placeholder-gray-400 relative z-10",value:g,onChange:L=>y(L.target.value),onFocus:()=>b(!0)}),g&&e.jsx("button",{type:"button",onClick:()=>{y(""),P([])},className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded-lg p-1 transition-all z-10",children:e.jsx(Ie,{className:"w-4 h-4"})})]})]}),j&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-5 z-50 backdrop-blur-xl",children:$?e.jsx("div",{className:"py-6 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Searching..."]})}):F.length>0?e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-3 tracking-wide",children:"Product Suggestions"}),e.jsx("ul",{className:"divide-y divide-gray-100 max-h-96 overflow-y-auto",children:F.map(L=>e.jsxs("li",{className:"flex items-center gap-4 py-3 px-2 cursor-pointer hover:bg-gradient-to-r hover:from-primary/5 hover:to-transparent rounded-xl transition-all group",onClick:()=>V(L.id),children:[e.jsx("img",{src:L.image||"https://via.placeholder.com/48?text=No+Image",alt:L.name,className:"w-12 h-12 object-cover rounded-lg border border-gray-200 group-hover:border-primary/30 transition-all flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-sm text-gray-900 truncate group-hover:text-primary transition-colors",children:L.name}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:L.category||"Product"})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("div",{className:"text-base font-bold text-primary",children:["",Math.round(L.price)]}),L.unit&&e.jsx("div",{className:"text-xs text-gray-400",children:L.unit})]})]},L.id))})]}):g.trim()?e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ar,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("p",{className:"text-gray-600 font-medium",children:['No exact matches found for "',g,'"']}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try these alternative searches:"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Suggested Searches:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>y(g.split(" ")[0]),className:"px-3 py-2 bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 text-sm font-medium rounded-xl transition-all border border-blue-200 hover:shadow-md",children:['Search "',g.split(" ")[0],'"']}),T.slice(0,4).map(L=>e.jsx("button",{type:"button",onClick:()=>y(L),className:"px-3 py-2 bg-gradient-to-br from-gray-50 to-gray-100 hover:from-primary hover:to-secondary hover:text-white text-sm font-medium rounded-xl transition-all border border-gray-200 hover:border-transparent hover:shadow-md",children:L},L))]})]}),e.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-xl",children:e.jsxs("p",{className:"text-xs text-amber-800 flex items-center gap-2",children:[e.jsx(Es,{className:"w-4 h-4"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Tip:"}),' Try searching by category like "Vegetables", "Fruits", "Dairy" or brand names']})]})})]}):e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-bold text-gray-600 uppercase mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center",children:e.jsx(nr,{className:"w-3.5 h-3.5 text-white"})}),"Popular Searches"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(L=>e.jsx("button",{type:"button",onClick:()=>y(L),className:"px-4 py-2 bg-gradient-to-br from-gray-50 to-gray-100 hover:from-primary hover:to-secondary hover:text-white text-sm font-medium rounded-xl transition-all duration-200 border border-gray-200 hover:border-transparent hover:shadow-lg hover:scale-105",children:L},L))})]})})]})}),e.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 flex-shrink-0",children:[e.jsxs("div",{className:"relative",ref:K,children:[e.jsxs("button",{onClick:ie,className:"hidden md:flex flex-col items-center text-gray-600 hover:text-primary transition-all duration-300 group px-2 py-1 rounded-xl hover:bg-primary/5",children:[e.jsx("div",{className:"relative",children:r?e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary via-green-600 to-secondary flex items-center justify-center text-white font-bold shadow-lg group-hover:shadow-xl group-hover:shadow-primary/30 group-hover:scale-110 transition-all duration-300 ring-2 ring-white",children:a?.name?.charAt(0).toUpperCase()||"U"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center group-hover:from-primary/10 group-hover:to-secondary/10 transition-all duration-300",children:e.jsx(Iw,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})})}),e.jsx("span",{className:"text-xs mt-1 font-semibold",children:r?a?.name?.split(" ")[0]||"Account":"Login"})]}),l&&e.jsx("div",{className:"absolute right-0 mt-3 w-72 bg-white rounded-3xl shadow-2xl py-2 z-50 border border-gray-100 animate-fadeIn overflow-hidden",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-5 py-5 border-b border-gray-100 bg-gradient-to-br from-primary/10 via-green-50 to-secondary/10 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-transparent rounded-full blur-3xl"}),e.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary via-green-600 to-secondary flex items-center justify-center text-white font-bold text-xl shadow-xl ring-4 ring-white",children:a?.name?.charAt(0).toUpperCase()||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-bold text-gray-900 truncate text-base",children:a?.name||"User"}),e.jsx("p",{className:"text-xs text-gray-600 truncate mt-0.5",children:a?.phone||a?.email})]})]})]}),e.jsxs("div",{className:"py-2 px-2",children:[e.jsxs(ce,{to:"/profile",className:"flex items-center gap-3 px-4 py-3.5 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-primary/10 hover:to-transparent hover:text-primary transition-all group rounded-xl mx-1",onClick:()=>c(!1),children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 group-hover:from-primary/20 group-hover:to-primary/10 flex items-center justify-center transition-all group-hover:scale-110",children:e.jsx(As,{className:"w-5 h-5 text-primary"})}),e.jsx("span",{className:"font-semibold",children:"My Profile"})]}),e.jsxs(ce,{to:"/orders",className:"flex items-center gap-3 px-4 py-3.5 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-secondary/10 hover:to-transparent hover:text-secondary transition-all group rounded-xl mx-1",onClick:()=>c(!1),children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-secondary/10 to-secondary/5 group-hover:from-secondary/20 group-hover:to-secondary/10 flex items-center justify-center transition-all group-hover:scale-110",children:e.jsx(qt,{className:"w-5 h-5 text-secondary"})}),e.jsx("span",{className:"font-semibold",children:"My Orders"})]})]}),e.jsx("div",{className:"border-t border-gray-100 mt-1 pt-2 px-2",children:e.jsxs("button",{onClick:ge,className:"flex items-center gap-3 px-4 py-3.5 text-sm text-red-600 hover:bg-red-50 transition-all w-full group rounded-xl mx-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-50 group-hover:bg-red-100 flex items-center justify-center transition-all group-hover:scale-110",children:e.jsx(lx,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold",children:"Logout"})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-5 py-4 bg-gradient-to-br from-primary/10 via-green-50 to-secondary/10 border-b border-gray-100 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary/30 to-transparent rounded-full blur-2xl"}),e.jsx("p",{className:"text-base font-bold text-gray-900 relative z-10",children:"Welcome to Near & Now"}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1 relative z-10 flex items-center gap-1",children:[e.jsx(Es,{className:"w-3 h-3 text-primary"}),"Login to get best offers"]})]}),e.jsxs("div",{className:"py-2 px-2",children:[e.jsxs(ce,{to:"/login",className:"flex items-center gap-3 px-4 py-3.5 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-primary/10 hover:to-transparent hover:text-primary transition-all group rounded-xl mx-1",onClick:()=>c(!1),children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 group-hover:from-primary/20 group-hover:to-primary/10 flex items-center justify-center transition-all group-hover:scale-110",children:e.jsx(Nj,{className:"w-5 h-5 text-primary"})}),e.jsx("span",{className:"font-semibold",children:"Login"})]}),e.jsxs(ce,{to:"/register",className:"flex items-center gap-3 px-4 py-3.5 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-secondary/10 hover:to-transparent hover:text-secondary transition-all group rounded-xl mx-1",onClick:()=>c(!1),children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-secondary/10 to-secondary/5 group-hover:from-secondary/20 group-hover:to-secondary/10 flex items-center justify-center transition-all group-hover:scale-110",children:e.jsx(b2,{className:"w-5 h-5 text-secondary"})}),e.jsx("span",{className:"font-semibold",children:"Create Account"})]})]})]})})]}),e.jsxs("button",{onClick:ae,className:"hidden md:flex flex-col items-center text-gray-600 hover:text-primary transition-all duration-300 relative group px-2 py-1 rounded-xl hover:bg-primary/5",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center group-hover:from-primary/10 group-hover:to-secondary/10 transition-all duration-300",children:e.jsx(Co,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),i>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center shadow-lg animate-pulse ring-2 ring-white",children:i})]}),e.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Cart"})]}),e.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[r?e.jsxs("div",{ref:W,className:"relative",children:[e.jsx("button",{onClick:ie,className:"relative",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary via-green-600 to-secondary flex items-center justify-center text-white font-bold shadow-lg ring-2 ring-white active:scale-95 transition-transform",children:a?.name?.charAt(0).toUpperCase()||"U"})}),l&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-2xl shadow-2xl py-2 z-50 border border-gray-100",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 bg-gradient-to-r from-primary/5 to-secondary/5",children:[e.jsx("p",{className:"font-bold text-gray-800 truncate",children:a?.name||"User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:a?.phone||a?.email})]}),e.jsx(ce,{to:"/profile",className:"block px-4 py-3 text-sm text-gray-700 hover:bg-primary/5 font-medium",onClick:()=>c(!1),children:"My Profile"}),e.jsx(ce,{to:"/orders",className:"block px-4 py-3 text-sm text-gray-700 hover:bg-primary/5 font-medium",onClick:()=>c(!1),children:"My Orders"}),e.jsx("button",{onClick:ge,className:"block w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 font-medium border-t border-gray-100",children:"Logout"})]})]}):e.jsx(ce,{to:"/login",className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center hover:from-primary hover:to-secondary hover:text-white transition-all active:scale-95",children:e.jsx(As,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:ae,className:"relative active:scale-95 transition-transform",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center hover:from-primary hover:to-secondary hover:text-white transition-all",children:e.jsx(Co,{className:"w-5 h-5"})}),i>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-lg ring-2 ring-white",children:i})]}),e.jsx("button",{onClick:J,className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center hover:from-primary hover:to-secondary hover:text-white transition-all active:scale-95",children:u?e.jsx(Ie,{className:"w-5 h-5"}):e.jsx(cx,{className:"w-5 h-5"})})]})]})]}),e.jsx("div",{className:"mt-3 md:hidden",children:e.jsxs("form",{onSubmit:B,className:"relative",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-2xl focus-within:border-primary/50 focus-within:shadow-lg transition-all duration-300",children:[e.jsx(ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full pl-11 pr-4 py-3 bg-transparent focus:outline-none text-sm",value:g,onChange:L=>y(L.target.value),onFocus:()=>b(!0)}),g&&e.jsx("button",{type:"button",onClick:()=>{y(""),P([])},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-700",children:e.jsx(Ie,{className:"w-4 h-4"})})]}),j&&g&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-4 z-50 max-h-[400px] overflow-y-auto",children:$?e.jsx("div",{className:"py-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Searching..."]})}):F.length>0?e.jsx("ul",{className:"divide-y divide-gray-100",children:F.map(L=>e.jsxs("li",{className:"flex items-center gap-3 py-2 cursor-pointer hover:bg-primary/5 rounded-lg transition",onClick:()=>V(L.id),children:[e.jsx("img",{src:L.image||"https://via.placeholder.com/40?text=No+Image",alt:L.name,className:"w-10 h-10 object-cover rounded-lg border border-gray-200"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:L.name}),e.jsxs("div",{className:"text-xs text-primary font-bold",children:["",Math.round(L.price)]})]})]},L.id))}):e.jsxs("div",{className:"py-4",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsxs("p",{className:"text-gray-600 text-sm font-medium",children:['No matches for "',g,'"']}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try these suggestions:"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:T.slice(0,3).map(L=>e.jsx("button",{type:"button",onClick:()=>{y(L),b(!1)},className:"px-3 py-1.5 bg-gradient-to-br from-gray-50 to-gray-100 hover:from-primary hover:to-secondary hover:text-white text-xs font-medium rounded-lg transition-all border border-gray-200",children:L},L))})]})})]})})]})})}),u&&e.jsx("div",{className:"md:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-40 animate-fadeIn",onClick:J,children:e.jsx("div",{className:"absolute right-0 top-0 h-full w-80 bg-white shadow-2xl overflow-y-auto animate-slideInRight",onClick:L=>L.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-black text-gray-900 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Menu"}),e.jsx("button",{onClick:J,className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center hover:from-red-100 hover:to-red-200 hover:text-red-600 transition-all active:scale-95",children:e.jsx(Ie,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ce,{to:"/category/staples",className:"flex items-center gap-3 p-3 rounded-2xl hover:bg-gradient-to-r hover:from-amber-50 hover:to-transparent transition-all group",onClick:J,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center text-xl group-hover:scale-110 transition-transform shadow-sm",children:""}),e.jsx("span",{className:"font-bold text-gray-800",children:"Staples"})]}),e.jsxs(ce,{to:"/category/vegetables",className:"flex items-center gap-3 p-3 rounded-2xl hover:bg-gradient-to-r hover:from-green-50 hover:to-transparent transition-all group",onClick:J,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center text-xl group-hover:scale-110 transition-transform shadow-sm",children:""}),e.jsx("span",{className:"font-bold text-gray-800",children:"Vegetables"})]}),e.jsxs(ce,{to:"/category/fruits",className:"flex items-center gap-3 p-3 rounded-2xl hover:bg-gradient-to-r hover:from-red-50 hover:to-transparent transition-all group",onClick:J,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center text-xl group-hover:scale-110 transition-transform shadow-sm",children:""}),e.jsx("span",{className:"font-bold text-gray-800",children:"Fruits"})]}),e.jsxs(ce,{to:"/category/dairy",className:"flex items-center gap-3 p-3 rounded-2xl hover:bg-gradient-to-r hover:from-blue-50 hover:to-transparent transition-all group",onClick:J,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center text-xl group-hover:scale-110 transition-transform shadow-sm",children:""}),e.jsx("span",{className:"font-bold text-gray-800",children:"Dairy"})]}),e.jsxs(ce,{to:"/offers",className:"flex items-center gap-3 p-3 rounded-2xl bg-gradient-to-r from-red-50 to-red-100 hover:from-red-100 hover:to-red-200 transition-all group shadow-sm",onClick:J,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-red-200 to-red-300 flex items-center justify-center text-xl group-hover:scale-110 transition-transform shadow-md",children:""}),e.jsx("span",{className:"font-black text-red-700",children:"Special Offers"})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("button",{onClick:ue,className:"flex items-start gap-3 w-full p-4 rounded-2xl hover:bg-gradient-to-br hover:from-primary/5 hover:to-secondary/5 transition-all border-2 border-gray-100 hover:border-primary/30 hover:shadow-lg active:scale-[0.98]",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary via-green-600 to-secondary rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg mt-0.5",children:e.jsx(Cr,{className:"w-6 h-6 text-white drop-shadow-lg"})}),e.jsxs("div",{className:"text-left flex-1 min-w-0",children:[e.jsxs("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider mb-1.5 flex items-center gap-1",children:[e.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full animate-pulse"}),"Deliver to"]}),N?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm font-bold text-gray-800 line-clamp-1 leading-tight whitespace-nowrap",children:se(N.address).line1}),e.jsx("p",{className:"text-xs text-gray-600 line-clamp-1 leading-tight mt-1 whitespace-nowrap",children:se(N.address).line2})]}):e.jsxs("p",{className:"text-sm font-bold text-gray-800 flex items-center gap-1.5",children:["Select Location",e.jsx(Es,{className:"w-3 h-3 text-primary animate-pulse"})]})]}),e.jsx(Oa,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-1"})]})})]})})}),e.jsx(rw,{isOpen:f,onClose:()=>p(!1)}),e.jsx(S2,{isOpen:C,onClose:()=>A(!1),onLocationSelect:Z,currentLocation:N||void 0})]})},E2=()=>{const a=new Date().getFullYear(),r=Ht(),{showNotification:n}=fr(),[i,l]=v.useState(""),[c,u]=v.useState("idle"),h=v.useRef(null);v.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]);const f=_=>r.pathname===_,p=v.useCallback(async _=>{if(_.preventDefault(),!i){n("Please enter your email address","error");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){n("Please enter a valid email address","error"),u("error");return}try{u("loading"),await Q1(i),u("success"),n("Successfully subscribed to newsletter! ","success"),l(""),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{u("idle"),h.current=null},3e3)}catch(C){console.error("Error subscribing to newsletter:",C),u("error");const A=C?.message||"Failed to subscribe. Please try again.";n(A,"error"),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{u("idle"),h.current=null},3e3)}},[i,n]),g=[{name:"Home",path:"/"},{name:"Shop",path:"/shop"},{name:"About Us",path:"/about"},{name:"Contact",path:"/contact"},{name:"FAQ",path:"/faq"}],y=[{name:"Help Center",path:"/help"},{name:"Track Order",path:"/track-order"},{name:"Returns & Refunds",path:"/returns"},{name:"Payment Options",path:"/payment-options"},{name:"Delivery Info",path:"/delivery-info"}],j=[{name:"Facebook",url:"https://facebook.com",icon:e.jsx(Kw,{className:"h-5 w-5"}),color:"hover:text-blue-500"},{name:"Twitter",url:"https://twitter.com",icon:e.jsx(x2,{className:"h-5 w-5"}),color:"hover:text-sky-400"},{name:"Instagram",url:"https://instagram.com",icon:e.jsx(dj,{className:"h-5 w-5"}),color:"hover:text-pink-500"},{name:"LinkedIn",url:"https://linkedin.com",icon:e.jsx(gj,{className:"h-5 w-5"}),color:"hover:text-blue-600"}],b=[{name:"Privacy Policy",path:"/privacy"},{name:"Terms of Service",path:"/terms"},{name:"Shipping Policy",path:"/shipping"},{name:"Refund Policy",path:"/refund"}];return e.jsxs("footer",{className:"bg-gradient-to-b from-gray-800 to-gray-900 text-white",children:[e.jsx("div",{className:"container mx-auto px-4 pt-12 pb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/Logo.png",alt:"Near & Now Logo",className:"h-12 w-auto object-contain",onError:_=>{_.currentTarget.style.display="none"}}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Near & Now"}),e.jsx("p",{className:"text-xs text-gray-400 italic",children:"Digital Dukan, Local Dil Se"})]})]}),e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Your neighborhood grocery store, now online. Fresh products, fast delivery, and the best prices in town."}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-3 text-gray-200",children:"Follow Us"}),e.jsx("div",{className:"flex space-x-3",children:j.map(_=>e.jsx("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:`w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-gray-300 transition-all duration-300 ${_.color} hover:bg-gray-600 hover:scale-110 hover:shadow-lg`,"aria-label":_.name,children:_.icon},_.name))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-white",children:"Quick Links"}),e.jsx("ul",{className:"space-y-2.5",children:g.map(_=>e.jsx("li",{children:e.jsxs(ce,{to:_.path,className:`text-sm transition-all duration-200 inline-flex items-center group ${f(_.path)?"text-primary font-medium":"text-gray-300 hover:text-white hover:translate-x-1"}`,children:[e.jsx("span",{className:`w-0 h-0.5 bg-primary transition-all duration-200 mr-0 ${f(_.path)?"w-4 mr-2":"group-hover:w-4 group-hover:mr-2"}`}),_.name]})},_.path))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-white",children:"Customer Service"}),e.jsx("ul",{className:"space-y-2.5",children:y.map(_=>e.jsx("li",{children:e.jsxs(ce,{to:_.path,className:`text-sm transition-all duration-200 inline-flex items-center group ${f(_.path)?"text-primary font-medium":"text-gray-300 hover:text-white hover:translate-x-1"}`,children:[e.jsx("span",{className:`w-0 h-0.5 bg-primary transition-all duration-200 mr-0 ${f(_.path)?"w-4 mr-2":"group-hover:w-4 group-hover:mr-2"}`}),_.name]})},_.path))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-white",children:"Contact Us"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs("a",{href:"https://maps.google.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-start text-gray-300 hover:text-white transition-colors group",children:[e.jsx(Cr,{className:"h-5 w-5 mr-3 mt-0.5 text-primary flex-shrink-0 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm",children:"Kolkata, West Bengal"})]})}),e.jsx("li",{children:e.jsxs("a",{href:"mailto:snearandnowofficial2025@gmail.com",className:"flex items-start text-gray-300 hover:text-white transition-colors group",children:[e.jsx(Ua,{className:"h-5 w-5 mr-3 mt-0.5 text-primary flex-shrink-0 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm",children:"nearandnowofficial2025@gmail.com"})]})}),e.jsx("li",{children:e.jsxs("a",{href:"tel:+919477035649",className:"flex items-start text-gray-300 hover:text-white transition-colors group",children:[e.jsx(Ud,{className:"h-5 w-5 mr-3 mt-0.5 text-primary flex-shrink-0 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm",children:"+91 94770 35649"})]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-3 text-gray-200",children:"Newsletter"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Subscribe for exclusive deals and updates"}),e.jsxs("form",{onSubmit:p,className:"relative",children:[e.jsx("input",{type:"email",value:i,onChange:_=>l(_.target.value),placeholder:"Your email address",className:"w-full px-4 py-2.5 pr-12 text-sm text-gray-800 bg-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary transition-all",required:!0,disabled:c==="loading"}),e.jsx("button",{type:"submit",disabled:c==="loading",className:"absolute right-1 top-1/2 -translate-y-1/2 bg-primary hover:bg-secondary text-white p-2 rounded-md transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105","aria-label":"Subscribe to newsletter",children:e.jsx(qj,{className:"h-4 w-4"})})]}),c==="success"&&e.jsxs("p",{className:"text-xs text-green-400 mt-2 flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Successfully subscribed!"]}),c==="error"&&e.jsxs("p",{className:"text-xs text-red-400 mt-2 flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Subscription failed. Please try again."]}),c==="loading"&&e.jsxs("p",{className:"text-xs text-gray-400 mt-2 flex items-center",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subscribing..."]})]})]})]})}),e.jsx("div",{className:"border-t border-gray-700",children:e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e.jsxs("p",{className:"text-sm text-gray-400 text-center md:text-left",children:[" ",a," ",e.jsx("span",{className:"text-white font-medium",children:"Near & Now"}),". All rights reserved."]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6",children:b.map(_=>e.jsx(ce,{to:_.path,className:`text-sm transition-colors ${f(_.path)?"text-primary font-medium":"text-gray-400 hover:text-white"}`,children:_.name},_.path))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"We Accept:"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"w-10 h-6 bg-white rounded flex items-center justify-center text-xs font-bold text-gray-800",children:"VISA"}),e.jsx("div",{className:"w-10 h-6 bg-white rounded flex items-center justify-center text-xs font-bold text-gray-800",children:"MC"}),e.jsx("div",{className:"w-10 h-6 bg-white rounded flex items-center justify-center text-xs font-bold text-blue-600",children:"UPI"})]})]})]})})})]})},P2=({children:a,notifications:r=[],removeNotification:n})=>e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(C2,{}),r.length>0&&e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(i=>e.jsxs("div",{className:`px-4 py-3 rounded-md shadow-md flex items-center justify-between max-w-md transition-all ${i.type==="success"?"bg-green-500 text-white":i.type==="error"?"bg-red-500 text-white":i.type==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"}`,children:[e.jsx("p",{children:i.message}),n&&e.jsx("button",{onClick:()=>n(i.id),className:"ml-4 text-white hover:text-gray-200 focus:outline-none",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},i.id))}),e.jsx("main",{className:"flex-grow",children:a}),e.jsx(E2,{})]}),A2={};var pd=null;function O2(a){try{return crypto.getRandomValues(new Uint8Array(a))}catch{}try{return A2.randomBytes(a)}catch{}if(!pd)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return pd(a)}function T2(a){pd=a}function Bd(a,r){if(a=a||qd,typeof a!="number")throw Error("Illegal arguments: "+typeof a+", "+typeof r);a<4?a=4:a>31&&(a=31);var n=[];return n.push("$2b$"),a<10&&n.push("0"),n.push(a.toString()),n.push("$"),n.push(Po(O2(Ra),Ra)),n.join("")}function hx(a,r,n){if(typeof r=="function"&&(n=r,r=void 0),typeof a=="function"&&(n=a,a=void 0),typeof a>"u")a=qd;else if(typeof a!="number")throw Error("illegal arguments: "+typeof a);function i(l){sr(function(){try{l(null,Bd(a))}catch(c){l(c)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(l,c){i(function(u,h){if(u){c(u);return}l(h)})})}function mx(a,r){if(typeof r>"u"&&(r=qd),typeof r=="number"&&(r=Bd(r)),typeof a!="string"||typeof r!="string")throw Error("Illegal arguments: "+typeof a+", "+typeof r);return gd(a,r)}function fx(a,r,n,i){function l(c){typeof a=="string"&&typeof r=="number"?hx(r,function(u,h){gd(a,h,c,i)}):typeof a=="string"&&typeof r=="string"?gd(a,r,c,i):sr(c.bind(this,Error("Illegal arguments: "+typeof a+", "+typeof r)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);l(n)}else return new Promise(function(c,u){l(function(h,f){if(h){u(h);return}c(f)})})}function xx(a,r){for(var n=a.length^r.length,i=0;i<a.length;++i)n|=a.charCodeAt(i)^r.charCodeAt(i);return n===0}function R2(a,r){if(typeof a!="string"||typeof r!="string")throw Error("Illegal arguments: "+typeof a+", "+typeof r);return r.length!==60?!1:xx(mx(a,r.substring(0,r.length-31)),r)}function L2(a,r,n,i){function l(c){if(typeof a!="string"||typeof r!="string"){sr(c.bind(this,Error("Illegal arguments: "+typeof a+", "+typeof r)));return}if(r.length!==60){sr(c.bind(this,null,!1));return}fx(a,r.substring(0,29),function(u,h){u?c(u):c(null,xx(h,r))},i)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);l(n)}else return new Promise(function(c,u){l(function(h,f){if(h){u(h);return}c(f)})})}function I2(a){if(typeof a!="string")throw Error("Illegal arguments: "+typeof a);return parseInt(a.split("$")[2],10)}function $2(a){if(typeof a!="string")throw Error("Illegal arguments: "+typeof a);if(a.length!==60)throw Error("Illegal hash length: "+a.length+" != 60");return a.substring(0,29)}function D2(a){if(typeof a!="string")throw Error("Illegal arguments: "+typeof a);return px(a)>72}var sr=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function px(a){for(var r=0,n=0,i=0;i<a.length;++i)n=a.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(a.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r}function M2(a){for(var r=0,n,i,l=new Array(px(a)),c=0,u=a.length;c<u;++c)n=a.charCodeAt(c),n<128?l[r++]=n:n<2048?(l[r++]=n>>6|192,l[r++]=n&63|128):(n&64512)===55296&&((i=a.charCodeAt(c+1))&64512)===56320?(n=65536+((n&1023)<<10)+(i&1023),++c,l[r++]=n>>18|240,l[r++]=n>>12&63|128,l[r++]=n>>6&63|128,l[r++]=n&63|128):(l[r++]=n>>12|224,l[r++]=n>>6&63|128,l[r++]=n&63|128);return l}var un="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Xr=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Po(a,r){var n=0,i=[],l,c;if(r<=0||r>a.length)throw Error("Illegal len: "+r);for(;n<r;){if(l=a[n++]&255,i.push(un[l>>2&63]),l=(l&3)<<4,n>=r){i.push(un[l&63]);break}if(c=a[n++]&255,l|=c>>4&15,i.push(un[l&63]),l=(c&15)<<2,n>=r){i.push(un[l&63]);break}c=a[n++]&255,l|=c>>6&3,i.push(un[l&63]),i.push(un[c&63])}return i.join("")}function gx(a,r){var n=0,i=a.length,l=0,c=[],u,h,f,p,g,y;if(r<=0)throw Error("Illegal len: "+r);for(;n<i-1&&l<r&&(y=a.charCodeAt(n++),u=y<Xr.length?Xr[y]:-1,y=a.charCodeAt(n++),h=y<Xr.length?Xr[y]:-1,!(u==-1||h==-1||(g=u<<2>>>0,g|=(h&48)>>4,c.push(String.fromCharCode(g)),++l>=r||n>=i)||(y=a.charCodeAt(n++),f=y<Xr.length?Xr[y]:-1,f==-1)||(g=(h&15)<<4>>>0,g|=(f&60)>>2,c.push(String.fromCharCode(g)),++l>=r||n>=i)));)y=a.charCodeAt(n++),p=y<Xr.length?Xr[y]:-1,g=(f&3)<<6>>>0,g|=p,c.push(String.fromCharCode(g)),++l;var j=[];for(n=0;n<l;n++)j.push(c[n].charCodeAt(0));return j}var Ra=16,qd=10,z2=16,U2=100,C0=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],E0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],yx=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function La(a,r,n,i){var l,c=a[r],u=a[r+1];return c^=n[0],l=i[c>>>24],l+=i[256|c>>16&255],l^=i[512|c>>8&255],l+=i[768|c&255],u^=l^n[1],l=i[u>>>24],l+=i[256|u>>16&255],l^=i[512|u>>8&255],l+=i[768|u&255],c^=l^n[2],l=i[c>>>24],l+=i[256|c>>16&255],l^=i[512|c>>8&255],l+=i[768|c&255],u^=l^n[3],l=i[u>>>24],l+=i[256|u>>16&255],l^=i[512|u>>8&255],l+=i[768|u&255],c^=l^n[4],l=i[c>>>24],l+=i[256|c>>16&255],l^=i[512|c>>8&255],l+=i[768|c&255],u^=l^n[5],l=i[u>>>24],l+=i[256|u>>16&255],l^=i[512|u>>8&255],l+=i[768|u&255],c^=l^n[6],l=i[c>>>24],l+=i[256|c>>16&255],l^=i[512|c>>8&255],l+=i[768|c&255],u^=l^n[7],l=i[u>>>24],l+=i[256|u>>16&255],l^=i[512|u>>8&255],l+=i[768|u&255],c^=l^n[8],l=i[c>>>24],l+=i[256|c>>16&255],l^=i[512|c>>8&255],l+=i[768|c&255],u^=l^n[9],l=i[u>>>24],l+=i[256|u>>16&255],l^=i[512|u>>8&255],l+=i[768|u&255],c^=l^n[10],l=i[c>>>24],l+=i[256|c>>16&255],l^=i[512|c>>8&255],l+=i[768|c&255],u^=l^n[11],l=i[u>>>24],l+=i[256|u>>16&255],l^=i[512|u>>8&255],l+=i[768|u&255],c^=l^n[12],l=i[c>>>24],l+=i[256|c>>16&255],l^=i[512|c>>8&255],l+=i[768|c&255],u^=l^n[13],l=i[u>>>24],l+=i[256|u>>16&255],l^=i[512|u>>8&255],l+=i[768|u&255],c^=l^n[14],l=i[c>>>24],l+=i[256|c>>16&255],l^=i[512|c>>8&255],l+=i[768|c&255],u^=l^n[15],l=i[u>>>24],l+=i[256|u>>16&255],l^=i[512|u>>8&255],l+=i[768|u&255],c^=l^n[16],a[r]=u^n[z2+1],a[r+1]=c,a}function pn(a,r){for(var n=0,i=0;n<4;++n)i=i<<8|a[r]&255,r=(r+1)%a.length;return{key:i,offp:r}}function P0(a,r,n){for(var i=0,l=[0,0],c=r.length,u=n.length,h,f=0;f<c;f++)h=pn(a,i),i=h.offp,r[f]=r[f]^h.key;for(f=0;f<c;f+=2)l=La(l,0,r,n),r[f]=l[0],r[f+1]=l[1];for(f=0;f<u;f+=2)l=La(l,0,r,n),n[f]=l[0],n[f+1]=l[1]}function F2(a,r,n,i){for(var l=0,c=[0,0],u=n.length,h=i.length,f,p=0;p<u;p++)f=pn(r,l),l=f.offp,n[p]=n[p]^f.key;for(l=0,p=0;p<u;p+=2)f=pn(a,l),l=f.offp,c[0]^=f.key,f=pn(a,l),l=f.offp,c[1]^=f.key,c=La(c,0,n,i),n[p]=c[0],n[p+1]=c[1];for(p=0;p<h;p+=2)f=pn(a,l),l=f.offp,c[0]^=f.key,f=pn(a,l),l=f.offp,c[1]^=f.key,c=La(c,0,n,i),i[p]=c[0],i[p+1]=c[1]}function A0(a,r,n,i,l){var c=yx.slice(),u=c.length,h;if(n<4||n>31)if(h=Error("Illegal number of rounds (4-31): "+n),i){sr(i.bind(this,h));return}else throw h;if(r.length!==Ra)if(h=Error("Illegal salt length: "+r.length+" != "+Ra),i){sr(i.bind(this,h));return}else throw h;n=1<<n>>>0;var f,p,g=0,y;typeof Int32Array=="function"?(f=new Int32Array(C0),p=new Int32Array(E0)):(f=C0.slice(),p=E0.slice()),F2(r,a,f,p);function j(){if(l&&l(g/n),g<n)for(var _=Date.now();g<n&&(g=g+1,P0(a,f,p),P0(r,f,p),!(Date.now()-_>U2)););else{for(g=0;g<64;g++)for(y=0;y<u>>1;y++)La(c,y<<1,f,p);var k=[];for(g=0;g<u;g++)k.push((c[g]>>24&255)>>>0),k.push((c[g]>>16&255)>>>0),k.push((c[g]>>8&255)>>>0),k.push((c[g]&255)>>>0);if(i){i(null,k);return}else return k}i&&sr(j)}if(typeof i<"u")j();else for(var b;;)if(typeof(b=j())<"u")return b||[]}function gd(a,r,n,i){var l;if(typeof a!="string"||typeof r!="string")if(l=Error("Invalid string / salt: Not a string"),n){sr(n.bind(this,l));return}else throw l;var c,u;if(r.charAt(0)!=="$"||r.charAt(1)!=="2")if(l=Error("Invalid salt version: "+r.substring(0,2)),n){sr(n.bind(this,l));return}else throw l;if(r.charAt(2)==="$")c="\0",u=3;else{if(c=r.charAt(2),c!=="a"&&c!=="b"&&c!=="y"||r.charAt(3)!=="$")if(l=Error("Invalid salt revision: "+r.substring(2,4)),n){sr(n.bind(this,l));return}else throw l;u=4}if(r.charAt(u+2)>"$")if(l=Error("Missing salt rounds"),n){sr(n.bind(this,l));return}else throw l;var h=parseInt(r.substring(u,u+1),10)*10,f=parseInt(r.substring(u+1,u+2),10),p=h+f,g=r.substring(u+3,u+25);a+=c>="a"?"\0":"";var y=M2(a),j=gx(g,Ra);function b(_){var k=[];return k.push("$2"),c>="a"&&k.push(c),k.push("$"),p<10&&k.push("0"),k.push(p.toString()),k.push("$"),k.push(Po(j,j.length)),k.push(Po(_,yx.length*4-1)),k.join("")}if(typeof n>"u")return b(A0(y,j,p));A0(y,j,p,function(_,k){_?n(_,null):n(null,b(k))},i)}function B2(a,r){return Po(a,r)}function q2(a,r){return gx(a,r)}const vx={setRandomFallback:T2,genSaltSync:Bd,genSalt:hx,hashSync:mx,hash:fx,compareSync:R2,compare:L2,getRounds:I2,getSalt:$2,truncates:D2,encodeBase64:B2,decodeBase64:q2},bx={super_admin:["*"],admin:["products.*","orders.*","categories.*","customers.view","customers.edit","reports.view","dashboard.view"],manager:["products.view","products.edit","orders.*","categories.view","customers.view","reports.view","dashboard.view"],viewer:["products.view","orders.view","categories.view","customers.view","reports.view","dashboard.view"]};async function wx(a){return await vx.hash(a,10)}async function W2(a,r){return await vx.compare(a,r)}async function H2(a,r){try{console.log(" Authenticating admin:",a);const{data:n,error:i}=await ft.from("admins").select("*").eq("email",a.toLowerCase().trim()).eq("status","active").single();if(i||!n)return console.error(" Admin not found or error:",i),null;if(!await W2(r,n.password_hash))return console.error(" Invalid password"),null;await ft.from("admins").update({last_login_at:new Date().toISOString()}).eq("id",n.id);const c=crypto.randomUUID();console.log(" Admin authenticated successfully");const{password_hash:u,...h}=n;return{admin:h,token:c}}catch(n){return console.error(" Error authenticating admin:",n),null}}async function V2(){try{const{data:a,error:r}=await ft.from("admins").select("id, email, full_name, role, permissions, created_by, status, last_login_at, created_at, updated_at").order("created_at",{ascending:!1});if(r)throw console.error(" Error fetching admins:",r),r;return a||[]}catch(a){throw console.error(" Error in getAdmins:",a),a}}async function G2(a){try{const{data:r,error:n}=await ft.from("admins").select("id, email, full_name, role, permissions, created_by, status, last_login_at, created_at, updated_at").eq("id",a).single();return n?(console.error(" Error fetching admin by ID:",n),null):r}catch(r){return console.error(" Error in getAdminById:",r),null}}async function K2(a){try{console.log(" Creating new admin:",a.email);const r=await wx(a.password),n=a.permissions||bx[a.role],{data:i,error:l}=await ft.from("admins").insert([{email:a.email.toLowerCase().trim(),password_hash:r,full_name:a.full_name,role:a.role,permissions:n,created_by:a.created_by||null,status:"active"}]).select("id, email, full_name, role, permissions, created_by, status, last_login_at, created_at, updated_at").single();if(l)throw console.error(" Error creating admin:",l),l;return console.log(" Admin created successfully"),i}catch(r){throw console.error(" Error in createAdmin:",r),r}}async function Q2(a,r){try{console.log(" Updating admin:",a);const n={updated_at:new Date().toISOString()};r.email&&(n.email=r.email.toLowerCase().trim()),r.full_name&&(n.full_name=r.full_name),r.role&&(n.role=r.role),r.permissions&&(n.permissions=r.permissions),r.status&&(n.status=r.status),r.password&&(n.password_hash=await wx(r.password));const{data:i,error:l}=await ft.from("admins").update(n).eq("id",a).select("id, email, full_name, role, permissions, created_by, status, last_login_at, created_at, updated_at").single();if(l)throw console.error(" Error updating admin:",l),l;return console.log(" Admin updated successfully"),i}catch(n){throw console.error(" Error in updateAdmin:",n),n}}async function J2(a){try{console.log(" Deleting admin:",a);const{error:r}=await ft.from("admins").delete().eq("id",a);return r?(console.error(" Error deleting admin:",r),!1):(console.log(" Admin deleted successfully"),!0)}catch(r){return console.error(" Error in deleteAdmin:",r),!1}}function gn(a,r){if(a.permissions.includes("*")||a.permissions.includes(r))return!0;const[n]=r.split("."),i=`${n}.*`;return a.permissions.includes(i)}function Wd(a){return{super_admin:"Super Admin",admin:"Admin",manager:"Manager",viewer:"Viewer"}[a]}function jx(a){return{super_admin:"Full access to all features including admin management",admin:"Can manage products, orders, categories, and customers",manager:"Can view and update orders, limited product access",viewer:"Read-only access to dashboard and reports"}[a]}function Nx(a){return bx[a]}const Y2=()=>{const[a,r]=v.useState(""),[n,i]=v.useState(""),[l,c]=v.useState(""),[u,h]=v.useState(!1),f=St(),p=async g=>{g.preventDefault(),c(""),h(!0);try{const y=await H2(a,n);y?(localStorage.setItem("adminAuth","true"),localStorage.setItem("adminAuthExpiresAt",String(Date.now()+1e3*60*60*12)),localStorage.setItem("adminToken",y.token),localStorage.setItem("adminData",JSON.stringify(y.admin)),f("/admin")):c("Invalid email or password")}catch(y){c("An error occurred. Please try again."),console.error("Login error:",y)}finally{h(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-white to-secondary/5 flex items-center justify-center px-4 py-12",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 transform hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("img",{src:"/Logo.png",alt:"Near & Now",className:"h-16 w-16"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2 text-center",children:"Admin Login"}),e.jsx("p",{className:"text-gray-600 mb-8 text-center",children:"Enter your credentials to access the admin panel"}),l&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6 flex items-center",children:[e.jsx(We,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:l})]}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-2 font-medium",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(As,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",type:"email",value:a,onChange:g=>r(g.target.value),required:!0,className:"pl-10 w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",placeholder:"admin@example.com"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{htmlFor:"password",className:"block text-gray-700 mb-2 font-medium",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ps,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",type:"password",value:n,onChange:g=>i(g.target.value),required:!0,className:"pl-10 w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",placeholder:""})]})]}),e.jsx("button",{type:"submit",disabled:u,className:`w-full py-4 px-6 bg-gradient-to-r from-primary to-secondary text-white font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center ${u?"opacity-70 cursor-not-allowed":""}`,children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Logging in..."]}):"Login to Admin Panel"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Note:"})," Use your admin credentials to login"]})})]})})})};class X2 extends v.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("React Error Boundary caught an error:",r,n)}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"40px",textAlign:"center",fontFamily:"Arial, sans-serif"},children:[e.jsx("h1",{style:{color:"#e74c3c"},children:"Something went wrong"}),e.jsx("p",{style:{color:"#666"},children:this.state.error?.message||"An unexpected error occurred"}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",background:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",marginTop:"20px"},children:"Reload Page"}),e.jsxs("details",{style:{marginTop:"20px",textAlign:"left",maxWidth:"600px",margin:"20px auto"},children:[e.jsx("summary",{style:{cursor:"pointer",color:"#666"},children:"Error Details"}),e.jsx("pre",{style:{background:"#f5f5f5",padding:"15px",borderRadius:"4px",overflow:"auto",fontSize:"12px"},children:this.state.error?.stack})]})]}):this.props.children}}const _x=({product:a,onQuickView:r})=>{const{addToCart:n,cartItems:i,updateCartQuantity:l,removeFromCart:c}=as(),[u,h]=v.useState(!1),[f,p]=v.useState(.25),g=v.useRef(null),y=i.find($=>$.id===a.id),j=!!y,b=y?.quantity??0,_=(()=>{if(!a.original_price)return 0;const $=Math.round((a.original_price-a.price)/a.original_price*100);return $>0?$:0})(),k=a.original_price||Math.round(a.price*1.35),C=v.useCallback($=>{if($.preventDefault(),$.stopPropagation(),a.isLoose){if(f<.25)return;n(a,f,!0)}else n(a)},[a,f,n]),A=v.useCallback($=>{$.preventDefault(),$.stopPropagation();const D=a.isLoose?.25:1,I=a.isLoose?parseFloat((b+D).toFixed(2)):b+D;l(a.id,I)},[a,b,l]),N=v.useCallback($=>{$.preventDefault(),$.stopPropagation();const D=a.isLoose?.25:1,I=a.isLoose?.25:1;if(b>I){const H=a.isLoose?parseFloat((b-D).toFixed(2)):b-D;l(a.id,H)}else c(a.id)},[a,b,l,c]),S=v.useCallback($=>{$.preventDefault(),$.stopPropagation(),r?.(a)},[r,a]),F=v.useCallback($=>{const D=parseFloat($.target.value);!isNaN(D)&&D>=.25?p(parseFloat(D.toFixed(2))):$.target.value===""&&p(.25)},[]),P=v.useCallback(()=>{f<.25&&p(.25)},[f]);return e.jsxs("div",{className:"product-card bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 hover:shadow-xl relative",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[e.jsxs(ce,{to:`/product/${a.id}`,className:"block",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-100",children:[_>0&&e.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full z-10",children:["-",_,"%"]}),e.jsx("img",{src:a.image||"https://via.placeholder.com/300x300?text=No+Image",alt:a.name,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-300",style:{transform:u?"scale(1.05)":"scale(1)"},onError:$=>{$.currentTarget.src="https://via.placeholder.com/300x300?text=No+Image"}}),r&&e.jsx("div",{className:`absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center transition-opacity duration-300 ${u?"opacity-100":"opacity-0 pointer-events-none"}`,children:e.jsx("button",{onClick:S,className:"bg-white text-gray-800 px-4 py-2 rounded-md shadow-md hover:bg-gray-100 transition-colors","aria-label":`Quick view ${a.name}`,children:"Quick View"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[[1,2,3,4,5].map($=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},$)),e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(0)"})]}),e.jsx("h3",{className:"text-gray-800 font-medium mb-1 line-clamp-2 text-sm",children:ew(a.name,50)}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:"text-primary font-bold text-base",children:["",Math.round(a.price)]}),_>0&&e.jsxs("span",{className:"text-gray-500 text-xs line-through ml-2",children:["",Math.round(k)]}),(a.isLoose||a.size||a.weight)&&e.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:a.isLoose?"Per kg":a.size||a.weight})]}),e.jsx("div",{className:"mt-4 h-10"})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex justify-center pb-4 px-4",children:j?e.jsxs("div",{className:"flex items-center justify-between bg-gray-100 rounded-md p-1 shadow-md",children:[e.jsx("button",{onClick:N,className:"w-8 h-8 flex items-center justify-center text-primary hover:bg-gray-200 rounded-md transition-colors","aria-label":"Decrease quantity",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("span",{className:"text-gray-800 font-medium px-2 min-w-[60px] text-center",children:a.isLoose?`${b} kg`:b}),e.jsx("button",{onClick:A,className:"w-8 h-8 flex items-center justify-center text-primary hover:bg-gray-200 rounded-md transition-colors","aria-label":"Increase quantity",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}):a.isLoose?e.jsxs("div",{className:"bg-white p-2 rounded-md shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("input",{type:"number",ref:g,min:"0.25",step:"0.25",value:f,onChange:F,onBlur:P,className:"w-20 border border-gray-300 rounded-md p-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Quantity in kg"}),e.jsx("span",{className:"text-xs text-gray-500",children:"kg"})]}),e.jsx("button",{onClick:C,className:"w-full bg-primary hover:bg-secondary text-white py-1.5 rounded-md transition-colors flex items-center justify-center text-sm","aria-label":`Add ${f} kg to cart`,children:"Add"})]}):e.jsx("button",{onClick:C,className:"bg-primary hover:bg-secondary text-white py-1.5 px-6 rounded-md transition-colors flex items-center justify-center text-sm shadow-md","aria-label":"Add to cart",children:"Add"})})]})},Z2=({product:a,onClose:r})=>{const{addToCart:n,cartItems:i,updateCartQuantity:l,removeFromCart:c}=as(),[u,h]=v.useState(1),[f,p]=v.useState(!1);v.useEffect(()=>{const A=i.find(N=>N.id===a.id);A?(p(!0),h(A.quantity)):(p(!1),h(1))},[i,a.id]),v.useEffect(()=>{const A=N=>{N.target.classList.contains("modal-overlay")&&r()};return document.addEventListener("mousedown",A),document.body.style.overflow="hidden",()=>{document.removeEventListener("mousedown",A),document.body.style.overflow="auto"}},[r]),v.useEffect(()=>{const A=N=>{N.key==="Escape"&&r()};return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[r]);const g=()=>{n(a,u)},y=()=>{l(a.id,u)},j=()=>{c(a.id)},b=()=>{h(A=>A+1)},_=()=>{h(A=>A>1?A-1:1)},C=(()=>{const A=a.original_price||a.price*1.35;return Math.round((A-a.price)/A*100)})();return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center modal-overlay bg-black bg-opacity-50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[e.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-1/2 p-6 flex items-center justify-center bg-white relative",children:[C>0&&e.jsxs("div",{className:"absolute top-8 left-8 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full z-10",children:["-",C,"%"]}),e.jsx("img",{src:a.image||"https://via.placeholder.com/400x400?text=No+Image",alt:a.name,className:"max-h-[400px] max-w-full object-contain"})]}),e.jsxs("div",{className:"w-full md:w-1/2 p-6 overflow-y-auto max-h-[90vh] md:max-h-[600px]",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:a.name}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"inline-block bg-gray-200 text-gray-700 text-sm px-2 py-1 rounded",children:a.weight||a.size||"5 kg"})}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(A=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},A))}),e.jsx("span",{className:"text-gray-500 ml-2",children:"0  0 reviews"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:["",Math.round(a.price)]}),e.jsxs("span",{className:"text-gray-500 text-lg line-through ml-2",children:["",Math.round(a.original_price||a.price*1.35)]}),e.jsxs("span",{className:"ml-2 text-green-600 font-medium",children:["Save ",Math.round((a.original_price||a.price*1.35)-a.price)]})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:_,className:"w-8 h-8 border border-gray-300 flex items-center justify-center text-gray-600 hover:bg-gray-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("div",{className:"w-12 h-8 border border-gray-300 mx-2 flex items-center justify-center text-gray-800",children:u}),e.jsx("button",{onClick:b,className:"w-8 h-8 border border-gray-300 flex items-center justify-center text-gray-600 hover:bg-gray-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsx("div",{className:"ml-4",children:e.jsx("span",{className:"text-green-600",children:"In Stock"})})]})}),e.jsx("div",{className:"mb-6",children:f?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:y,className:"w-full bg-primary hover:bg-opacity-90 text-white py-3 rounded-md transition-colors flex items-center justify-center font-medium",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Update Cart"]}),e.jsxs("button",{onClick:j,className:"w-full border border-red-500 text-red-500 hover:bg-red-500 hover:text-white py-2 rounded-md transition-colors flex items-center justify-center font-medium",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove from Cart"]})]}):e.jsxs("button",{onClick:g,className:"w-full bg-primary hover:bg-opacity-90 text-white py-3 rounded-md transition-colors flex items-center justify-center font-medium",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Add to Cart"]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Customer Reviews"}),e.jsx("p",{className:"text-gray-600",children:"No reviews yet. Be the first to review this product!"}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{className:"text-primary hover:underline font-medium",children:"View All Reviews"})})]})]})]})]})})},Ba=({products:a,loading:r=!1})=>{const[n,i]=v.useState(null),l=u=>{i(u)},c=()=>{i(null)};return r?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:Array.from({length:8}).map((u,h)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]})]},h))}):a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"No Products Found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter to find what you're looking for."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:a.map(u=>e.jsx(_x,{product:u,onQuickView:l},u.id))}),n&&e.jsx(Z2,{product:n,onClose:c})]})},ya="product-images",O0="https://mpbszymyubxavjoxhzfm.supabase.co";async function eN(a){try{const r=a.name.split(".").pop()?.toLowerCase()||"jpg",i=`products/${`${Date.now()}-${Math.random().toString(36).substring(2,15)}.${r}`}`,{data:l,error:c}=await ft.storage.from(ya).upload(i,a,{cacheControl:"3600",upsert:!1});if(c){if(console.error("Error uploading image:",c),c.message.includes("Bucket not found")){console.log("Creating storage bucket..."),await ft.storage.createBucket(ya,{public:!0,fileSizeLimit:5242880,allowedMimeTypes:["image/jpeg","image/png","image/webp","image/gif"]});const{data:u,error:h}=await ft.storage.from(ya).upload(i,a,{cacheControl:"3600",upsert:!1});return h?(console.error("Retry upload failed:",h),null):`${O0}/storage/v1/object/public/${ya}/${u.path}`}return null}return`${O0}/storage/v1/object/public/${ya}/${l.path}`}catch(r){return console.error("Error in uploadProductImage:",r),null}}async function Hd(){try{let a=[],r=0;const n=1e3;let i=!0;for(;i;){const{data:l,error:c}=await Ee.from("products").select("*").order("created_at",{ascending:!1}).range(r,r+n-1);if(c)throw console.error("Error fetching admin products:",c),c;l&&l.length>0?(a=[...a,...l],r+=n,i=l.length===n):i=!1}return a}catch(a){throw console.error("Error in getAdminProducts:",a),a}}async function kx(a){try{const{data:r,error:n}=await ft.from("products").insert([a]).select().single();if(n)throw console.error("Error creating product:",n),n;return r}catch(r){throw console.error("Error in createProduct:",r),r}}async function tN(a,r){try{const{data:n,error:i}=await ft.from("products").update(r).eq("id",a).select().single();if(i)throw console.error("Error updating product:",i),i;return n}catch(n){throw console.error("Error in updateProduct:",n),n}}async function rN(a){try{const{error:r}=await ft.from("products").delete().eq("id",a);return r?(console.error("Error deleting product:",r),!1):!0}catch(r){return console.error("Error in deleteProduct:",r),!1}}async function Pn(){try{const{data:a,error:r}=await Ee.from("categories").select("*").order("name");if(r)throw console.error("Error fetching categories:",r),r;return a||[]}catch(a){throw console.error("Error in getCategories:",a),a}}async function Sx(a){try{const{data:r,error:n}=await ft.from("categories").insert([a]).select().single();if(n)throw console.error("Error creating category:",n),n;return r}catch(r){throw console.error("Error in createCategory:",r),r}}async function sN(a){try{const{error:r}=await ft.from("categories").delete().eq("id",a);return r?(console.error("Error deleting category:",r),!1):!0}catch(r){return console.error("Error in deleteCategory:",r),!1}}async function nN(){try{let a=[],r=0;const n=1e3;let i=!0;for(;i;){const{data:c,error:u}=await Ee.from("products").select("category").range(r,r+n-1);if(u)throw console.error("Error fetching product counts:",u),u;c&&c.length>0?(a=[...a,...c.map(h=>h.category)],r+=n,i=c.length===n):i=!1}const l={};return a.forEach(c=>{c&&(l[c]=(l[c]||0)+1)}),l}catch(a){return console.error("Error in getProductCountsByCategory:",a),{}}}async function Vd(){try{const{data:a,error:r}=await Ee.from("orders").select("*").order("created_at",{ascending:!1});if(r)throw console.error("Error fetching orders:",r),r;return(a||[]).map(i=>({...i,items_count:i.items?.length||0}))}catch(a){throw console.error("Error in getOrders:",a),a}}async function aN(a,r){try{console.log(`Updating order ${a} to status: ${r}`);const{data:n,error:i}=await ft.from("orders").update({order_status:r,updated_at:new Date().toISOString()}).eq("id",a).select().single();if(i)throw console.error("Supabase error updating order status:",i),i.message.includes("invalid input value")?new Error(`Status "${r}" is not valid in the database. Please update the database schema to include this status.`):new Error(i.message||"Failed to update order status");return console.log("Order status updated successfully:",n),n}catch(n){throw console.error("Error in updateOrderStatus:",n),n}}async function Cx(){try{const{data:a,error:r}=await Ee.from("orders").select("customer_name, customer_email, customer_phone, order_total, created_at").order("created_at",{ascending:!1});if(r)throw console.error("Error fetching orders for customers:",r),r;const n=new Map;return a?.forEach(i=>{const l=i.customer_email||i.customer_phone||i.customer_name;if(n.has(l)){const c=n.get(l);c.orders_count+=1,c.total_spent+=i.order_total||0}else n.set(l,{id:l,name:i.customer_name,email:i.customer_email,phone:i.customer_phone,status:"Active",orders_count:1,total_spent:i.order_total||0,created_at:i.created_at,location:""})}),Array.from(n.values())}catch(a){throw console.error("Error in getCustomers:",a),a}}async function iN(){try{let a=[],r=0;const n=1e3;let i=!0;for(;i;){const{data:A,error:N}=await Ee.from("products").select("id").range(r,r+n-1);if(N)throw N;A&&A.length>0?(a=[...a,...A],r+=n,i=A.length===n):i=!1}const l=a,{data:c,error:u}=await Ee.from("orders").select("id, order_status, order_total, customer_email, customer_phone, customer_name");if(u)throw u;const h=new Set;c?.forEach(A=>{const N=A.customer_email||A.customer_phone||A.customer_name;N&&h.add(N)});const f=l?.length||0,p=c?.length||0,g=h.size,y=c?.reduce((A,N)=>A+(N.order_total||0),0)||0,j=c?.filter(A=>A.order_status==="placed").length||0,b=c?.filter(A=>A.order_status==="confirmed").length||0,_=c?.filter(A=>A.order_status==="shipped").length||0,k=c?.filter(A=>A.order_status==="delivered").length||0,C=c?.filter(A=>A.order_status==="cancelled").length||0;return{totalProducts:f,totalOrders:p,totalCustomers:g,totalSales:y,processingOrders:j+b,shippedOrders:_,deliveredOrders:k,cancelledOrders:C}}catch(a){throw console.error("Error fetching dashboard stats:",a),a}}function oN(a){if(!a)return"";const r=a.split("-").filter(l=>l.trim().length>0);if(r.length===1)return uo(r[0]);if(r.length===2)return`${uo(r[0])} and ${uo(r[1])}`;const n=r.map(l=>uo(l)),i=n.pop();return`${n.join(", ")} and ${i}`}function uo(a){return a.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" ")}const lN=()=>{const[a,r]=v.useState([]),[n,i]=v.useState([]),[l,c]=v.useState([]),[u,h]=v.useState(!0),{showNotification:f}=fr(),p=St(),g=40;v.useEffect(()=>{(async()=>{try{h(!0);const[b,_]=await Promise.all([Lo(),Pn()]);r(b),c(_)}catch(b){console.error("Error fetching data:",b),f("Failed to load data. Please try again.","error")}finally{h(!1)}})()},[f]),v.useEffect(()=>{i(a.slice(0,g))},[a]);const y=j=>{const b=["bg-green-50","bg-red-50","bg-yellow-50","bg-orange-50","bg-pink-50","bg-slate-50","bg-blue-50","bg-purple-50","bg-teal-50","bg-indigo-50"];return b[j%b.length]};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"py-16 bg-gradient-to-b from-gray-50 to-white",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-3",children:"Shop by Category"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover a wide variety of fresh products across all your favorite categories"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6",children:u?Array.from({length:10}).map((j,b)=>e.jsxs("div",{className:"bg-white rounded-2xl p-5 animate-pulse shadow-md",children:[e.jsx("div",{className:"w-full h-40 bg-gray-200 rounded-xl mb-4"}),e.jsx("div",{className:"h-5 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},`skeleton-cat-${b}`)):l.map((j,b)=>e.jsxs(ce,{to:`/category/${encodeURIComponent(j.name)}`,className:"group bg-white rounded-2xl shadow-md hover:shadow-2xl transition-all duration-300 overflow-hidden transform hover:-translate-y-2",children:[e.jsx("div",{className:`${j.color||y(b)} p-4`,children:e.jsx("div",{className:"overflow-hidden rounded-xl",children:e.jsx("img",{src:j.image_url||`https://via.placeholder.com/300x200?text=${encodeURIComponent(j.name)}`,alt:j.name,loading:"lazy",className:"w-full h-40 object-cover transform group-hover:scale-110 transition-transform duration-300",onError:_=>{const k=_.target;k.src=`https://via.placeholder.com/300x200?text=${encodeURIComponent(j.name)}`}})})}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("h3",{className:"font-bold text-gray-800 text-base mb-1.5 group-hover:text-green-600 transition-colors",children:oN(j.name)}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:j.description||"Browse products"})]})]},j.id))}),!u&&l.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No categories available at the moment."})})]})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"Featured Products"}),e.jsx("p",{className:"text-gray-600",children:a.length>0?`Showing ${n.length} of ${a.length} products`:"Browse through our complete collection of quality products"})]}),e.jsx(Ba,{products:n,loading:u}),!u&&a.length>g&&e.jsxs("div",{className:"text-center mt-12",children:[e.jsxs("button",{onClick:()=>p("/shop"),className:"inline-flex items-center gap-3 bg-gradient-to-r from-primary to-secondary hover:from-secondary hover:to-primary text-white px-8 py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Show More Products",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),e.jsxs("p",{className:"text-gray-500 mt-4 text-sm",children:["View all ",a.length," products in our shop"]})]}),!u&&a.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 mx-auto text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Products Available"}),e.jsx("p",{className:"text-gray-500",children:"We're working on adding new products. Check back soon!"})]})]})})]})},cN=()=>{const[a,r]=v.useState([]),[n,i]=v.useState([]),[l,c]=v.useState([]),[u,h]=v.useState(!0),[f,p]=v.useState("all"),[g,y]=v.useState("default"),[j,b]=v.useState([0,1e3]),[_,k]=v.useState(""),[C,A]=v.useState(!1),[N,S]=v.useState(1e3),{showNotification:F}=fr(),P=B=>{const V=[...B];for(let J=V.length-1;J>0;J--){const ie=Math.floor(Math.random()*(J+1));[V[J],V[ie]]=[V[ie],V[J]]}return V};v.useEffect(()=>{(async()=>{try{h(!0);const V=await Lo(),J=P(V);r(J),i(J);const ie=Array.from(new Set(V.map(ge=>ge.category))).filter(Boolean).sort((ge,Z)=>ge.localeCompare(Z));c(ie);const ae=Math.max(...V.map(ge=>ge.price),1e3);S(ae),b([0,ae])}catch(V){console.error("Error fetching products:",V),F("Failed to load products. Please try again.","error")}finally{h(!1)}})()},[F]),v.useEffect(()=>{let B=[...a];if(f!=="all"&&(B=B.filter(V=>V.category===f)),B=B.filter(V=>V.price>=j[0]&&V.price<=j[1]),_){const V=_.toLowerCase();B=B.filter(J=>J.name.toLowerCase().includes(V)||J.category.toLowerCase().includes(V))}switch(g){case"price-asc":B.sort((V,J)=>V.price-J.price);break;case"price-desc":B.sort((V,J)=>J.price-V.price);break;case"name-asc":B.sort((V,J)=>V.name.localeCompare(J.name));break;case"name-desc":B.sort((V,J)=>J.name.localeCompare(V.name));break}i(B)},[a,f,g,j,_]);const $=B=>{p(B)},D=B=>{y(B.target.value)},I=(B,V)=>{const J=parseInt(B.target.value);b(ie=>{const ae=[...ie];return ae[V]=J,ae})},H=B=>{k(B.target.value)},K=()=>{p("all"),y("default"),b([0,N]),k(""),F("Filters cleared","success")},W=f!=="all"||j[0]!==0||j[1]!==N||_!=="";return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Shop All Products"}),e.jsx("p",{className:"text-gray-600",children:"Discover our complete collection of quality products"})]}),e.jsx("div",{className:"lg:hidden mb-6",children:e.jsxs("button",{onClick:()=>A(!C),className:"w-full flex items-center justify-center gap-2 bg-white border-2 border-gray-300 hover:border-primary text-gray-700 px-4 py-3 rounded-xl font-medium transition-all duration-300 shadow-sm hover:shadow-md",children:[e.jsx(k0,{className:"w-5 h-5"}),C?"Hide Filters":"Show Filters",W&&e.jsx("span",{className:"bg-primary text-white text-xs px-2 py-1 rounded-full",children:"Active"})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:`lg:w-1/4 ${C?"block":"hidden lg:block"}`,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-24 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k0,{className:"w-5 h-5 text-primary"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Filters"})]}),W&&e.jsxs("button",{onClick:K,className:"text-sm text-red-600 hover:text-red-700 font-medium flex items-center gap-1",children:[e.jsx(Ie,{className:"w-4 h-4"}),"Clear"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(ar,{className:"w-4 h-4"}),"Search Products"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Type to search...",value:_,onChange:H,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300"}),_&&e.jsx("button",{onClick:()=>k(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Ie,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4"}),"Category"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:f,onChange:B=>$(B.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300 appearance-none bg-white cursor-pointer font-medium text-gray-700",children:[e.jsx("option",{value:"all",children:"All Categories"}),l.map(B=>e.jsx("option",{value:B,children:Aa(B)},B))]}),e.jsx(Oa,{className:"w-5 h-5 text-gray-400 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"})]}),f!=="all"&&e.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-medium",children:[Aa(f),e.jsx("button",{onClick:()=>$("all"),className:"hover:bg-primary/20 rounded-full p-0.5",children:e.jsx(Ie,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Price Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 px-3 py-2 rounded-lg",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["",j[0]]}),e.jsx("span",{className:"text-xs text-gray-500",children:"to"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["",j[1]]})]}),e.jsxs("div",{className:"relative h-2 bg-gray-200 rounded-full",children:[e.jsx("div",{className:"absolute h-full bg-gradient-to-r from-primary to-secondary rounded-full",style:{left:`${j[0]/N*100}%`,right:`${100-j[1]/N*100}%`}}),e.jsx("input",{type:"range",min:0,max:N,value:j[0],onChange:B=>I(B,0),className:"absolute w-full h-2 bg-transparent appearance-none pointer-events-auto cursor-pointer",style:{zIndex:j[0]>N-100?5:3}}),e.jsx("input",{type:"range",min:0,max:N,value:j[1],onChange:B=>I(B,1),className:"absolute w-full h-2 bg-transparent appearance-none pointer-events-auto cursor-pointer",style:{zIndex:4}})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-medium",children:"Min Price"}),e.jsx("input",{type:"number",value:j[0],onChange:B=>I(B,0),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-primary text-sm"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-medium",children:"Max Price"}),e.jsx("input",{type:"number",value:j[1],onChange:B=>I(B,1),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-primary text-sm"})]})]})]})]}),W&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-800 mb-1",children:"Active Filters"}),e.jsxs("p",{className:"text-xs text-blue-600",children:[f!=="all"&&"Category, ",(j[0]!==0||j[1]!==N)&&"Price Range, ",_&&"Search"]})]})})]})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"text-gray-600 font-medium",children:["Showing ",e.jsx("span",{className:"text-primary font-bold",children:n.length})," products"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{htmlFor:"sort-by",className:"text-gray-600 font-medium whitespace-nowrap",children:"Sort:"}),e.jsxs("select",{id:"sort-by",value:g,onChange:D,className:"border-2 border-gray-200 rounded-xl px-4 py-2.5 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300 font-medium text-gray-700 cursor-pointer bg-white",children:[e.jsx("option",{value:"default",children:"Random"}),e.jsx("option",{value:"price-asc",children:"Price: Low to High"}),e.jsx("option",{value:"price-desc",children:"Price: High to Low"}),e.jsx("option",{value:"name-asc",children:"Name: A to Z"}),e.jsx("option",{value:"name-desc",children:"Name: Z to A"})]})]})]}),!u&&n.length===0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qt,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Products Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your filters or search terms"}),e.jsx("button",{onClick:K,className:"bg-primary hover:bg-secondary text-white px-6 py-3 rounded-xl font-medium transition-all duration-300 transform hover:scale-105",children:"Clear All Filters"})]}),n.length>0&&e.jsx(Ba,{products:n,loading:u})]})]})]})})},dN=()=>{const{categoryId:a}=jd(),[r,n]=v.useState([]),[i,l]=v.useState(!0),[c,u]=v.useState(null),[h,f]=v.useState("default"),{showNotification:p}=fr();v.useEffect(()=>{(async()=>{if(!a){l(!1);return}try{l(!0),u(null),console.log(" CategoryPage - Fetching products for category:",a);const k=await F1(a);console.log(" CategoryPage - Products found:",k.length),n(k)}catch(k){const C="Failed to load products. Please try again.";console.error("Error fetching products:",k),u(C),p(C,"error"),n([])}finally{l(!1)}})()},[a,p]);const g=v.useMemo(()=>[...r].sort((_,k)=>{switch(h){case"price-asc":return _.price-k.price;case"price-desc":return k.price-_.price;case"name-asc":return _.name.localeCompare(k.name);case"name-desc":return k.name.localeCompare(_.name);case"default":default:return k.id.localeCompare(_.id)}}),[r,h]),y=v.useMemo(()=>a?Aa(a):"Category",[a]),j=v.useCallback(_=>{f(_.target.value)},[]),b=v.useMemo(()=>{if(i)return"Loading products...";if(c)return"Failed to load products";const _=r.length;return _===1?"1 product found":`${_} products found`},[i,c,r.length]);return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:y}),e.jsxs("p",{className:"text-gray-600",children:["Browse our selection of ",y.toLowerCase()]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 bg-white rounded-lg shadow-md p-4",children:[e.jsx("div",{children:e.jsx("span",{className:"text-gray-600 font-medium",children:b})}),e.jsxs("div",{className:"flex items-center w-full sm:w-auto",children:[e.jsx("label",{htmlFor:"sort-by",className:"text-gray-600 mr-2 whitespace-nowrap",children:"Sort by:"}),e.jsxs("select",{id:"sort-by",value:h,onChange:j,disabled:i||c!==null,className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors w-full sm:w-auto","aria-label":"Sort products",children:[e.jsx("option",{value:"default",children:"Newest"}),e.jsx("option",{value:"price-asc",children:"Price: Low to High"}),e.jsx("option",{value:"price-desc",children:"Price: High to Low"}),e.jsx("option",{value:"name-asc",children:"Name: A to Z"}),e.jsx("option",{value:"name-desc",children:"Name: Z to A"})]})]})]}),e.jsx(Ba,{products:g,loading:i}),!i&&!c&&r.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"No products found in this category."})})]})},uN=()=>{const{productId:a}=jd(),[r,n]=v.useState(null),[i,l]=v.useState([]),[c,u]=v.useState(1),[h,f]=v.useState(!0),{addToCart:p,cartItems:g}=as(),j=g.find(C=>C.id===a)?.quantity||0;v.useEffect(()=>{(async()=>{if(a)try{f(!0);const A=await Lo(),N=A.find(S=>S.id===a)||null;if(n(N),N){const S=A.filter(F=>F.category===N.category&&F.id!==N.id).slice(0,4);l(S)}}catch(A){console.error("Error fetching product details:",A)}finally{f(!1)}})()},[a]);const b=()=>{u(C=>C+1)},_=()=>{u(C=>C>1?C-1:1)},k=()=>{r&&p(r,c)};return h?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"md:w-1/2",children:e.jsx("div",{className:"bg-gray-200 rounded-lg h-96"})}),e.jsxs("div",{className:"md:w-1/2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-6"}),e.jsx("div",{className:"h-24 bg-gray-200 rounded mb-6"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-12 bg-gray-200 rounded"})]})]})]})}):r?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("nav",{className:"flex mb-6 text-sm",children:e.jsxs("ol",{className:"flex items-center space-x-2",children:[e.jsx("li",{children:e.jsx(ce,{to:"/",className:"text-gray-500 hover:text-primary",children:"Home"})}),e.jsx("li",{className:"text-gray-500",children:"/"}),e.jsx("li",{children:e.jsx(ce,{to:"/shop",className:"text-gray-500 hover:text-primary",children:"Shop"})}),e.jsx("li",{className:"text-gray-500",children:"/"}),e.jsx("li",{children:e.jsx(ce,{to:`/category/${r.category}`,className:"text-gray-500 hover:text-primary",children:Aa(r.category)})}),e.jsx("li",{className:"text-gray-500",children:"/"}),e.jsx("li",{className:"text-gray-700 font-medium truncate max-w-xs",children:r.name})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-12",children:[e.jsx("div",{className:"md:w-1/2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx("img",{src:r.image||"https://via.placeholder.com/600x600?text=No+Image",alt:r.name,className:"w-full h-auto object-contain aspect-square"})})}),e.jsx("div",{className:"md:w-1/2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("div",{className:"text-sm text-primary font-medium mb-2",children:Aa(r.category)}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:r.name}),e.jsxs("div",{className:"text-2xl font-bold text-primary mb-4",children:[Ke(r.price),(r.size||r.weight)&&e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:r.size||r.weight})]}),r.description&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:r.description})]}),j>0&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 text-green-700 rounded-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:[e.jsx("strong",{children:j})," already in your cart"]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Quantity"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:_,className:"w-10 h-10 rounded-l-md border border-gray-300 flex items-center justify-center text-gray-600 hover:bg-gray-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("div",{className:"w-14 h-10 border-t border-b border-gray-300 flex items-center justify-center text-gray-800",children:c}),e.jsx("button",{onClick:b,className:"w-10 h-10 rounded-r-md border border-gray-300 flex items-center justify-center text-gray-600 hover:bg-gray-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:k,className:"flex-1 bg-primary hover:bg-secondary text-white py-3 rounded-md transition-colors flex items-center justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Add to Cart"]}),e.jsxs("button",{className:"flex-1 border border-primary text-primary hover:bg-primary hover:text-white py-3 rounded-md transition-colors flex items-center justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Add to Wishlist"]})]})]})})]}),i.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Related Products"}),e.jsx(Ba,{products:i})]})]}):e.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The product you are looking for does not exist or has been removed."}),e.jsx(ce,{to:"/shop",className:"bg-primary hover:bg-secondary text-white px-6 py-3 rounded-md font-medium transition-colors",children:"Continue Shopping"})]})},T0=a=>{const r=a,n=0,i=a>1e3?a*.1:0,l=r+n-i;return{subtotal:r,deliveryFee:n,discount:i,orderTotal:l}},hN=()=>{const{cartItems:a,cartTotal:r,clearCart:n}=as(),{showNotification:i}=fr(),{isAuthenticated:l,user:c}=ns(),u=St(),[h,f]=v.useState({name:c?.name||"",email:c?.email||"",phone:c?.phone||"",address:"",city:"",state:"",pincode:"",paymentMethod:"cod",addressName:""}),[p,g]=v.useState(!1),[y,j]=v.useState(1),[b,_]=v.useState(0),[k,C]=v.useState(""),[A,N]=v.useState(null),[S,F]=v.useState([]),[P,$]=v.useState(null),[D,I]=v.useState(!1),[H,K]=v.useState(!0),[W,B]=v.useState(!0),[V,J]=v.useState(null),[ie,ae]=v.useState([]),[ge,Z]=v.useState(!1),ue=v.useRef(null);v.useEffect(()=>{const ne=async()=>{if(!c?.id){K(!1);return}try{K(!0);const ye=await kr(c.id);F(ye);const Te=ye.find(it=>it.is_default);Te?($(Te.id),L(Te),I(!1)):ye.length>0?($(ye[0].id),L(ye[0]),I(!1)):I(!0)}catch(ye){console.error("Error fetching addresses:",ye),I(!0)}finally{K(!1)}};c?.id&&ne()},[c?.id]),v.useEffect(()=>{(async()=>{if(a.length===0){ae([]);return}try{Z(!0);const ye=await Lo(),Te=Array.from(new Set(a.map(Ye=>ye.find(Or=>Or.id===Ye.id)?.category).filter(Boolean))),it=new Set(a.map(Ye=>Ye.id)),$t=ye.filter(Ye=>Te.includes(Ye.category)&&!it.has(Ye.id)&&Ye.in_stock).slice(0,10);ae($t)}catch(ye){console.error("Error fetching suggested products:",ye),ae([])}finally{Z(!1)}})()},[a]);const se=()=>{ue.current&&ue.current.scrollBy({left:-280,behavior:"smooth"})},T=()=>{ue.current&&ue.current.scrollBy({left:280,behavior:"smooth"})},L=ne=>{f(ye=>({...ye,address:ne.address_line_1+(ne.address_line_2?", "+ne.address_line_2:""),city:ne.city,state:ne.state,pincode:ne.pincode,phone:ne.phone}))},M=ne=>{J(null),$(ne);const ye=S.find(Te=>Te.id===ne);ye&&(L(ye),I(!1))},G=()=>{J(null),$(null),f(ne=>({...ne,address:"",city:"",state:"",pincode:"",phone:c?.phone||"",addressName:""})),I(!0),B(!0)},Q=ne=>{const ye=S.find(Te=>Te.id===ne);ye&&(J(ne),$(ne),I(!0),f(Te=>({...Te,name:c?.name||"",email:c?.email||"",phone:ye.phone,address:ye.address_line_1+(ye.address_line_2?", "+ye.address_line_2:""),city:ye.city,state:ye.state,pincode:ye.pincode,addressName:ye.name})),B(!0))},oe=async ne=>{if(c?.id&&window.confirm("Are you sure you want to delete this address?"))try{K(!0),await tx(ne,c.id);let ye=await kr(c.id);if(F(ye),ye.length>0){const Te=ye.find(it=>it.is_default)||ye[0];$(Te.id),L(Te),I(!1)}else $(null),I(!0);i("Address deleted","success")}catch{i("Failed to delete address","error")}finally{K(!1)}},de=ne=>{const{name:ye,value:Te}=ne.target;f(it=>({...it,[ye]:Te}))},je=async ne=>{if(ne.preventDefault(),V){if(!c?.id){i("User not authenticated","error");return}const ye=h.address.split(","),Te=ye[0]?.trim()||h.address,it=ye.slice(1).join(",").trim()||void 0;try{K(!0),await ex(V,c.id,{name:h.addressName,address_line_1:Te,address_line_2:it,city:h.city,state:h.state,pincode:h.pincode,phone:h.phone});const $t=V;let Ye=await kr(c.id);F(Ye),J(null),I(!1),i("Address updated","success");const xr=Ye.find(Or=>Or.id===$t);xr&&($($t),L(xr))}catch{i("Failed to update address","error")}finally{K(!1)}return}Pe(ne)},Pe=async ne=>{if(ne.preventDefault(),a.length===0){i("Your cart is empty","error");return}if(y<3){j(y+1);return}try{if(g(!0),W&&D&&!V&&c?.id)try{const Ct=h.address.split(","),qa=Ct[0]?.trim()||h.address,Tn=Ct.slice(1).join(",").trim()||void 0,Ls={user_id:c.id,name:h.addressName||"Delivery Address",address_line_1:qa,address_line_2:Tn,city:h.city,state:h.state,pincode:h.pincode,phone:h.phone,is_default:S.length===0},Wa=await Zf(Ls),ls=await kr(c.id);F(ls),$(Wa.id),I(!1),i("Address saved for future orders","success")}catch(Ct){console.error("Error saving address:",Ct),i("Order placed but address could not be saved","info")}const ye=a.map(Ct=>({product_id:Ct.id,name:Ct.name,price:Ct.price,quantity:Ct.quantity,image:Ct.image})),{subtotal:Te,deliveryFee:it,discount:$t,orderTotal:Ye}=T0(r),xr=Ye+b,Or={user_id:c?.id,customer_name:h.name,customer_email:h.email||void 0,customer_phone:h.phone,order_status:"placed",payment_status:(h.paymentMethod==="cod","pending"),payment_method:h.paymentMethod==="cod"?"Cash on Delivery":"Online Payment",order_total:xr,subtotal:Te,delivery_fee:it,items:ye,shipping_address:{address:h.address,city:h.city,state:h.state,pincode:h.pincode}},Rs=await G1(Or);i("Order placed successfully! ","success"),n(),u("/thank-you",{state:{order:Rs,orderId:Rs.id,orderNumber:Rs.order_number}})}catch(ye){console.error("Error placing order:",ye),i(ye?.message||"Failed to place order. Please try again.","error")}finally{g(!1)}},He=()=>{y>1&&j(y-1)},nt=ne=>{N(ne.toString()),_(ne),C("")},at=ne=>{const ye=ne.target.value;C(ye);const Te=parseFloat(ye)||0;_(Te),N("custom")};if(!l)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-white to-secondary/5 flex items-center justify-center px-4 py-12",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 transform hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ps,{className:"w-8 h-8 text-primary"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-3 text-center",children:"Please Login"}),e.jsx("p",{className:"text-gray-600 mb-8 text-center",children:"You need to be logged in to proceed with checkout."}),e.jsx(ce,{to:"/login",className:"block w-full bg-gradient-to-r from-primary to-secondary text-white text-center py-3 px-6 rounded-xl hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300 font-semibold",children:"Login to Continue"})]})})});const{discount:os,orderTotal:An}=T0(r),On=An+b;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-white to-secondary/5 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:[{step:1,label:"Shipping",icon:mr},{step:2,label:"Payment",icon:ka},{step:3,label:"Review",icon:kt}].map(({step:ne,label:ye,icon:Te},it)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-all duration-500 ${y>=ne?"bg-gradient-to-r from-primary to-secondary text-white shadow-lg scale-110":"bg-gray-200 text-gray-400"}`,children:e.jsx(Te,{className:"w-6 h-6"})}),e.jsx("span",{className:`mt-2 text-sm font-medium transition-colors duration-300 ${y>=ne?"text-primary":"text-gray-400"}`,children:ye})]}),it<2&&e.jsx("div",{className:`flex-1 h-1 mx-2 transition-all duration-500 ${y>ne?"bg-gradient-to-r from-primary to-secondary":"bg-gray-200"}`})]},ne))})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 max-w-7xl mx-auto",children:[e.jsx("div",{className:"lg:w-2/3",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 transform hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-lg flex items-center justify-center mr-3",children:e.jsx(ir,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Checkout"})]}),e.jsxs("form",{onSubmit:je,children:[y===1&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Cr,{className:"w-5 h-5 text-primary mr-2"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Shipping Information"})]}),S.length>0&&!D&&e.jsxs("button",{type:"button",onClick:G,className:"flex items-center text-primary hover:text-secondary text-sm font-medium",children:[e.jsx(Ar,{className:"w-4 h-4 mr-1"}),"Add New Address"]})]}),H&&e.jsxs("div",{className:"animate-pulse space-y-3 mb-6",children:[e.jsx("div",{className:"h-24 bg-gray-200 rounded-xl"}),e.jsx("div",{className:"h-24 bg-gray-200 rounded-xl"})]}),!H&&S.length>0&&!D&&e.jsxs("div",{className:"mb-6 space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Select a delivery address:"}),S.map(ne=>e.jsx("label",{className:`block p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 ${P===ne.id?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,children:e.jsxs("div",{className:"flex items-start w-full",children:[e.jsx("input",{type:"radio",name:"savedAddress",value:ne.id,checked:P===ne.id,onChange:()=>M(ne.id),className:"mt-1 h-4 w-4 text-primary focus:ring-primary border-gray-300"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-gray-800",children:ne.name}),ne.is_default&&e.jsx("span",{className:"ml-2 bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded-full",children:"Default"})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[ne.address_line_1,ne.address_line_2&&`, ${ne.address_line_2}`]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[ne.city,", ",ne.state," - ",ne.pincode]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",ne.phone]})]}),e.jsxs("div",{className:"flex flex-col gap-2 ml-2",children:[e.jsx("button",{type:"button",className:"text-blue-500 hover:text-blue-600 text-xs font-medium px-2 py-1 rounded",style:{minWidth:"44px"},onClick:()=>Q(ne.id),children:"Edit"}),e.jsx("button",{type:"button",className:"text-red-500 hover:text-red-600 text-xs font-medium px-2 py-1 rounded",style:{minWidth:"44px"},onClick:()=>oe(ne.id),children:"Delete"})]})]})},ne.id))]}),!H&&(D||S.length===0)&&e.jsxs(e.Fragment,{children:[S.length>0&&e.jsx("div",{className:"mb-4",children:e.jsx("button",{type:"button",onClick:()=>{if(J(null),I(!1),S.length>0){const ne=S.find(ye=>ye.is_default)||S[0];$(ne.id),L(ne)}},className:"text-sm text-primary hover:text-secondary",children:" Back to saved addresses"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"group",children:[e.jsxs("label",{htmlFor:"name",className:"block text-gray-700 mb-2 font-medium flex items-center",children:[e.jsx(As,{className:"w-4 h-4 mr-1"}),"Full Name *"]}),e.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:de,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300 group-hover:border-gray-300",placeholder:"John Doe"})]}),e.jsxs("div",{className:"group",children:[e.jsxs("label",{htmlFor:"email",className:"block text-gray-700 mb-2 font-medium flex items-center",children:[e.jsx(Ua,{className:"w-4 h-4 mr-1"}),"Email *"]}),e.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:de,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300 group-hover:border-gray-300",placeholder:"john@example.com"})]}),e.jsxs("div",{className:"group",children:[e.jsxs("label",{htmlFor:"phone",className:"block text-gray-700 mb-2 font-medium flex items-center",children:[e.jsx(Ud,{className:"w-4 h-4 mr-1"}),"Phone Number *"]}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:de,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300 group-hover:border-gray-300",placeholder:"+91 98765 43210"})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{htmlFor:"pincode",className:"block text-gray-700 mb-2 font-medium",children:"PIN Code *"}),e.jsx("input",{type:"text",id:"pincode",name:"pincode",value:h.pincode,onChange:de,required:!0,maxLength:6,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300 group-hover:border-gray-300",placeholder:"700001"})]}),e.jsxs("div",{className:"md:col-span-2 group",children:[e.jsx("label",{htmlFor:"address",className:"block text-gray-700 mb-2 font-medium",children:"Street Address *"}),e.jsx("textarea",{id:"address",name:"address",value:h.address,onChange:de,required:!0,rows:2,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300 group-hover:border-gray-300 resize-none",placeholder:"House no, Building name, Street"})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{htmlFor:"city",className:"block text-gray-700 mb-2 font-medium",children:"City *"}),e.jsx("input",{type:"text",id:"city",name:"city",value:h.city,onChange:de,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300 group-hover:border-gray-300",placeholder:"Kolkata"})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{htmlFor:"state",className:"block text-gray-700 mb-2 font-medium",children:"State *"}),e.jsxs("select",{id:"state",name:"state",value:h.state,onChange:de,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300 group-hover:border-gray-300",children:[e.jsx("option",{value:"",children:"Select State"}),e.jsx("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),e.jsx("option",{value:"Arunachal Pradesh",children:"Arunachal Pradesh"}),e.jsx("option",{value:"Assam",children:"Assam"}),e.jsx("option",{value:"Bihar",children:"Bihar"}),e.jsx("option",{value:"Chhattisgarh",children:"Chhattisgarh"}),e.jsx("option",{value:"Goa",children:"Goa"}),e.jsx("option",{value:"Gujarat",children:"Gujarat"}),e.jsx("option",{value:"Haryana",children:"Haryana"}),e.jsx("option",{value:"Himachal Pradesh",children:"Himachal Pradesh"}),e.jsx("option",{value:"Jharkhand",children:"Jharkhand"}),e.jsx("option",{value:"Karnataka",children:"Karnataka"}),e.jsx("option",{value:"Kerala",children:"Kerala"}),e.jsx("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),e.jsx("option",{value:"Maharashtra",children:"Maharashtra"}),e.jsx("option",{value:"Manipur",children:"Manipur"}),e.jsx("option",{value:"Meghalaya",children:"Meghalaya"}),e.jsx("option",{value:"Mizoram",children:"Mizoram"}),e.jsx("option",{value:"Nagaland",children:"Nagaland"}),e.jsx("option",{value:"Odisha",children:"Odisha"}),e.jsx("option",{value:"Punjab",children:"Punjab"}),e.jsx("option",{value:"Rajasthan",children:"Rajasthan"}),e.jsx("option",{value:"Sikkim",children:"Sikkim"}),e.jsx("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),e.jsx("option",{value:"Telangana",children:"Telangana"}),e.jsx("option",{value:"Tripura",children:"Tripura"}),e.jsx("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),e.jsx("option",{value:"Uttarakhand",children:"Uttarakhand"}),e.jsx("option",{value:"West Bengal",children:"West Bengal"}),e.jsxs("optgroup",{label:"Union Territories",children:[e.jsx("option",{value:"Andaman and Nicobar Islands",children:"Andaman and Nicobar Islands"}),e.jsx("option",{value:"Chandigarh",children:"Chandigarh"}),e.jsx("option",{value:"Dadra and Nagar Haveli and Daman and Diu",children:"Dadra and Nagar Haveli and Daman and Diu"}),e.jsx("option",{value:"Delhi",children:"Delhi"}),e.jsx("option",{value:"Jammu and Kashmir",children:"Jammu and Kashmir"}),e.jsx("option",{value:"Ladakh",children:"Ladakh"}),e.jsx("option",{value:"Lakshadweep",children:"Lakshadweep"}),e.jsx("option",{value:"Puducherry",children:"Puducherry"})]})]})]}),e.jsxs("div",{className:"md:col-span-2 mt-4",children:[e.jsxs("label",{className:"flex items-center p-4 bg-blue-50 border-2 border-blue-200 rounded-xl cursor-pointer hover:bg-blue-100 transition-all duration-300",children:[e.jsx("input",{type:"checkbox",checked:W,onChange:ne=>B(ne.target.checked),className:"h-5 w-5 text-primary focus:ring-primary border-gray-300 rounded"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("span",{className:"font-semibold text-gray-800",children:"Save this address for future orders"}),e.jsx("p",{className:"text-sm text-gray-600",children:"You can manage your saved addresses from your profile"})]})]}),W&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{htmlFor:"addressName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Label (Optional)"}),e.jsx("input",{type:"text",id:"addressName",name:"addressName",value:h.addressName,onChange:de,placeholder:"e.g., Home, Office, Apartment",className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Give this address a name to easily identify it later"})]})]})]})]})]}),y===2&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ka,{className:"w-5 h-5 text-primary mr-2"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Payment Method"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 ${h.paymentMethod==="cod"?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:h.paymentMethod==="cod",onChange:de,className:"h-5 w-5 text-primary focus:ring-primary border-gray-300"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("span",{className:"font-semibold text-gray-800",children:"Cash on Delivery"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pay when you receive your order"})]}),e.jsx(mr,{className:"w-6 h-6 text-primary"})]}),e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 ${h.paymentMethod==="online"?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:h.paymentMethod==="online",onChange:de,className:"h-5 w-5 text-primary focus:ring-primary border-gray-300"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("span",{className:"font-semibold text-gray-800",children:"Online Payment"}),e.jsx("p",{className:"text-sm text-gray-500",children:"UPI, Card, Net Banking"})]}),e.jsx(ts,{className:"w-6 h-6 text-primary"})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Add a Tip"})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[5,10,15,20].map(ne=>e.jsxs("button",{type:"button",onClick:()=>nt(ne),className:`py-3 px-4 rounded-xl font-semibold transition-all duration-300 ${A===ne.toString()?"bg-gradient-to-r from-primary to-secondary text-white shadow-lg scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-md"}`,children:["",ne]},ne))}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"customTip",className:"block text-gray-700 mb-2 font-medium",children:"Custom Amount"}),e.jsx("input",{type:"number",id:"customTip",name:"customTip",value:k,onChange:at,min:"0",step:"1",placeholder:"Enter custom tip amount",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300 hover:border-gray-300"})]})]})]}),y===3&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(kt,{className:"w-5 h-5 text-primary mr-2"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Review Your Order"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Shipping Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Name:"})," ",h.name]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Email:"})," ",h.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Phone:"})," ",h.phone]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"PIN Code:"})," ",h.pincode]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("span",{className:"text-gray-500",children:"Address:"})," ",h.address,", ",h.city,", ",h.state]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Payment Method"}),e.jsx("div",{className:"flex items-center",children:h.paymentMethod==="cod"?e.jsxs(e.Fragment,{children:[e.jsx(mr,{className:"w-4 h-4 text-primary mr-2"}),e.jsx("span",{children:"Cash on Delivery"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ts,{className:"w-4 h-4 text-primary mr-2"}),e.jsx("span",{children:"Online Payment"})]})})]})]}),e.jsxs("div",{className:"flex gap-4",children:[y>1&&e.jsx("button",{type:"button",onClick:He,className:"py-4 px-6 border-2 border-primary text-primary font-bold rounded-xl hover:bg-primary/10 transition-all duration-300 flex items-center justify-center",children:" Previous"}),e.jsx("button",{type:"submit",disabled:p||a.length===0,className:`flex-1 py-4 px-6 bg-gradient-to-r from-primary to-secondary text-white font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center ${p||a.length===0?"opacity-50 cursor-not-allowed":""}`,children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Processing..."]}):e.jsx(e.Fragment,{children:y<3?e.jsxs(e.Fragment,{children:[y===1?e.jsx(mr,{className:"w-5 h-5 mr-2"}):e.jsx(ka,{className:"w-5 h-5 mr-2"}),y<3?`Continue to ${y===1?"Payment":"Review"}`:""]}):e.jsxs(e.Fragment,{children:[e.jsx(kt,{className:"w-5 h-5 mr-2"}),`Place Order - ${On.toFixed(2)}`]})})})]})]}),y===1&&a.length>0&&ie.length>0&&e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:"You might also like..."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Based on items in your cart"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:se,className:"p-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors shadow-sm","aria-label":"Scroll left",children:e.jsx(Ma,{className:"w-5 h-5 text-gray-600"})}),e.jsx("button",{type:"button",onClick:T,className:"p-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors shadow-sm","aria-label":"Scroll right",children:e.jsx(za,{className:"w-5 h-5 text-gray-600"})})]})]}),ge?e.jsx("div",{className:"flex gap-4 overflow-hidden",children:Array.from({length:5}).map((ne,ye)=>e.jsxs("div",{className:"flex-shrink-0 w-64 bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"})]})]},ye))}):e.jsx("div",{ref:ue,className:"flex gap-4 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:ie.map(ne=>e.jsx("div",{className:"flex-shrink-0 w-64",children:e.jsx(_x,{product:ne})},ne.id))})]})]})}),e.jsx("div",{className:"lg:w-1/3",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 sticky top-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx(ir,{className:"w-6 h-6 mr-2 text-primary"}),"Order Summary"]}),a.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ir,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500",children:"Your cart is empty"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"max-h-64 overflow-y-auto mb-4 space-y-3",children:a.map(ne=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsx("img",{src:ne.image,alt:ne.name,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-gray-800 font-semibold truncate",children:ne.name}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Qty: ",ne.quantity]})]}),e.jsxs("p",{className:"text-gray-800 font-bold",children:["",(ne.price*ne.quantity).toFixed(2)]})]},ne.id))}),e.jsxs("div",{className:"border-t-2 border-gray-100 pt-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"font-semibold",children:["",r.toFixed(2)]})]}),os>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount (10%)"}),e.jsxs("span",{className:"font-semibold",children:["-",os.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Tip"}),e.jsxs("span",{className:"font-semibold",children:["",b.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-800 pt-3 border-t-2 border-gray-100",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-primary",children:["",On.toFixed(2)]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(ce,{to:"/cart",className:"block w-full text-center py-3 px-4 border-2 border-primary text-primary rounded-xl hover:bg-primary hover:text-white transition-all duration-300 font-semibold",children:" Back to Cart"})}),e.jsx("div",{className:"mt-6 space-y-2",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ts,{className:"w-4 h-4 mr-2 text-green-600"}),e.jsx("span",{children:"Secure checkout"})]})})]})]})})]})]})})},mN=()=>{const r=Ht().state,n=r?.order,i=r?.orderNumber||n?.order_number,l=r?.orderId||n?.id,c=(u,h)=>u.id?u.id:[u.product_id,u.sku||"",u.name,u.price.toString(),h.toString()].filter(Boolean).join("-");return e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Thank You for Your Order!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your order has been placed successfully. We've sent a confirmation email with your order details."}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md mb-6",children:[e.jsxs("p",{className:"text-gray-500 mb-1",children:["Order ",i?"Number":"ID"]}),e.jsx("p",{className:"text-lg font-semibold",children:i||l?.substring(0,8)||"N/A"})]})]}),n&&e.jsxs("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Order Summary"}),n.items&&n.items.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"font-medium text-gray-700 mb-2",children:["Items (",n.items.length,")"]}),e.jsx("div",{className:"space-y-2",children:n.items.map((u,h)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[u.name," x ",u.quantity]}),e.jsx("span",{className:"text-gray-800 font-medium",children:Ke(u.price*u.quantity)})]},c(u,h)))})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[n.subtotal&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsx("span",{className:"text-gray-800",children:Ke(n.subtotal)})]}),n.delivery_fee!==void 0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),e.jsx("span",{className:"text-gray-800",children:n.delivery_fee===0?"FREE":Ke(n.delivery_fee)})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200 font-semibold",children:[e.jsx("span",{className:"text-gray-800",children:"Total"}),e.jsx("span",{className:"text-gray-800",children:Ke(n.order_total)})]})]}),n.shipping_address&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Shipping Address"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[n.shipping_address.address,", ",n.shipping_address.city,", ",n.shipping_address.state," - ",n.shipping_address.pincode]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",n.payment_method]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.jsx("span",{className:"font-medium",children:"Status:"})," ",n.order_status.charAt(0).toUpperCase()+n.order_status.slice(1)]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-8",children:"You will receive an SMS notification when your order is out for delivery."}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 justify-center",children:[e.jsx(ce,{to:"/orders",className:"bg-primary text-white hover:bg-opacity-90 px-6 py-3 rounded-md font-medium transition-colors",children:"View My Orders"}),e.jsx(ce,{to:"/shop",className:"border border-primary text-primary hover:bg-primary hover:text-white px-6 py-3 rounded-md font-medium transition-colors",children:"Continue Shopping"}),e.jsx(ce,{to:"/",className:"text-gray-600 hover:text-gray-800 px-6 py-3 rounded-md font-medium transition-colors",children:"Back to Home"})]})]})]})})},fN=({isOpen:a,onClose:r})=>{const[n,i]=v.useState(1),[l,c]=v.useState(""),[u,h]=v.useState(""),[f,p]=v.useState(""),[g,y]=v.useState(0),[j,b]=v.useState(!1),{loginWithPhone:_,verifyOTPCode:k}=ns(),{showNotification:C}=fr(),A=v.useRef(null);v.useEffect(()=>{a&&(i(1),c(""),h(""),p(""),y(0),b(!1))},[a]),v.useEffect(()=>{const P=$=>{A.current&&!A.current.contains($.target)&&r()};return a&&(document.addEventListener("mousedown",P),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",P),document.body.style.overflow="auto"}},[a,r]),v.useEffect(()=>{const P=$=>{$.key==="Escape"&&a&&r()};return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[a,r]),v.useEffect(()=>{let P;return g>0&&(P=setInterval(()=>{y($=>$-1)},1e3)),()=>{P&&clearInterval(P)}},[g]);const N=async P=>{if(P.preventDefault(),!l){C("Please enter your phone number","error");return}if(!/^[6-9]\d{9}$/.test(l)){C("Please enter a valid 10-digit phone number","error");return}try{b(!0),await _("+91"+l),i(2),y(30),C("OTP sent to your phone","success")}catch(D){console.error("Error sending OTP:",D),C("Failed to send OTP. Please try again.","error")}finally{b(!1)}},S=async P=>{if(P.preventDefault(),!f){C("Please enter the OTP","error");return}if(f.length!==6){C("OTP must be 6 digits","error");return}try{b(!0),await k("+91"+l,f),C("Login successful!","success"),r()}catch($){console.error("Error verifying OTP:",$),C("Invalid OTP. Please try again.","error")}finally{b(!1)}},F=async()=>{if(!(g>0))try{b(!0),await _("+91"+l),y(30),C("OTP resent to your phone","success")}catch(P){console.error("Error resending OTP:",P),C("Failed to resend OTP. Please try again.","error")}finally{b(!1)}};return a?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:e.jsxs("div",{ref:A,className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 overflow-hidden",children:[e.jsxs("div",{className:"bg-primary text-white p-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold",children:n===1?"Login / Register":"Verify OTP"}),e.jsx("button",{onClick:r,className:"text-white hover:text-gray-200 focus:outline-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6",children:n===1?e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"inline-flex items-center px-3 bg-gray-100 text-gray-500 border border-r-0 border-gray-300 rounded-l-md",children:"+91"}),e.jsx("input",{type:"tel",id:"phone",value:l,onChange:P=>c(P.target.value),placeholder:"Enter your 10-digit number",className:"flex-1 block w-full border border-gray-300 rounded-r-md focus:ring-primary focus:border-primary px-3 py-2",maxLength:10,required:!0})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"We'll send you a one-time password (OTP)"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name (Optional)"}),e.jsx("input",{type:"text",id:"name",value:u,onChange:P=>h(P.target.value),placeholder:"Enter your name",className:"block w-full border border-gray-300 rounded-md focus:ring-primary focus:border-primary px-3 py-2"})]}),e.jsx("button",{type:"submit",disabled:j,className:`w-full bg-primary hover:bg-secondary text-white py-3 rounded-md transition-colors ${j?"opacity-70 cursor-not-allowed":""}`,children:j?"Sending OTP...":"Continue"}),e.jsxs("p",{className:"text-center text-sm text-gray-500 mt-4",children:["By continuing, you agree to our"," ",e.jsx("a",{href:"/terms",className:"text-primary hover:underline",children:"Terms of Service"})," and"," ",e.jsx("a",{href:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"})]})]}):e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-gray-600",children:"Enter the 6-digit code sent to"}),e.jsxs("p",{className:"font-medium text-gray-800",children:["+91 ",l]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700 mb-1",children:"One-Time Password (OTP)"}),e.jsx("input",{type:"text",id:"otp",value:f,onChange:P=>p(P.target.value.replace(/\D/g,"")),placeholder:"Enter 6-digit OTP",className:"block w-full border border-gray-300 rounded-md focus:ring-primary focus:border-primary px-3 py-2 text-center text-lg tracking-widest",maxLength:6,required:!0})]}),e.jsx("button",{type:"submit",disabled:j,className:`w-full bg-primary hover:bg-secondary text-white py-3 rounded-md transition-colors ${j?"opacity-70 cursor-not-allowed":""}`,children:j?"Verifying...":"Verify & Login"}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("button",{type:"button",onClick:()=>i(1),className:"text-sm text-gray-600 hover:text-gray-800",children:"Change Phone Number"}),e.jsx("button",{type:"button",onClick:F,disabled:g>0||j,className:`text-sm ${g>0||j?"text-gray-400 cursor-not-allowed":"text-primary hover:text-secondary"}`,children:g>0?`Resend OTP in ${g}s`:"Resend OTP"})]})]})})]})}):null},xN=()=>{const[a,r]=v.useState(!0),{isAuthenticated:n}=ns(),i=St();return v.useEffect(()=>{n&&i("/")},[n,i]),e.jsxs("div",{className:"container mx-auto px-4 py-16",children:[e.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Login / Register"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please login or register to continue shopping with Near & Now."}),e.jsx("button",{onClick:()=>r(!0),className:"w-full bg-primary hover:bg-secondary text-white py-3 rounded-md transition-colors mb-4",children:"Login with Phone Number"}),e.jsx("div",{className:"text-center",children:e.jsx(ce,{to:"/",className:"text-primary hover:text-secondary",children:"Back to Home"})})]}),e.jsx(fN,{isOpen:a,onClose:()=>r(!1)})]})},pN=()=>{const[a,r]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(""),{showNotification:u}=fr(),h=Ht();v.useEffect(()=>{const g=new URLSearchParams(h.search).get("q")||"";c(g),(async()=>{try{if(i(!0),g.trim()){const j=await Xf(g);r(j)}else r([])}catch(j){console.error("Error searching products:",j),u("Failed to load search results. Please try again.","error")}finally{i(!1)}})()},[h.search,u]);const f=p=>{p.preventDefault(),l.trim()&&(window.history.pushState({},"",`/search?q=${encodeURIComponent(l)}`),window.dispatchEvent(new PopStateEvent("popstate")))};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:l?`Search Results for "${l}"`:"Search Products"}),e.jsx("form",{onSubmit:f,className:"mb-8 max-w-2xl",children:e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),placeholder:"Search for products...",className:"flex-grow px-4 py-3 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-primary"}),e.jsx("button",{type:"submit",className:"bg-primary hover:bg-secondary text-white px-6 py-3 rounded-r-md transition-colors",children:"Search"})]})}),l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 text-gray-600",children:n?e.jsx("p",{children:"Searching..."}):e.jsxs("p",{children:["Found ",a.length," results"]})}),e.jsx(Ba,{products:a,loading:n}),!n&&a.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No results found"}),e.jsxs("p",{className:"text-gray-600 max-w-md mx-auto",children:[`We couldn't find any products matching "`,l,'". Try using different keywords or check for typos.']})]})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600",children:"Enter a search term to find products"})})]})},gN=()=>{const{user:a,isAuthenticated:r,isLoading:n,updateUserProfile:i,logoutUser:l}=ns(),{showNotification:c}=fr(),u=St(),[h,f]=v.useState({name:"",email:"",phone:""}),[p,g]=v.useState(!1);v.useEffect(()=>{!n&&!r&&u("/login")},[r,n,u]),v.useEffect(()=>{a&&f({name:a.name||"",email:a.email||"",phone:a.phone||""})},[a]);const y=_=>{const{name:k,value:C}=_.target;f(A=>({...A,[k]:C}))},j=async _=>{_.preventDefault();try{g(!0),await i({name:h.name}),c("Profile updated successfully","success")}catch(k){console.error("Error updating profile:",k),c("Failed to update profile. Please try again.","error")}finally{g(!1)}},b=async()=>{try{await l(),u("/"),c("Logged out successfully","success")}catch(_){console.error("Error logging out:",_),c("Failed to log out. Please try again.","error")}};return n?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-lg mx-auto bg-white p-8 rounded-lg shadow-md",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-6"}),e.jsx("div",{className:"h-12 bg-gray-200 rounded w-full mb-4"}),e.jsx("div",{className:"h-12 bg-gray-200 rounded w-full mb-4"}),e.jsx("div",{className:"h-12 bg-gray-200 rounded w-full mb-6"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-1/3"})]})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-lg mx-auto bg-white p-8 rounded-lg shadow-md",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"My Profile"}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:h.phone,disabled:!0,className:"w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-50 text-gray-500 cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Phone number cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address (Optional)"}),e.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between space-y-3 sm:space-y-0 pt-4",children:[e.jsx("button",{type:"submit",disabled:p,className:`bg-primary hover:bg-secondary text-white py-2 px-6 rounded-md transition-colors ${p?"opacity-70 cursor-not-allowed":""}`,children:p?"Saving...":"Save Changes"}),e.jsx("button",{type:"button",onClick:b,className:"text-red-600 hover:text-red-800 py-2 px-6",children:"Logout"})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Account Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>u("/orders"),className:"flex items-center text-gray-700 hover:text-primary",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"My Orders"]}),e.jsxs("button",{onClick:()=>u("/addresses"),className:"flex items-center text-gray-700 hover:text-primary",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Saved Addresses"]})]})]})]})})},yN=({status:a})=>{let r="",n="";switch(a){case"Delivered":r="bg-green-100",n="text-green-800";break;case"Processing":r="bg-blue-100",n="text-blue-800";break;case"Shipped":r="bg-purple-100",n="text-purple-800";break;case"Cancelled":r="bg-red-100",n="text-red-800";break;default:r="bg-gray-100",n="text-gray-800"}return e.jsx("span",{className:`${r} ${n} text-xs font-medium px-2.5 py-0.5 rounded-full`,children:a})},vN=()=>{const{isAuthenticated:a,isLoading:r,user:n}=ns(),i=St(),[l,c]=v.useState([]),[u,h]=v.useState(!0),[f,p]=v.useState(null),[g,y]=v.useState(null);v.useEffect(()=>{!r&&!a&&i("/login")},[a,r,i]),v.useEffect(()=>{const k=async()=>{if(!a||!n?.id){h(!1);return}try{h(!0),y(null);const C=await K1(n.id,n.phone,n.email);c(C)}catch(C){console.error("Error fetching orders:",C),y("Failed to load orders. Please try again.")}finally{h(!1)}};a&&n?.id&&k()},[a,n?.id,n?.phone,n?.email]);const j=k=>{p(f===k?null:k)},b=k=>new Date(k).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=k=>({placed:"Placed",confirmed:"Confirmed",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"})[k]||k;return r||u?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"My Orders"}),e.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(k=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-full"})]},k))})]})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"My Orders"}),g&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:g}),l.length===0&&!u?e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Orders Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't placed any orders yet. Start shopping to place your first order!"}),e.jsx(ce,{to:"/shop",className:"bg-primary hover:bg-secondary text-white px-6 py-3 rounded-md font-medium transition-colors",children:"Browse Products"})]}):e.jsx("div",{className:"space-y-4",children:l.map(k=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Order ",k.order_number?"Number":"ID"]}),e.jsx("p",{className:"font-medium",children:k.order_number||k.id.substring(0,8)})]}),e.jsx("div",{className:"mt-2 sm:mt-0",children:e.jsx(yN,{status:_(k.order_status)})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mt-3 gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Order Date"}),e.jsx("p",{children:b(k.created_at)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"}),e.jsx("p",{className:"font-medium",children:Ke(k.order_total)})]}),e.jsx("div",{className:"mt-2 sm:mt-0",children:e.jsxs(ce,{to:`/track/${k.id}`,className:"inline-flex items-center gap-2 bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary transition-colors text-sm font-medium",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Track"]})})]})]}),e.jsxs("button",{onClick:()=>j(k.id),className:"w-full px-4 py-2 text-left text-primary hover:bg-gray-50 flex items-center justify-between",children:[e.jsx("span",{children:f===k.id?"Hide Details":"View Details"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${f===k.id?"transform rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f===k.id&&e.jsxs("div",{className:"p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Order Items"}),k.items&&k.items.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"divide-y divide-gray-200",children:k.items.map((C,A)=>e.jsxs("div",{className:"py-3 flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-800",children:C.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",C.quantity]})]}),e.jsx("p",{className:"text-gray-800",children:Ke(C.price*C.quantity)})]},C.id||A))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-2",children:[k.subtotal&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsx("span",{className:"text-gray-800",children:Ke(k.subtotal)})]}),k.delivery_fee!==void 0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),e.jsx("span",{className:"text-gray-800",children:k.delivery_fee===0?"FREE":Ke(k.delivery_fee)})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[e.jsx("p",{className:"font-medium",children:"Total"}),e.jsx("p",{className:"font-medium",children:Ke(k.order_total)})]})]})]}):e.jsx("p",{className:"text-gray-500",children:"No items found for this order."}),k.shipping_address&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Shipping Address"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[k.shipping_address.address,", ",k.shipping_address.city,", ",k.shipping_address.state," - ",k.shipping_address.pincode]})]}),e.jsxs("div",{className:"mt-6 flex justify-between sm:justify-end gap-3",children:[e.jsx(ce,{to:`/track/${k.id}`,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary transition-colors text-sm font-medium",children:"Track Order"}),e.jsx("button",{className:"text-primary hover:text-secondary text-sm font-medium",children:"Download Invoice"})]})]})]},k.id))}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(ce,{to:"/profile",className:"text-primary hover:text-secondary",children:"Back to Profile"})})]})})},bN=()=>{const{isAuthenticated:a,isLoading:r,user:n}=ns(),{showNotification:i}=fr(),l=St(),[c,u]=v.useState([]),[h,f]=v.useState(!0),[p,g]=v.useState(!1),[y,j]=v.useState(null),[b,_]=v.useState({name:"",addressLine1:"",addressLine2:"",city:"",state:"",pincode:"",phone:"",isDefault:!1});v.useEffect(()=>{!r&&!a&&l("/login")},[a,r,l]),v.useEffect(()=>{const S=async()=>{if(!n?.id){f(!1);return}try{f(!0);const P=(await kr(n.id)).map($=>({id:$.id,name:$.name,addressLine1:$.address_line_1,addressLine2:$.address_line_2,city:$.city,state:$.state,pincode:$.pincode,phone:$.phone,isDefault:$.is_default}));u(P)}catch(F){console.error("Error fetching addresses:",F),i("Failed to load addresses","error")}finally{f(!1)}};n?.id&&S()},[n?.id,i]),v.useEffect(()=>{y?(_({name:y.name,addressLine1:y.addressLine1,addressLine2:y.addressLine2||"",city:y.city,state:y.state,pincode:y.pincode,phone:y.phone,isDefault:y.isDefault}),g(!0)):p||_({name:"",addressLine1:"",addressLine2:"",city:"",state:"",pincode:"",phone:"",isDefault:!1})},[y,p]);const k=S=>{const{name:F,value:P,type:$}=S.target,D=$==="checkbox"?S.target.checked:void 0;_(I=>({...I,[F]:$==="checkbox"?D:P}))},C=async S=>{if(S.preventDefault(),!b.name||!b.addressLine1||!b.city||!b.state||!b.pincode||!b.phone){i("Please fill all required fields","error");return}if(!/^[6-9]\d{9}$/.test(b.phone)){i("Please enter a valid 10-digit phone number","error");return}if(!/^\d{6}$/.test(b.pincode)){i("Please enter a valid 6-digit pincode","error");return}if(!n?.id){i("User not authenticated","error");return}try{if(y){const $={name:b.name,address_line_1:b.addressLine1,address_line_2:b.addressLine2||void 0,city:b.city,state:b.state,pincode:b.pincode,phone:b.phone,is_default:b.isDefault};await ex(y.id,n.id,$);const I=(await kr(n.id)).map(H=>({id:H.id,name:H.name,addressLine1:H.address_line_1,addressLine2:H.address_line_2,city:H.city,state:H.state,pincode:H.pincode,phone:H.phone,isDefault:H.is_default}));u(I),i("Address updated successfully","success")}else{const $={user_id:n.id,name:b.name,address_line_1:b.addressLine1,address_line_2:b.addressLine2||void 0,city:b.city,state:b.state,pincode:b.pincode,phone:b.phone,is_default:b.isDefault};await Zf($);const I=(await kr(n.id)).map(H=>({id:H.id,name:H.name,addressLine1:H.address_line_1,addressLine2:H.address_line_2,city:H.city,state:H.state,pincode:H.pincode,phone:H.phone,isDefault:H.is_default}));u(I),i("Address added successfully","success")}j(null),g(!1)}catch($){console.error("Error saving address:",$),i("Failed to save address. Please try again.","error")}},A=async S=>{if(c.find(P=>P.id===S)?.isDefault){i("Cannot delete default address","error");return}if(!n?.id){i("User not authenticated","error");return}try{await tx(S,n.id);const $=(await kr(n.id)).map(D=>({id:D.id,name:D.name,addressLine1:D.address_line_1,addressLine2:D.address_line_2,city:D.city,state:D.state,pincode:D.pincode,phone:D.phone,isDefault:D.is_default}));u($),i("Address deleted successfully","success")}catch(P){console.error("Error deleting address:",P),i("Failed to delete address. Please try again.","error")}},N=async S=>{if(!n?.id){i("User not authenticated","error");return}try{await J1(S,n.id);const P=(await kr(n.id)).map($=>({id:$.id,name:$.name,addressLine1:$.address_line_1,addressLine2:$.address_line_2,city:$.city,state:$.state,pincode:$.pincode,phone:$.phone,isDefault:$.is_default}));u(P),i("Default address updated","success")}catch(F){console.error("Error setting default address:",F),i("Failed to set default address. Please try again.","error")}};return r||h?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"My Addresses"}),e.jsx("div",{className:"animate-pulse space-y-4",children:[1,2].map(S=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-4"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})]})]},S))})]})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Addresses"}),!p&&e.jsx("button",{onClick:()=>g(!0),className:"bg-primary hover:bg-secondary text-white px-4 py-2 rounded-md transition-colors",children:"Add New Address"})]}),p&&e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:y?"Edit Address":"Add New Address"}),e.jsxs("form",{onSubmit:C,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Name*"}),e.jsx("input",{type:"text",id:"name",name:"name",value:b.name,onChange:k,placeholder:"e.g. Home, Office",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number*"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:b.phone,onChange:k,placeholder:"10-digit mobile number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0,maxLength:10})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"addressLine1",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1*"}),e.jsx("textarea",{id:"addressLine1",name:"addressLine1",value:b.addressLine1,onChange:k,placeholder:"House/Flat No., Building Name, Street",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0,rows:2})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"addressLine2",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),e.jsx("textarea",{id:"addressLine2",name:"addressLine2",value:b.addressLine2,onChange:k,placeholder:"Landmark, Area (Optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City*"}),e.jsx("input",{type:"text",id:"city",name:"city",value:b.city,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State*"}),e.jsxs("select",{id:"state",name:"state",value:b.state,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[e.jsx("option",{value:"",children:"Select State"}),e.jsx("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),e.jsx("option",{value:"Arunachal Pradesh",children:"Arunachal Pradesh"}),e.jsx("option",{value:"Assam",children:"Assam"}),e.jsx("option",{value:"Bihar",children:"Bihar"}),e.jsx("option",{value:"Chhattisgarh",children:"Chhattisgarh"}),e.jsx("option",{value:"Goa",children:"Goa"}),e.jsx("option",{value:"Gujarat",children:"Gujarat"}),e.jsx("option",{value:"Haryana",children:"Haryana"}),e.jsx("option",{value:"Himachal Pradesh",children:"Himachal Pradesh"}),e.jsx("option",{value:"Jharkhand",children:"Jharkhand"}),e.jsx("option",{value:"Karnataka",children:"Karnataka"}),e.jsx("option",{value:"Kerala",children:"Kerala"}),e.jsx("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),e.jsx("option",{value:"Maharashtra",children:"Maharashtra"}),e.jsx("option",{value:"Manipur",children:"Manipur"}),e.jsx("option",{value:"Meghalaya",children:"Meghalaya"}),e.jsx("option",{value:"Mizoram",children:"Mizoram"}),e.jsx("option",{value:"Nagaland",children:"Nagaland"}),e.jsx("option",{value:"Odisha",children:"Odisha"}),e.jsx("option",{value:"Punjab",children:"Punjab"}),e.jsx("option",{value:"Rajasthan",children:"Rajasthan"}),e.jsx("option",{value:"Sikkim",children:"Sikkim"}),e.jsx("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),e.jsx("option",{value:"Telangana",children:"Telangana"}),e.jsx("option",{value:"Tripura",children:"Tripura"}),e.jsx("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),e.jsx("option",{value:"Uttarakhand",children:"Uttarakhand"}),e.jsx("option",{value:"West Bengal",children:"West Bengal"}),e.jsxs("optgroup",{label:"Union Territories",children:[e.jsx("option",{value:"Andaman and Nicobar Islands",children:"Andaman and Nicobar Islands"}),e.jsx("option",{value:"Chandigarh",children:"Chandigarh"}),e.jsx("option",{value:"Dadra and Nagar Haveli and Daman and Diu",children:"Dadra and Nagar Haveli and Daman and Diu"}),e.jsx("option",{value:"Delhi",children:"Delhi"}),e.jsx("option",{value:"Jammu and Kashmir",children:"Jammu and Kashmir"}),e.jsx("option",{value:"Ladakh",children:"Ladakh"}),e.jsx("option",{value:"Lakshadweep",children:"Lakshadweep"}),e.jsx("option",{value:"Puducherry",children:"Puducherry"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pincode",className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN Code*"}),e.jsx("input",{type:"text",id:"pincode",name:"pincode",value:b.pincode,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0,maxLength:6})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:b.isDefault,onChange:k,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isDefault",className:"ml-2 block text-sm text-gray-700",children:"Set as default address"})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{g(!1),j(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary hover:bg-secondary text-white rounded-md transition-colors",children:y?"Update Address":"Save Address"})]})]})]}),c.length===0?e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Addresses Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't added any delivery addresses yet."}),e.jsx("button",{onClick:()=>g(!0),className:"bg-primary hover:bg-secondary text-white px-6 py-3 rounded-md font-medium transition-colors",children:"Add New Address"})]}):e.jsx("div",{className:"space-y-4",children:c.map(S=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:S.name}),S.isDefault&&e.jsx("span",{className:"ml-2 bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Default"})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:S.addressLine1}),S.addressLine2&&e.jsx("p",{className:"text-gray-600",children:S.addressLine2}),e.jsxs("p",{className:"text-gray-600",children:[S.city,", ",S.state," - ",S.pincode]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Phone: ",S.phone]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>j(S),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),!S.isDefault&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>A(S.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]})]}),!S.isDefault&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>N(S.id),className:"text-primary hover:text-secondary text-sm",children:"Set as Default"})})]},S.id))}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:()=>l("/profile"),className:"text-primary hover:text-secondary",children:"Back to Profile"})})]})})},wN=()=>{const{cartItems:a,cartTotal:r,updateCartQuantity:n,removeFromCart:i,clearCart:l}=as(),[c,u]=v.useState(""),[h,f]=v.useState(!1),[p,g]=v.useState(0),y=St(),j=r>500?0:40,b=r+j-p,_=(N,S)=>{S<1||n(N,S)},k=N=>{i(N)},C=()=>{if(c.toUpperCase()==="WELCOME20"){const N=Math.min(r*.2,200);g(N),f(!0)}else c.toUpperCase()==="FLAT100"?(g(100),f(!0)):(g(0),f(!1),alert("Invalid coupon code"))},A=()=>{u(""),g(0),f(!1)};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Your Shopping Cart"}),a.length===0?e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Looks like you haven't added any products to your cart yet."}),e.jsx(ce,{to:"/shop",className:"bg-primary hover:bg-secondary text-white px-6 py-3 rounded-md font-medium transition-colors",children:"Start Shopping"})]}):e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-2/3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-4 mb-4 font-medium text-gray-600",children:[e.jsx("div",{className:"w-2/5",children:"Product"}),e.jsx("div",{className:"w-1/5 text-center",children:"Price"}),e.jsx("div",{className:"w-1/5 text-center",children:"Quantity"}),e.jsx("div",{className:"w-1/5 text-right",children:"Total"})]}),a.map(N=>e.jsxs("div",{className:"flex items-center py-4 border-b border-gray-200 last:border-b-0",children:[e.jsxs("div",{className:"w-2/5 flex items-center",children:[e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-gray-100 rounded-md overflow-hidden",children:e.jsx("img",{src:N.image||"https://via.placeholder.com/64x64?text=No+Image",alt:N.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-800",children:N.name}),N.size&&e.jsx("p",{className:"text-xs text-gray-500",children:N.size}),e.jsx("button",{onClick:()=>k(N.id),className:"text-xs text-red-500 hover:text-red-700 mt-1",children:"Remove"})]})]}),e.jsx("div",{className:"w-1/5 text-center",children:e.jsx("span",{className:"text-gray-800",children:Ke(N.price)})}),e.jsx("div",{className:"w-1/5 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("button",{onClick:()=>_(N.id,N.quantity-1),className:"w-8 h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100 rounded-l-md border border-gray-300",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("div",{className:"w-10 h-8 flex items-center justify-center border-t border-b border-gray-300 text-gray-800 text-sm",children:N.quantity}),e.jsx("button",{onClick:()=>_(N.id,N.quantity+1),className:"w-8 h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100 rounded-r-md border border-gray-300",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})}),e.jsx("div",{className:"w-1/5 text-right",children:e.jsx("span",{className:"text-gray-800 font-medium",children:Ke(N.price*N.quantity)})})]},`${N.id}-${N.isLoose?"loose":"regular"}`))]}),e.jsxs("div",{className:"bg-gray-50 p-6 flex justify-between items-center",children:[e.jsx("button",{onClick:()=>l(),className:"text-gray-600 hover:text-gray-800",children:"Clear Cart"}),e.jsxs(ce,{to:"/shop",className:"text-primary hover:text-secondary flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Continue Shopping"]})]})]})}),e.jsxs("div",{className:"lg:w-1/3",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:Ke(r)})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsx("span",{children:j===0?"Free":Ke(j)})]}),p>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-",Ke(p)]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[e.jsxs("div",{className:"flex justify-between font-bold text-gray-800",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:Ke(b)})]}),j===0&&e.jsx("p",{className:"text-green-600 text-xs mt-1",children:"Free delivery on orders above 500"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Apply Coupon"}),h?e.jsxs("div",{className:"bg-green-50 p-3 rounded-md flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-800 font-medium",children:c.toUpperCase()}),e.jsx("p",{className:"text-green-600 text-xs",children:"Coupon applied successfully!"})]}),e.jsx("button",{onClick:A,className:"text-gray-500 hover:text-gray-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value),placeholder:"Enter coupon code",className:"flex-grow px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-primary"}),e.jsx("button",{onClick:C,className:"bg-primary hover:bg-secondary text-white px-4 py-2 rounded-r-md transition-colors",children:"Apply"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Try WELCOME20 for 20% off (up to 200)"})]}),e.jsx("button",{onClick:()=>y("/checkout"),className:"w-full bg-primary hover:bg-secondary text-white py-3 rounded-md font-medium transition-colors",children:"Proceed to Checkout"})]}),e.jsxs("div",{className:"mt-4 bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"We Accept"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"w-12 h-8 bg-gray-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium",children:"UPI"})}),e.jsx("div",{className:"w-12 h-8 bg-gray-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium",children:"VISA"})}),e.jsx("div",{className:"w-12 h-8 bg-gray-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium",children:"MC"})}),e.jsx("div",{className:"w-12 h-8 bg-gray-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium",children:"COD"})})]})]})]})]})]})},jN=()=>e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg overflow-hidden mb-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-16 md:py-20",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"About Near & Now"}),e.jsx("p",{className:"text-lg md:text-xl opacity-90",children:"Digital Dukan, Local Dil Se - Bringing your neighborhood grocery store online."})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto mb-16",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Our Story"}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"md:w-1/3",children:e.jsx("img",{src:"/about-story.jpg",alt:"Near & Now Story",className:"rounded-lg w-full h-auto",onError:a=>{const r=a.target;r.src="https://via.placeholder.com/400x300?text=Our+Story"}})}),e.jsxs("div",{className:"md:w-2/3",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Near & Now was founded in 2023 with a simple mission: to make grocery shopping convenient, affordable, and sustainable for everyone. We started as a small team passionate about connecting local vendors with customers in their neighborhood."}),e.jsx("p",{className:"text-gray-600 mb-4",children:"What began as a small operation in Bangalore has now expanded to multiple cities across India. We work directly with farmers, local manufacturers, and neighborhood stores to bring you the freshest products at the best prices."}),e.jsx("p",{className:"text-gray-600",children:"Our focus has always been on quality, convenience, and supporting local businesses. We believe that shopping for groceries shouldn't be a chore, but a delightful experience that connects you with the best products from your community."})]})]})})]}),e.jsxs("div",{className:"max-w-4xl mx-auto mb-16",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Our Mission & Values"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("div",{className:"w-12 h-12 bg-primary bg-opacity-10 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Quality First"}),e.jsx("p",{className:"text-gray-600",children:"We never compromise on quality. Every product on our platform undergoes strict quality checks before reaching your doorstep."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("div",{className:"w-12 h-12 bg-primary bg-opacity-10 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Community Support"}),e.jsx("p",{className:"text-gray-600",children:"We believe in supporting local businesses and farmers. By shopping with us, you're helping sustain your local economy."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("div",{className:"w-12 h-12 bg-primary bg-opacity-10 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Sustainability"}),e.jsx("p",{className:"text-gray-600",children:"We're committed to reducing our environmental impact through eco-friendly packaging and optimized delivery routes."})]})]})]}),e.jsxs("div",{className:"max-w-4xl mx-auto mb-16",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Our Team"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 md:p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mx-auto mb-4",children:e.jsx("img",{src:"/team-1.jpg",alt:"Team Member",className:"w-full h-full object-cover",onError:a=>{const r=a.target;r.src="https://via.placeholder.com/128x128?text=Team"}})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Rahul Sharma"}),e.jsx("p",{className:"text-gray-600",children:"Founder & CEO"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mx-auto mb-4",children:e.jsx("img",{src:"/team-2.jpg",alt:"Team Member",className:"w-full h-full object-cover",onError:a=>{const r=a.target;r.src="https://via.placeholder.com/128x128?text=Team"}})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Priya Patel"}),e.jsx("p",{className:"text-gray-600",children:"COO"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mx-auto mb-4",children:e.jsx("img",{src:"/team-3.jpg",alt:"Team Member",className:"w-full h-full object-cover",onError:a=>{const r=a.target;r.src="https://via.placeholder.com/128x128?text=Team"}})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Arjun Nair"}),e.jsx("p",{className:"text-gray-600",children:"CTO"})]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-gray-600",children:"Our team consists of passionate individuals dedicated to revolutionizing the grocery shopping experience in India."})})]})]}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Get In Touch"}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 md:p-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary mr-3 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-800 font-medium",children:"Address"}),e.jsx("p",{className:"text-gray-600",children:"123 Main Street, Indiranagar"}),e.jsx("p",{className:"text-gray-600",children:"Bangalore, Karnataka 560038"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary mr-3 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-800 font-medium",children:"Email"}),e.jsx("p",{className:"text-gray-600",children:"support@nearnow.com"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary mr-3 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-800 font-medium",children:"Phone"}),e.jsx("p",{className:"text-gray-600",children:"+91 98765 43210"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Follow Us"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary transition",children:e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})}),e.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary transition",children:e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),e.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary transition",children:e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Send Us a Message"}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),e.jsx("input",{type:"text",id:"name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),e.jsx("textarea",{id:"message",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsx("button",{type:"submit",className:"bg-primary hover:bg-secondary text-white px-6 py-2 rounded-md transition-colors",children:"Send Message"})]})]})]})})]}),e.jsxs("div",{className:"max-w-4xl mx-auto mt-16 text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:"Ready to Shop with Near & Now?"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Experience the convenience of online grocery shopping with the quality and freshness of your local market."}),e.jsx(ce,{to:"/shop",className:"inline-block bg-primary hover:bg-secondary text-white px-8 py-3 rounded-md font-medium transition-colors",children:"Shop Now"})]})]}),NN=()=>e.jsxs("div",{style:{padding:"40px",fontFamily:"Arial, sans-serif",maxWidth:"800px",margin:"0 auto"},children:[e.jsx("h1",{style:{color:"#16a34a"},children:" React App is Working!"}),e.jsx("p",{children:"If you can see this page, your React application is successfully deployed and running."}),e.jsxs("div",{style:{background:"#f0fdf4",border:"1px solid #16a34a",borderRadius:"8px",padding:"20px",marginTop:"20px"},children:[e.jsx("h2",{children:"Deployment Status: SUCCESS"}),e.jsxs("ul",{children:[e.jsx("li",{children:" HTML loaded"}),e.jsx("li",{children:" JavaScript bundle loaded"}),e.jsx("li",{children:" React mounted"}),e.jsx("li",{children:" React Router working"})]})]}),e.jsx("div",{style:{marginTop:"30px"},children:e.jsx("a",{href:"/",style:{display:"inline-block",padding:"12px 24px",background:"#16a34a",color:"white",textDecoration:"none",borderRadius:"6px",fontWeight:"bold"},children:"Go to Home Page "})})]}),_N=()=>(v.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary text-white py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white bg-opacity-20 rounded-full mb-6",children:e.jsx(Do,{className:"w-10 h-10"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Terms of Service"}),e.jsx("p",{className:"text-lg text-white text-opacity-90",children:"Please read these terms carefully before using our services"}),e.jsxs("p",{className:"text-sm text-white text-opacity-75 mt-4",children:["Last Updated: ","October 26, 2025"]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("section",{className:"mb-12",children:e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-6 rounded-r-lg",children:e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Welcome to ",e.jsx("span",{className:"font-semibold text-primary",children:"Near & Now"}),"! These Terms of Service govern your use of our website and services. By accessing or using our platform, you agree to be bound by these terms. If you disagree with any part of these terms, please do not use our services."]})})}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Account Terms"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"1"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Account Creation"}),e.jsx("p",{className:"text-gray-600",children:"You must be at least 18 years old to create an account. You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"2"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Account Security"}),e.jsx("p",{className:"text-gray-600",children:"You must immediately notify us of any unauthorized use of your account or any other breach of security. We will not be liable for any loss or damage arising from your failure to protect your account information."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"3"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Accurate Information"}),e.jsx("p",{className:"text-gray-600",children:"You agree to provide accurate, current, and complete information during registration and to update such information to keep it accurate, current, and complete."})]})]})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Co,{className:"w-6 h-6 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Orders and Payments"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ka,{className:"w-6 h-6 text-primary mr-3"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Payment Terms"})]}),e.jsxs("ul",{className:"space-y-3 text-gray-600",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"All prices are listed in Indian Rupees () and include applicable taxes unless otherwise stated"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Payment must be received before order processing and shipment"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"We accept major credit cards, debit cards, UPI, and other payment methods"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Payment information is processed securely through third-party payment gateways"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Order Processing"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:" Order Confirmation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"You will receive an email confirmation once your order is placed"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:" Order Acceptance"}),e.jsx("p",{className:"text-sm text-gray-600",children:"We reserve the right to refuse or cancel any order"})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:" Price Changes"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Prices are subject to change without prior notice"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:" Product Availability"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Items are subject to availability and may be substituted"})]})]})]})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(So,{className:"w-6 h-6 text-red-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Prohibited Activities"})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 mb-4 font-medium",children:"You agree NOT to:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 font-bold mr-3",children:""}),e.jsx("span",{className:"text-gray-700",children:"Violate any laws or regulations in your jurisdiction"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 font-bold mr-3",children:""}),e.jsx("span",{className:"text-gray-700",children:"Attempt to gain unauthorized access to our systems or other users' accounts"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 font-bold mr-3",children:""}),e.jsx("span",{className:"text-gray-700",children:"Transmit any viruses, malware, or harmful code"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 font-bold mr-3",children:""}),e.jsx("span",{className:"text-gray-700",children:"Harass, abuse, or harm other users or our staff"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 font-bold mr-3",children:""}),e.jsx("span",{className:"text-gray-700",children:"Use automated systems (bots, scrapers) without authorization"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 font-bold mr-3",children:""}),e.jsx("span",{className:"text-gray-700",children:"Resell or commercially exploit our products or services"})]})]})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(_0,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Intellectual Property"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"All content on this website, including but not limited to text, graphics, logos, images, and software, is the property of Near & Now or its content suppliers and is protected by intellectual property laws."}),e.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-500 p-4 rounded-r",children:e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{className:"text-purple-700",children:"Important:"})," You may not reproduce, distribute, modify, or create derivative works of any content without our express written permission."]})})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-6 h-6 text-orange-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Limitation of Liability"})]}),e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{className:"text-orange-800",children:"Disclaimer:"}),' Our services are provided "as is" without warranties of any kind, either express or implied.']}),e.jsx("p",{children:"Near & Now shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of or inability to use the service."}),e.jsx("p",{children:"We are not responsible for delays or failures in delivery due to circumstances beyond our control, including but not limited to natural disasters, strikes, or government restrictions."})]})})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center mr-4",children:e.jsx(So,{className:"w-6 h-6 text-gray-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Termination"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We reserve the right to terminate or suspend your account and access to our services at our sole discretion, without notice, for conduct that we believe:"}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Violates these Terms of Service"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Is harmful to other users, us, or third parties"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Violates any law or regulation"})]})]})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(_0,{className:"w-6 h-6 text-indigo-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Governing Law"})]}),e.jsx("div",{className:"bg-indigo-50 border-l-4 border-indigo-500 p-6 rounded-r-lg",children:e.jsx("p",{className:"text-gray-700",children:"These Terms of Service shall be governed by and construed in accordance with the laws of India. Any disputes arising from these terms shall be subject to the exclusive jurisdiction of the courts in New Delhi, India."})})]}),e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-r-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Changes to These Terms"}),e.jsx("p",{className:"text-gray-700",children:'We reserve the right to modify these Terms of Service at any time. We will notify you of any material changes by posting the new terms on this page and updating the "Last Updated" date. Your continued use of the service after such changes constitutes acceptance of the new terms.'})]})}),e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Questions About Our Terms?"}),e.jsx("p",{className:"mb-6",children:"If you have any questions about these Terms of Service, please contact us:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-2",children:"Email"}),e.jsx("a",{href:"mailto:legal@nearnow.com",className:"hover:underline text-white text-opacity-90",children:"legal@nearnow.com"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-2",children:"Phone"}),e.jsx("a",{href:"tel:+919876543210",className:"hover:underline text-white text-opacity-90",children:"+91 98765 43210"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-2",children:"Address"}),e.jsxs("p",{className:"text-sm text-white text-opacity-90",children:["123 Main Street",e.jsx("br",{}),"New Delhi, India"]})]})]})]})}),e.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-6 rounded-r-lg",children:e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{className:"text-green-700",children:"By using Near & Now,"})," you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."]})})]})})]})),kN=()=>(v.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary text-white py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white bg-opacity-20 rounded-full mb-6",children:e.jsx(mr,{className:"w-10 h-10"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Shipping Policy"}),e.jsx("p",{className:"text-lg text-white text-opacity-90",children:"Fast, reliable delivery right to your doorstep"}),e.jsxs("p",{className:"text-sm text-white text-opacity-75 mt-4",children:["Last Updated: ","October 26, 2025"]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("section",{className:"mb-12",children:e.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-6 rounded-r-lg",children:e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["At ",e.jsx("span",{className:"font-semibold text-primary",children:"Near & Now"}),", we are committed to delivering your groceries fresh and fast. This shipping policy outlines our delivery process, timelines, and areas we serve."]})})}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Cr,{className:"w-6 h-6 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Delivery Areas"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We currently deliver to the following areas:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(kt,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("h3",{className:"font-semibold text-gray-800",children:"Metropolitan Cities"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Delhi NCR, Mumbai, Bangalore, Chennai, Kolkata, Hyderabad, Pune"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(kt,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("h3",{className:"font-semibold text-gray-800",children:"Tier 2 Cities"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Jaipur, Ahmedabad, Lucknow, Chandigarh, Kochi, and 50+ more cities"})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded-r",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Note:"})," Enter your pincode during checkout to confirm delivery availability in your area."]})})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(nr,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Delivery Timeframes"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white rounded-lg p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-white bg-opacity-20 rounded-full mb-4 mx-auto",children:e.jsx(mr,{className:"w-8 h-8"})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"Express Delivery"}),e.jsx("p",{className:"text-center text-3xl font-bold mb-2",children:"2 Hours"}),e.jsx("p",{className:"text-center text-sm text-white text-opacity-90",children:"For orders placed before 8 PM"}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white border-opacity-20",children:e.jsx("p",{className:"text-xs text-center",children:"Available in select areas"})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-lg p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-white bg-opacity-20 rounded-full mb-4 mx-auto",children:e.jsx(qt,{className:"w-8 h-8"})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"Standard Delivery"}),e.jsx("p",{className:"text-center text-3xl font-bold mb-2",children:"Same Day"}),e.jsx("p",{className:"text-center text-sm text-white text-opacity-90",children:"Delivered within 6-8 hours"}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white border-opacity-20",children:e.jsx("p",{className:"text-xs text-center",children:"Most popular option"})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-lg p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-white bg-opacity-20 rounded-full mb-4 mx-auto",children:e.jsx(nr,{className:"w-8 h-8"})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"Scheduled Delivery"}),e.jsx("p",{className:"text-center text-3xl font-bold mb-2",children:"Next Day"}),e.jsx("p",{className:"text-center text-sm text-white text-opacity-90",children:"Choose your preferred time slot"}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white border-opacity-20",children:e.jsx("p",{className:"text-xs text-center",children:"Plan ahead and save"})})]})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(oj,{className:"w-6 h-6 text-orange-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Shipping Charges"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Order Value"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Delivery Type"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Shipping Fee"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-gray-800",children:"Above 999"}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:"All Types"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"FREE"})})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-gray-800",children:"500 - 999"}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:"Standard / Scheduled"}),e.jsx("td",{className:"px-6 py-4 text-gray-800 font-medium",children:"40"})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-gray-800",children:"500 - 999"}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:"Express (2 Hours)"}),e.jsx("td",{className:"px-6 py-4 text-gray-800 font-medium",children:"80"})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-gray-800",children:"Below 500"}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:"Standard / Scheduled"}),e.jsx("td",{className:"px-6 py-4 text-gray-800 font-medium",children:"60"})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-gray-800",children:"Below 500"}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:"Express (2 Hours)"}),e.jsx("td",{className:"px-6 py-4 text-gray-800 font-medium",children:"100"})]})]})]})})}),e.jsxs("div",{className:"mt-4 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-2xl font-bold mb-2",children:" Special Offer!"}),e.jsx("p",{className:"text-lg",children:"Get FREE delivery on all orders above 999"})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(qt,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Order Tracking"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"Track your order in real-time with our easy tracking system:"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold",children:"1"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Order Confirmation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"You'll receive a confirmation email with your order details and tracking number"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold",children:"2"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Order Processing"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Our team carefully picks and packs your items"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold",children:"3"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Out for Delivery"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your order is on its way! Track your delivery partner's location"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold",children:"4"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Delivered"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enjoy your fresh groceries!"})]})]})]})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(kt,{className:"w-6 h-6 text-red-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Delivery Guidelines"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100 space-y-4",children:[e.jsxs("div",{className:"flex items-start p-4 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-blue-600 mr-3 text-lg",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Package Handling"}),e.jsx("p",{className:"text-sm text-gray-600",children:"All items are carefully packaged to ensure freshness and prevent damage"})]})]}),e.jsxs("div",{className:"flex items-start p-4 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-green-600 mr-3 text-lg",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Temperature Control"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Perishable items are delivered in insulated bags with ice packs"})]})]}),e.jsxs("div",{className:"flex items-start p-4 bg-yellow-50 rounded-lg",children:[e.jsx("span",{className:"text-yellow-600 mr-3 text-lg",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Quality Check"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please check your items upon delivery. Report any issues immediately"})]})]}),e.jsxs("div",{className:"flex items-start p-4 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"text-purple-600 mr-3 text-lg",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Contactless Delivery"}),e.jsx("p",{className:"text-sm text-gray-600",children:"We offer contactless delivery for your safety and convenience"})]})]})]})]}),e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-6 rounded-r-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Important Information"}),e.jsxs("ul",{className:"space-y-2 text-gray-700 text-sm",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:""}),e.jsx("span",{children:"Delivery times are estimates and may vary due to traffic, weather, or high demand"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:""}),e.jsx("span",{children:"Please ensure someone is available to receive the delivery"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:""}),e.jsx("span",{children:"We may contact you if we need additional delivery instructions"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:""}),e.jsx("span",{children:"Perishable items cannot be left unattended"})]})]})]})}),e.jsx("section",{children:e.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Need Help with Your Delivery?"}),e.jsx("p",{className:"mb-6",children:"Our customer support team is here to assist you"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm mb-1 text-white text-opacity-75",children:"Email"}),e.jsx("a",{href:"mailto:delivery@nearnow.com",className:"font-semibold hover:underline",children:"delivery@nearnow.com"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm mb-1 text-white text-opacity-75",children:"Phone"}),e.jsx("a",{href:"tel:+919876543210",className:"font-semibold hover:underline",children:"+91 98765 43210"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm mb-1 text-white text-opacity-75",children:"Hours"}),e.jsx("p",{className:"font-semibold",children:"24/7 Support"})]})]})]})})]})})]})),SN=()=>(v.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary text-white py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white bg-opacity-20 rounded-full mb-6",children:e.jsx(ts,{className:"w-10 h-10"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Privacy Policy"}),e.jsx("p",{className:"text-lg text-white text-opacity-90",children:"How we collect, use, and protect your personal information"}),e.jsxs("p",{className:"text-sm text-white text-opacity-75 mt-4",children:["Last Updated: ","October 26, 2025"]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("section",{className:"mb-12",children:e.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-500 p-6 rounded-r-lg",children:e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["At ",e.jsx("span",{className:"font-semibold text-primary",children:"Near & Now"}),", we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our services. Please read this policy carefully. If you do not agree with the terms of this privacy policy, please do not access the site."]})})}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Do,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Information We Collect"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Personal Information"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"We may collect personal information that you voluntarily provide to us when you:"}),e.jsxs("ul",{className:"space-y-2 text-gray-600 pl-6 list-disc",children:[e.jsx("li",{children:"Register on our website"}),e.jsx("li",{children:"Place an order"}),e.jsx("li",{children:"Subscribe to our newsletter"}),e.jsx("li",{children:"Participate in contests or surveys"}),e.jsx("li",{children:"Contact our customer service"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Information Automatically Collected"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"When you access our website, we may automatically collect:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"Device Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Browser type, operating system, device type, and mobile device identifiers"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"Usage Data"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pages visited, time spent, click-through paths, and interaction with features"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"Location Data"}),e.jsx("p",{className:"text-sm text-gray-600",children:"IP address and approximate location based on IP"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"Cookies & Similar Technologies"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Information collected through cookies, web beacons, and similar tracking technologies"})]})]})]})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(is,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"How We Use Your Information"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"1"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Provide and Improve Services"}),e.jsx("p",{className:"text-gray-600",children:"To process orders, deliver products, provide customer support, and enhance your shopping experience."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"2"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Personalization"}),e.jsx("p",{className:"text-gray-600",children:"To personalize your shopping experience, recommend products, and provide tailored content."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"3"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Communication"}),e.jsx("p",{className:"text-gray-600",children:"To send transactional emails, order updates, promotional offers, and newsletters (if you've opted in)."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"4"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Security and Fraud Prevention"}),e.jsx("p",{className:"text-gray-600",children:"To protect our website, verify accounts, and prevent fraudulent transactions."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Analytics and Improvement"}),e.jsx("p",{className:"text-gray-600",children:"To analyze usage patterns, conduct research, and improve our website and services."})]})]})]})})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Eo,{className:"w-6 h-6 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Information Sharing"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"We may share your information with the following third parties:"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Service Providers"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Payment processors, delivery partners, customer service providers, and marketing services that help us operate our business."})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Business Partners"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Trusted third parties who assist us in offering products, services, or joint marketing campaigns."})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Legal Requirements"}),e.jsx("p",{className:"text-sm text-gray-600",children:"When required by law, court order, or governmental regulation, or to protect our rights, property, or safety."})]})]}),e.jsx("div",{className:"mt-6 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r",children:e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Important:"})," We do not sell your personal information to third parties for their marketing purposes without your explicit consent."]})})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Ps,{className:"w-6 h-6 text-red-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Data Security"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"We implement appropriate technical and organizational measures to protect your personal information:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start p-4 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-red-500 mr-3 text-lg",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Encryption"}),e.jsx("p",{className:"text-sm text-gray-600",children:"All sensitive data is encrypted during transmission"})]})]}),e.jsxs("div",{className:"flex items-start p-4 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-red-500 mr-3 text-lg",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Secure Networks"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Protected infrastructure and regular security audits"})]})]}),e.jsxs("div",{className:"flex items-start p-4 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-red-500 mr-3 text-lg",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Access Controls"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Limited employee access to personal information"})]})]}),e.jsxs("div",{className:"flex items-start p-4 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-red-500 mr-3 text-lg",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Regular Monitoring"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Continuous monitoring for unauthorized access"})]})]})]}),e.jsx("div",{className:"mt-6 bg-red-50 border-l-4 border-red-400 p-4 rounded-r",children:e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Note:"})," While we strive to use commercially acceptable means to protect your personal information, no method of transmission over the Internet or electronic storage is 100% secure. We cannot guarantee absolute security."]})})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Eo,{className:"w-6 h-6 text-orange-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Your Rights"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"You have certain rights regarding your personal information:"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Access:"})," You can request access to your personal information."]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Correction:"})," You can request correction of inaccurate information."]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Deletion:"})," You can request deletion of your personal information."]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Opt-out:"})," You can opt-out of marketing communications."]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Data Portability:"})," You can request a copy of your data in a structured format."]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-gray-700",children:["To exercise any of these rights, please contact us at ",e.jsx("a",{href:"mailto:privacy@nearnow.com",className:"text-primary hover:underline",children:"privacy@nearnow.com"}),". We will respond to your request within 30 days."]})})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-6 h-6 text-indigo-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Cookies Policy"})]}),e.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-500 p-6 rounded-r-lg",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"We use cookies and similar tracking technologies to track activity on our website and hold certain information. Cookies are files with a small amount of data that may include an anonymous unique identifier."}),e.jsx("p",{className:"text-gray-700",children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our website."})]})]}),e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-r-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Changes to This Privacy Policy"}),e.jsx("p",{className:"text-gray-700",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. You are advised to review this Privacy Policy periodically for any changes.'})]})}),e.jsx("section",{children:e.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Contact Us"}),e.jsx("p",{className:"mb-6",children:"If you have any questions about this Privacy Policy, please contact us:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-2",children:"Email"}),e.jsx("a",{href:"mailto:privacy@nearnow.com",className:"hover:underline text-white text-opacity-90",children:"privacy@nearnow.com"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-2",children:"Phone"}),e.jsx("a",{href:"tel:+919876543210",className:"hover:underline text-white text-opacity-90",children:"+91 98765 43210"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-2",children:"Address"}),e.jsxs("p",{className:"text-sm text-white text-opacity-90",children:["123 Main Street",e.jsx("br",{}),"New Delhi, India"]})]})]})]})})]})})]})),CN=()=>(v.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary text-white py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white bg-opacity-20 rounded-full mb-6",children:e.jsx(co,{className:"w-10 h-10"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Refund Policy"}),e.jsx("p",{className:"text-lg text-white text-opacity-90",children:"Our commitment to customer satisfaction"}),e.jsxs("p",{className:"text-sm text-white text-opacity-75 mt-4",children:["Last Updated: ","October 26, 2025"]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("section",{className:"mb-12",children:e.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-6 rounded-r-lg",children:e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["At ",e.jsx("span",{className:"font-semibold text-primary",children:"Near & Now"}),", we strive to ensure your complete satisfaction with every purchase. This refund policy outlines our procedures for returns, exchanges, and refunds to ensure a smooth shopping experience."]})})}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(kt,{className:"w-6 h-6 text-orange-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Refund Eligibility"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"You may be eligible for a return and refund if:"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1",children:e.jsx(kt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Damaged or Defective Products"}),e.jsx("p",{className:"text-gray-600",children:"Products that arrive damaged, spoiled, or defective are eligible for an immediate refund or replacement."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1",children:e.jsx(kt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Incorrect Items"}),e.jsx("p",{className:"text-gray-600",children:"If you receive items that don't match your order, we'll arrange for a return and correct replacement."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1",children:e.jsx(kt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Missing Items"}),e.jsx("p",{className:"text-gray-600",children:"If items are missing from your order, we'll either deliver the missing items or provide a refund."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1",children:e.jsx(kt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Quality Issues"}),e.jsx("p",{className:"text-gray-600",children:"Products that don't meet our quality standards are eligible for return and refund."})]})]})]}),e.jsx("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"w-5 h-5 text-yellow-600 mr-3 flex-shrink-0"}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Important:"})," All return requests must be made within 24 hours of delivery for perishable items and within 7 days for non-perishable items."]})]})})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-6 h-6 text-red-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Non-Returnable Items"})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 mb-4 font-medium",children:"The following items cannot be returned:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 font-bold mr-3",children:""}),e.jsx("span",{className:"text-gray-700",children:"Products that have been opened, partially consumed, or used (except in case of defects)"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 font-bold mr-3",children:""}),e.jsx("span",{className:"text-gray-700",children:"Perishable goods like fresh fruits, vegetables, and dairy products after 24 hours of delivery"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 font-bold mr-3",children:""}),e.jsx("span",{className:"text-gray-700",children:"Items with broken seals, unless they arrived damaged"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 font-bold mr-3",children:""}),e.jsx("span",{className:"text-gray-700",children:"Personal hygiene products"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 font-bold mr-3",children:""}),e.jsx("span",{className:"text-gray-700",children:"Gift cards or promotional vouchers"})]})]})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(co,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Refund Process"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"Here's how our refund process works:"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold",children:"1"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Submit a Request"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Contact our customer service team through the app, website, or phone to report the issue"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold",children:"2"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Verification"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Our team will verify your claim, which may include requesting photos of the damaged/defective items"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold",children:"3"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Return Pickup (if applicable)"}),e.jsx("p",{className:"text-sm text-gray-600",children:"For eligible items, we'll arrange a pickup at no additional cost"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold",children:"4"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Refund Processing"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Once approved, refunds will be processed to your original payment method"})]})]})]})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(nr,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Refund Timeline"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-lg p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-white bg-opacity-20 rounded-full mb-4 mx-auto",children:e.jsx(nr,{className:"w-8 h-8"})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"Processing Time"}),e.jsx("p",{className:"text-center text-3xl font-bold mb-2",children:"24-48 Hours"}),e.jsx("p",{className:"text-center text-sm text-white text-opacity-90",children:"For refund approval"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-lg p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-white bg-opacity-20 rounded-full mb-4 mx-auto",children:e.jsx(Md,{className:"w-8 h-8"})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"Credit/Debit Cards"}),e.jsx("p",{className:"text-center text-3xl font-bold mb-2",children:"3-5 Days"}),e.jsx("p",{className:"text-center text-sm text-white text-opacity-90",children:"To reflect in your account"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white rounded-lg p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-white bg-opacity-20 rounded-full mb-4 mx-auto",children:e.jsx(co,{className:"w-8 h-8"})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"UPI/Wallet"}),e.jsx("p",{className:"text-center text-3xl font-bold mb-2",children:"24 Hours"}),e.jsx("p",{className:"text-center text-sm text-white text-opacity-90",children:"For digital payment methods"})]})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(co,{className:"w-6 h-6 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Exchanges"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100 space-y-4",children:[e.jsxs("div",{className:"flex items-start p-4 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-green-600 mr-3 text-lg",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Same-Item Exchange"}),e.jsx("p",{className:"text-sm text-gray-600",children:"If you received a damaged or defective item, we can replace it with the same product"})]})]}),e.jsxs("div",{className:"flex items-start p-4 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-green-600 mr-3 text-lg",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Different-Item Exchange"}),e.jsx("p",{className:"text-sm text-gray-600",children:"You can exchange for a different product of equal or higher value (paying the difference)"})]})]}),e.jsxs("div",{className:"flex items-start p-4 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-green-600 mr-3 text-lg",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Exchange Timeline"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Exchanges are typically processed within 24 hours of approval"})]})]})]})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-6 h-6 text-yellow-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Order Cancellation"})]}),e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-r-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Cancellation Policy"}),e.jsxs("ul",{className:"space-y-2 text-gray-700 text-sm",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:""}),e.jsx("span",{children:"Orders can be cancelled within 30 minutes of placing them"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:""}),e.jsx("span",{children:'Once an order is marked "Processing" or "Out for Delivery," it cannot be cancelled'})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:""}),e.jsx("span",{children:"Refunds for cancelled orders will be processed within 24 hours"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:""}),e.jsx("span",{children:"Frequent cancellations may affect your account status"})]})]})]})]}),e.jsx("section",{children:e.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Need Help with Returns or Refunds?"}),e.jsx("p",{className:"mb-6",children:"Our customer support team is here to assist you"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm mb-1 text-white text-opacity-75",children:"Email"}),e.jsx("a",{href:"mailto:refunds@nearnow.com",className:"font-semibold hover:underline",children:"refunds@nearnow.com"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm mb-1 text-white text-opacity-75",children:"Phone"}),e.jsx("a",{href:"tel:+919876543210",className:"font-semibold hover:underline",children:"+91 98765 43210"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm mb-1 text-white text-opacity-75",children:"Hours"}),e.jsx("p",{className:"font-semibold",children:"24/7 Support"})]})]})]})})]})})]})),yt=({children:a})=>{const[r,n]=v.useState(!0),[i,l]=v.useState(!1),[c,u]=v.useState(!1),h=Ht(),f=()=>{n(!r)},p=()=>{l(!i)},g=()=>{u(!c)},y=j=>h.pathname===j||h.pathname.startsWith(`${j}/`);return e.jsxs("div",{className:"flex h-screen bg-gray-100",children:[e.jsxs("div",{className:`bg-white fixed inset-y-0 left-0 z-50 transform transition-all duration-300 ease-in-out shadow-lg
        ${r?"translate-x-0 w-64":"-translate-x-full md:translate-x-0 md:w-20"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200 flex items-center justify-center",children:r?e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"/Logo.png",alt:"Near & Now",className:"h-10 w-10"}),e.jsx("h1",{className:"ml-3 text-xl font-bold text-primary",children:"Admin Panel"})]}):e.jsx("img",{src:"/Logo.png",alt:"Near & Now",className:"h-10 w-10"})}),e.jsxs("nav",{className:"mt-6 px-4",children:[e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsxs(ce,{to:"/admin",className:`flex items-center p-3 rounded-lg transition-colors ${y("/admin")&&!y("/admin/products")&&!y("/admin/orders")&&!y("/admin/customers")?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(mj,{className:"h-5 w-5 mr-3"}),r&&e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs(ce,{to:"/admin/products",className:`flex items-center p-3 rounded-lg transition-colors ${y("/admin/products")?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(ir,{className:"h-5 w-5 mr-3"}),r&&e.jsx("span",{children:"Products"})]})}),e.jsx("li",{children:e.jsxs(ce,{to:"/admin/categories",className:`flex items-center p-3 rounded-lg transition-colors ${y("/admin/categories")?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(jn,{className:"h-5 w-5 mr-3"}),r&&e.jsx("span",{children:"Categories"})]})}),e.jsx("li",{children:e.jsxs(ce,{to:"/admin/orders",className:`flex items-center p-3 rounded-lg transition-colors ${y("/admin/orders")?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(Mw,{className:"h-5 w-5 mr-3"}),r&&e.jsx("span",{children:"Orders"})]})}),e.jsx("li",{children:e.jsxs(ce,{to:"/admin/customers",className:`flex items-center p-3 rounded-lg transition-colors ${y("/admin/customers")?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(Os,{className:"h-5 w-5 mr-3"}),r&&e.jsx("span",{children:"Customers"})]})}),e.jsx("li",{children:e.jsxs(ce,{to:"/admin/delivery",className:`flex items-center p-3 rounded-lg transition-colors ${y("/admin/delivery")?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(mr,{className:"h-5 w-5 mr-3"}),r&&e.jsx("span",{children:"Delivery"})]})}),e.jsx("li",{children:e.jsxs(ce,{to:"/admin/offers",className:`flex items-center p-3 rounded-lg transition-colors ${y("/admin/offers")?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(r2,{className:"h-5 w-5 mr-3"}),r&&e.jsx("span",{children:"Offers"})]})}),e.jsx("li",{children:e.jsxs(ce,{to:"/admin/reports",className:`flex items-center p-3 rounded-lg transition-colors ${y("/admin/reports")?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx($o,{className:"h-5 w-5 mr-3"}),r&&e.jsx("span",{children:"Reports"})]})}),e.jsx("li",{children:e.jsxs(ce,{to:"/admin/admins",className:`flex items-center p-3 rounded-lg transition-colors ${y("/admin/admins")?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(ts,{className:"h-5 w-5 mr-3"}),r&&e.jsx("span",{children:"Admin Management"})]})}),e.jsx("li",{children:e.jsxs(ce,{to:"/admin/settings",className:`flex items-center p-3 rounded-lg transition-colors ${y("/admin/settings")?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(Hj,{className:"h-5 w-5 mr-3"}),r&&e.jsx("span",{children:"Settings"})]})})]}),e.jsx("div",{className:"mt-10 pt-6 border-t border-gray-200",children:e.jsxs(ce,{to:"/admin/login",className:"flex items-center p-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(lx,{className:"h-5 w-5 mr-3"}),r&&e.jsx("span",{children:"Logout"})]})})]})]}),e.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${r?"md:ml-64":"md:ml-20"}`,children:[e.jsx("header",{className:"bg-white shadow-sm z-10",children:e.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:f,className:"p-2 rounded-md text-gray-600 hover:bg-gray-100 focus:outline-none",children:e.jsx(cx,{className:"h-6 w-6"})}),e.jsx("div",{className:"ml-4 hidden md:block",children:e.jsxs("div",{className:"relative",children:[e.jsx(ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent w-64"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:g,className:"p-2 rounded-full text-gray-600 hover:bg-gray-100 focus:outline-none relative",children:[e.jsx(Nw,{className:"h-6 w-6"}),e.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"})]}),c&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg py-2 z-50 border border-gray-200",children:[e.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Notifications"})}),e.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:"New order received"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Order #12345 has been placed"})]}),e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Low stock alert"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Product "Organic Apples" is running low'})]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:p,className:"flex items-center space-x-2 focus:outline-none",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center",children:e.jsx(As,{className:"h-5 w-5"})}),e.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:"Admin User"}),e.jsx(Oa,{className:"hidden md:block h-4 w-4 text-gray-500"})]}),i&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50 border border-gray-200",children:[e.jsx(ce,{to:"/admin/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile"}),e.jsx(ce,{to:"/admin/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Settings"}),e.jsx(ce,{to:"/admin/help",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Help"}),e.jsx("div",{className:"border-t border-gray-200 mt-1 pt-1",children:e.jsx(ce,{to:"/admin/login",className:"block px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Logout"})})]})]})]})]})}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:a})]})]})},va=({icon:a,gradient:r,label:n,value:i,change:l,changeType:c="positive",href:u})=>{const h=e.jsxs("div",{className:`relative overflow-hidden rounded-2xl ${r} p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 ${u?"cursor-pointer":""}`,children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-20 h-20 bg-white/10 rounded-full blur-xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:e.jsx(a,{className:"w-6 h-6"})}),l&&e.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium px-2 py-1 rounded-full backdrop-blur-sm ${c==="positive"?"bg-white/20":"bg-red-400/30"}`,children:[c==="positive"?e.jsx(_a,{size:14}):e.jsx(ko,{size:14}),l]})]}),e.jsx("p",{className:"text-white/80 text-sm font-medium",children:n}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:i})]})]});return u?e.jsx(ce,{to:u,children:h}):h},ho=({icon:a,label:r,value:n,gradient:i,iconBg:l})=>e.jsx("div",{className:`${i} p-5 rounded-2xl transition-all duration-200 hover:shadow-md`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium opacity-80",children:r}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:n})]}),e.jsx("div",{className:`w-12 h-12 ${l} rounded-xl flex items-center justify-center`,children:e.jsx(a,{className:"w-6 h-6"})})]})}),EN=({message:a,onDismiss:r})=>e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white px-5 py-4 rounded-xl mb-6 flex items-center shadow-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-5 h-5"})}),e.jsx("span",{className:"flex-1 font-medium",children:a}),e.jsx("button",{onClick:r,className:"ml-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Ie,{size:18})})]}),PN=()=>e.jsxs("div",{className:"flex flex-col justify-center items-center h-64",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-emerald-200 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-emerald-500 rounded-full animate-spin border-t-transparent"})]}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading dashboard..."})]}),AN=({data:a})=>{const r=a.reduce((b,_)=>b+_.sales,0),n=a.reduce((b,_)=>b+_.orders,0),i=a.length>0?Math.round(r/a.length):0,l=Math.max(...a.map(b=>b.sales),0),u=(b=>b===0?5e3:b<=1e3?1e3:b<=2e3?2e3:b<=3e3?3e3:b<=4e3?4e3:b<=5e3?5e3:b<=1e4?1e4:b<=2e4?2e4:b<=5e4?5e4:Math.ceil(b/1e4)*1e4)(l),h=[u,Math.round(u*.75),Math.round(u*.5),Math.round(u*.25),0],f=a.slice(0,Math.floor(a.length/2)),p=a.slice(Math.floor(a.length/2)),g=f.reduce((b,_)=>b+_.sales,0),y=p.reduce((b,_)=>b+_.sales,0),j=g>0?(y-g)/g*100:0;return e.jsxs("div",{className:"overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-4 border border-emerald-100",children:[e.jsx("p",{className:"text-xs text-emerald-600 font-semibold uppercase tracking-wide",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-emerald-700 mt-1",children:["",r.toLocaleString()]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-100",children:[e.jsx("p",{className:"text-xs text-blue-600 font-semibold uppercase tracking-wide",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:n})]}),e.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl p-4 border border-violet-100",children:[e.jsx("p",{className:"text-xs text-violet-600 font-semibold uppercase tracking-wide",children:"Avg. Daily Sales"}),e.jsxs("p",{className:"text-2xl font-bold text-violet-700 mt-1",children:["",i.toLocaleString()]})]}),e.jsxs("div",{className:`bg-gradient-to-br ${j>=0?"from-green-50 to-emerald-50 border-green-100":"from-red-50 to-rose-50 border-red-100"} rounded-xl p-4 border`,children:[e.jsx("p",{className:`text-xs ${j>=0?"text-green-600":"text-red-600"} font-semibold uppercase tracking-wide`,children:"Growth"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[j>=0?e.jsx(Ta,{className:"w-5 h-5 text-green-600"}):e.jsx(ko,{className:"w-5 h-5 text-red-600"}),e.jsxs("p",{className:`text-2xl font-bold ${j>=0?"text-green-700":"text-red-700"}`,children:[j>=0?"+":"",j.toFixed(1),"%"]})]})]})]}),a.length>0?e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-16 flex flex-col justify-between text-xs text-gray-500 font-medium pr-2 h-52 flex-shrink-0",children:h.map((b,_)=>e.jsxs("span",{children:["",b.toLocaleString()]},_))}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsx("div",{className:"h-52 border-l-2 border-b-2 border-gray-300 flex items-end px-1",children:a.map((b,_)=>{const C=u>0?b.sales/u*200:0;return e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end group min-w-0 px-0.5 h-full",children:[b.sales>0&&e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity mb-1 bg-black text-white text-xs px-2 py-1 rounded shadow-lg whitespace-nowrap z-10",children:["",b.sales.toLocaleString()," (",b.orders," orders)"]}),b.sales>0?e.jsx("div",{className:"w-full max-w-[30px] bg-gray-900 hover:bg-gray-700 cursor-pointer transition-colors rounded-t mx-auto",style:{height:`${Math.max(C,4)}px`}}):e.jsx("div",{className:"w-full h-0"})]},_)})}),e.jsx("div",{className:"flex mt-2 px-1",children:a.map((b,_)=>e.jsx("div",{className:"flex-1 text-center min-w-0 px-0.5",children:e.jsx("span",{className:"text-[10px] text-gray-500 font-medium truncate block",children:b.date})},_))})]})]})}):e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-2",children:e.jsx($o,{className:"w-12 h-12 mx-auto"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No order data available"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Orders will appear here once placed"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-8 mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-900 rounded"}),e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Daily Revenue"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full ${j>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[j>=0?e.jsx(Ta,{size:12}):e.jsx(ko,{size:12}),e.jsxs("span",{className:"text-xs font-semibold",children:[j>=0?"Upward":"Downward"," Trend"]})]})})]})]})},ON=()=>{const[a,r]=v.useState(!0),[n,i]=v.useState(null),[l,c]=v.useState({totalProducts:0,totalOrders:0,totalCustomers:0,totalSales:0,processingOrders:0,shippedOrders:0,deliveredOrders:0,cancelledOrders:0}),[u,h]=v.useState([]),[f,p]=v.useState([]),[g,y]=v.useState([]),[j,b]=v.useState("7"),[_,k]=v.useState(0),C=async()=>{try{r(!0),i(null);const P=await iN();c(P);const $=await Vd();y($),h($.slice(0,5));const[D,I]=await Promise.all([Hd(),Pn()]);k(I.length);const H=D.sort(()=>.5-Math.random()).slice(0,5).map(K=>({name:K.name,image:K.image,sold:Math.floor(Math.random()*200)+50,revenue:K.price*(Math.floor(Math.random()*200)+50),stock:Math.floor(Math.random()*100)+20}));p(H)}catch(P){i("Failed to load dashboard data. Please try again."),console.error("Error fetching dashboard data:",P)}finally{r(!1)}};v.useEffect(()=>{C()},[]);const A=v.useMemo(()=>{const P=new Date;P.setHours(23,59,59,999);const $=parseInt(j),D={};if(g&&g.length>0){const K=new Date(P);K.setDate(K.getDate()-$),K.setHours(0,0,0,0),g.forEach(W=>{if(W.order_status==="cancelled")return;const B=new Date(W.created_at);if(B>=K&&B<=P){const V=B.toDateString();D[V]||(D[V]={sales:0,orders:0}),D[V].sales+=W.order_total||0,D[V].orders+=1}})}const I=[],H=$<=7?1:$<=30?3:9;for(let K=$-1;K>=0;K-=H){const W=new Date(P);W.setDate(W.getDate()-K),W.setHours(0,0,0,0);const B=W.toDateString(),V=D[B]||{sales:0,orders:0};I.push({date:W.toLocaleDateString("en-IN",{day:"2-digit",month:"short"}),sales:V.sales,orders:V.orders,dateKey:B})}return I},[g,j]),N=P=>{switch(P){case"delivered":return e.jsx(kt,{className:"w-4 h-4"});case"placed":return e.jsx(nr,{className:"w-4 h-4"});case"confirmed":case"shipped":return e.jsx(mr,{className:"w-4 h-4"});case"cancelled":return e.jsx(xd,{className:"w-4 h-4"});default:return e.jsx(nr,{className:"w-4 h-4"})}},S=P=>{switch(P){case"delivered":return"bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700";case"placed":return"bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-700";case"confirmed":return"bg-gradient-to-r from-amber-100 to-orange-100 text-amber-700";case"shipped":return"bg-gradient-to-r from-violet-100 to-purple-100 text-violet-700";case"cancelled":return"bg-gradient-to-r from-red-100 to-rose-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},F=j==="7"?"Last 7 Days":j==="30"?"Last 30 Days":"Last 90 Days";return e.jsx(yt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Welcome back! Here's what's happening with your store."})]}),e.jsxs("button",{onClick:C,className:"inline-flex items-center px-4 py-2.5 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors shadow-sm font-medium",children:[e.jsx(rs,{size:18,className:"mr-2"}),"Refresh"]})]}),n&&e.jsx(EN,{message:n,onDismiss:()=>i(null)}),a?e.jsx(PN,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-5",children:[e.jsx(va,{icon:Md,gradient:"bg-gradient-to-br from-emerald-500 to-teal-600",label:"Total Sales",value:`${l.totalSales.toLocaleString()}`,change:"+12.5%",changeType:"positive"}),e.jsx(va,{icon:qt,gradient:"bg-gradient-to-br from-blue-500 to-indigo-600",label:"Total Products",value:l.totalProducts,change:"+5.7%",changeType:"positive",href:"/admin/products"}),e.jsx(va,{icon:jn,gradient:"bg-gradient-to-br from-violet-500 to-purple-600",label:"Total Categories",value:_,change:"+2.1%",changeType:"positive",href:"/admin/categories"}),e.jsx(va,{icon:ir,gradient:"bg-gradient-to-br from-amber-500 to-orange-600",label:"Total Orders",value:l.totalOrders,change:"+8.2%",changeType:"positive",href:"/admin/orders"}),e.jsx(va,{icon:Os,gradient:"bg-gradient-to-br from-rose-500 to-pink-600",label:"Total Customers",value:l.totalCustomers,change:"+15.3%",changeType:"positive",href:"/admin/customers"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-100 to-teal-100 rounded-xl flex items-center justify-center",children:e.jsx($o,{className:"w-6 h-6 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Sales Overview"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Revenue trends for ",F.toLowerCase()]})]})]}),e.jsx("div",{className:"flex items-center gap-2 bg-gray-100 rounded-xl p-1",children:["7","30","90"].map(P=>e.jsx("button",{onClick:()=>b(P),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${j===P?"bg-white text-emerald-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:P==="7"?"7 Days":P==="30"?"30 Days":"90 Days"},P))})]}),e.jsx(AN,{data:A,period:F})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-5",children:"Order Status Overview"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(ho,{icon:nr,label:"Processing",value:l.processingOrders,gradient:"bg-gradient-to-br from-blue-50 to-indigo-50 text-blue-800",iconBg:"bg-blue-100 text-blue-600"}),e.jsx(ho,{icon:mr,label:"Shipped",value:l.shippedOrders,gradient:"bg-gradient-to-br from-amber-50 to-orange-50 text-amber-800",iconBg:"bg-amber-100 text-amber-600"}),e.jsx(ho,{icon:kt,label:"Delivered",value:l.deliveredOrders,gradient:"bg-gradient-to-br from-emerald-50 to-teal-50 text-emerald-800",iconBg:"bg-emerald-100 text-emerald-600"}),e.jsx(ho,{icon:xd,label:"Cancelled",value:l.cancelledOrders,gradient:"bg-gradient-to-br from-red-50 to-rose-50 text-red-800",iconBg:"bg-red-100 text-red-600"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Recent Orders"}),e.jsxs(ce,{to:"/admin/orders",className:"text-sm text-emerald-600 font-semibold hover:text-emerald-700 flex items-center gap-1",children:["View All ",e.jsx(_a,{size:14})]})]}),u.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(ir,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No orders yet"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:u.map(P=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl flex items-center justify-center",children:e.jsx(qt,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-800",children:["#",P.id.substring(0,8)]}),e.jsx("p",{className:"text-sm text-gray-500",children:P.customer_name})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-gray-800",children:["",P.order_total]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${S(P.order_status)}`,children:[N(P.order_status),P.order_status.charAt(0).toUpperCase()+P.order_status.slice(1)]})]})]},P.id))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Top Selling Products"}),e.jsxs(ce,{to:"/admin/products",className:"text-sm text-emerald-600 font-semibold hover:text-emerald-700 flex items-center gap-1",children:["View All ",e.jsx(_a,{size:14})]})]}),f.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(qt,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No products yet"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:f.map((P,$)=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[P.image?e.jsx("img",{src:P.image,alt:P.name,className:"w-12 h-12 rounded-xl object-cover shadow-sm"}):e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-400 to-purple-500 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:P.name.substring(0,2).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800 line-clamp-1",children:P.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[P.sold," sold"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-gray-800",children:["",P.revenue.toLocaleString()]}),e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium
                            ${P.stock>100?"bg-emerald-100 text-emerald-700":P.stock>50?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[P.stock," in stock"]})]})]},$))})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-purple-600 rounded-2xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"Want more detailed analytics?"}),e.jsx("p",{className:"text-violet-200 mt-1",children:"Check out the Reports section for in-depth insights"})]}),e.jsxs(ce,{to:"/admin/reports",className:"inline-flex items-center px-6 py-3 bg-white text-violet-600 rounded-xl hover:bg-violet-50 transition-colors font-semibold shadow-lg",children:["View Reports",e.jsx(_a,{size:18,className:"ml-2"})]})]})})]})]})})},Kc=10,Ex=a=>a.substring(0,8),Px=a=>`${a.toLocaleString("en-IN")}`,Qc=({icon:a,gradient:r,label:n,value:i,subtitle:l,trend:c})=>e.jsxs("div",{className:`relative overflow-hidden rounded-2xl ${r} p-5 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1`,children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-20 h-20 bg-white/10 rounded-full blur-xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:e.jsx(a,{className:"w-6 h-6"})}),c&&e.jsx("span",{className:"text-xs font-medium bg-white/20 px-2 py-1 rounded-full backdrop-blur-sm",children:c})]}),e.jsx("p",{className:"text-white/80 text-sm font-medium",children:n}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:i}),l&&e.jsx("p",{className:"text-white/60 text-xs mt-1",children:l})]})]}),TN=({message:a,onDismiss:r})=>e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white px-5 py-4 rounded-xl mb-6 flex items-center shadow-lg animate-in slide-in-from-top duration-300",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-5 h-5"})}),e.jsx("span",{className:"flex-1 font-medium",children:a}),e.jsx("button",{onClick:r,className:"ml-4 p-2 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Dismiss",children:e.jsx(Ie,{size:18})})]}),RN=({message:a,onDismiss:r})=>e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-5 py-4 rounded-xl mb-6 flex items-center shadow-lg animate-in slide-in-from-top duration-300",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Pr,{className:"w-5 h-5"})}),e.jsx("span",{className:"flex-1 font-medium",children:a}),e.jsx("button",{onClick:r,className:"ml-4 p-2 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Dismiss",children:e.jsx(Ie,{size:18})})]}),LN=()=>e.jsxs("div",{className:"p-16 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-emerald-200 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-emerald-500 rounded-full animate-spin border-t-transparent"})]}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading products..."})]}),IN=({searchTerm:a,selectedCategory:r})=>e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx(qt,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:a||r!=="All"?"Try adjusting your search or filters to find what you're looking for.":"Get started by adding your first product to the catalog."}),!a&&r==="All"&&e.jsxs(ce,{to:"/admin/products/add",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl hover:from-emerald-600 hover:to-teal-600 transition-all shadow-lg hover:shadow-xl font-semibold",children:[e.jsx(Ar,{size:20,className:"mr-2"}),"Add Your First Product"]})]}),Ax=({imageUrl:a,productName:r,size:n="md"})=>{const i={sm:"w-10 h-10 text-xs",md:"w-14 h-14 text-sm",lg:"w-20 h-20 text-base"},[l,c]=v.useState(!1);return a&&!l?e.jsx("img",{src:a,alt:r,className:`${i[n]} object-cover rounded-xl shadow-md ring-2 ring-white`,loading:"lazy",onError:()=>c(!0)}):e.jsx("div",{className:`${i[n]} bg-gradient-to-br from-violet-400 via-purple-500 to-indigo-500 rounded-xl flex items-center justify-center shadow-md ring-2 ring-white`,children:l?e.jsx(zd,{className:"w-1/2 h-1/2 text-white/80"}):e.jsx("span",{className:"font-bold text-white",children:r.substring(0,2).toUpperCase()})})},mo=({label:a,field:r,currentSort:n,direction:i,onSort:l})=>e.jsx("th",{className:"px-5 py-4 cursor-pointer group hover:bg-gray-100 transition-colors",onClick:()=>l(r),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:a}),e.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:n===r?i==="asc"?e.jsx(yw,{size:14,className:"text-emerald-500"}):e.jsx(hw,{size:14,className:"text-emerald-500"}):e.jsx(xw,{size:14,className:"text-gray-400"})})]})}),$N=({isOpen:a,onClose:r,categories:n,onProductAdded:i})=>{const[l,c]=v.useState({name:"",category:"",price:"",in_stock:!0,description:""}),[u,h]=v.useState(!1),[f,p]=v.useState(null),g=async y=>{if(y.preventDefault(),p(null),!l.name.trim()){p("Product name is required");return}if(!l.category){p("Please select a category");return}if(!l.price||parseFloat(l.price)<=0){p("Please enter a valid price");return}try{h(!0),await kx({name:l.name.trim(),category:l.category,price:parseFloat(l.price),in_stock:l.in_stock,description:l.description.trim()||void 0,image:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),unit:void 0}),c({name:"",category:"",price:"",in_stock:!0,description:""}),i(),r()}catch(j){console.error("Error creating product:",j),p("Failed to create product. Please try again.")}finally{h(!1)}};return a?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-lg w-full overflow-hidden animate-in zoom-in-95 duration-200",onClick:y=>y.stopPropagation(),children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 px-6 py-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(Es,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Quick Add Product"}),e.jsx("p",{className:"text-emerald-100 text-sm",children:"Add a product in seconds"})]})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-white/20 rounded-xl transition-colors text-white",children:e.jsx(Ie,{size:20})})]})}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-5",children:[f&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm flex items-center gap-2",children:[e.jsx(We,{size:16}),f]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Name *"}),e.jsx("input",{type:"text",placeholder:"e.g., Organic Brown Rice 1kg",value:l.name,onChange:y=>c({...l,name:y.target.value}),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-emerald-500 focus:ring-0 transition-colors text-gray-800",disabled:u})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{value:l.category,onChange:y=>c({...l,category:y.target.value}),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-emerald-500 focus:ring-0 transition-colors text-gray-800",disabled:u,children:[e.jsx("option",{value:"",children:"Select..."}),n.map(y=>e.jsx("option",{value:y.name,children:y.name},y.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price () *"}),e.jsx("input",{type:"number",placeholder:"0.00",step:"0.01",min:"0",value:l.price,onChange:y=>c({...l,price:y.target.value}),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-emerald-500 focus:ring-0 transition-colors text-gray-800",disabled:u})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description (Optional)"}),e.jsx("textarea",{placeholder:"Brief product description...",value:l.description,onChange:y=>c({...l,description:y.target.value}),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-emerald-500 focus:ring-0 transition-colors text-gray-800 h-20 resize-none",disabled:u})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:"Stock Status"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Is this product available?"})]}),e.jsx("button",{type:"button",onClick:()=>c({...l,in_stock:!l.in_stock}),className:`relative w-14 h-8 rounded-full transition-colors ${l.in_stock?"bg-emerald-500":"bg-gray-300"}`,disabled:u,children:e.jsx("span",{className:`absolute top-1 w-6 h-6 bg-white rounded-full shadow transition-transform ${l.in_stock?"left-7":"left-1"}`})})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:r,className:"flex-1 px-5 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-semibold",disabled:u,children:"Cancel"}),e.jsx(ce,{to:"/admin/products/add",className:"px-5 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-semibold text-center",children:"Full Form"}),e.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-5 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl hover:from-emerald-600 hover:to-teal-600 transition-all font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx(xt,{size:18,className:"animate-spin"}),"Adding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ar,{size:18}),"Add Product"]})})]})]})]})}):null},DN=({product:a,onDelete:r,onToggleStock:n,deleteLoading:i,toggleLoading:l})=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-gray-50 hover:to-emerald-50/30 transition-all duration-200",children:[e.jsx("td",{className:"px-5 py-4",children:e.jsx("span",{className:"text-xs font-mono text-gray-400 bg-gray-100 px-2 py-1 rounded-lg",children:Ex(a.id)})}),e.jsx("td",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ax,{imageUrl:a.image,productName:a.name}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800 group-hover:text-emerald-600 transition-colors",children:a.name}),a.description&&e.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:a.description})]})]})}),e.jsx("td",{className:"px-5 py-4",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-gradient-to-r from-violet-100 to-purple-100 text-purple-700",children:a.category})}),e.jsx("td",{className:"px-5 py-4",children:e.jsx("span",{className:"text-lg font-bold text-gray-800",children:Px(a.price)})}),e.jsx("td",{className:"px-5 py-4",children:e.jsxs("button",{onClick:()=>n(a.id,a.in_stock),disabled:l===a.id,className:"flex items-center gap-2 group/toggle",children:[l===a.id?e.jsx(xt,{size:24,className:"animate-spin text-gray-400"}):a.in_stock?e.jsx(ux,{size:28,className:"text-emerald-500 group-hover/toggle:text-emerald-600"}):e.jsx(dx,{size:28,className:"text-gray-400 group-hover/toggle:text-gray-500"}),e.jsx("span",{className:`text-sm font-medium ${a.in_stock?"text-emerald-600":"text-gray-500"}`,children:a.in_stock?"In Stock":"Out of Stock"})]})}),e.jsx("td",{className:"px-5 py-4",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold
        ${a.in_stock?"bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700":"bg-gradient-to-r from-red-100 to-rose-100 text-red-700"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${a.in_stock?"bg-emerald-500":"bg-red-500"}`}),a.in_stock?"Active":"Inactive"]})}),e.jsx("td",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex justify-end items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(ce,{to:`/admin/products/${a.id}`,className:"p-2.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-xl transition-all",title:"View",children:e.jsx(is,{size:18})}),e.jsx(ce,{to:`/admin/products/edit/${a.id}`,className:"p-2.5 text-blue-500 hover:text-blue-700 hover:bg-blue-50 rounded-xl transition-all",title:"Edit",children:e.jsx(Fo,{size:18})}),e.jsx("button",{onClick:()=>r(a.id,a.name),disabled:i===a.id,className:"p-2.5 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all disabled:opacity-50",title:"Delete",children:i===a.id?e.jsx(xt,{size:18,className:"animate-spin"}):e.jsx(Fa,{size:18})})]})})]}),MN=({product:a,onDelete:r,onToggleStock:n,deleteLoading:i,toggleLoading:l})=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group border border-gray-100",children:[e.jsxs("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-50 p-4 flex items-center justify-center relative",children:[e.jsx(Ax,{imageUrl:a.image,productName:a.name,size:"lg"}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold shadow-sm
          ${a.in_stock?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:a.in_stock?"In Stock":"Out of Stock"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("span",{className:"text-xs font-mono text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:["#",Ex(a.id)]}),e.jsx("h3",{className:"font-bold text-gray-800 mt-2 line-clamp-1",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2 h-8",children:a.description||"No description"}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("span",{className:"text-xl font-bold text-emerald-600",children:Px(a.price)}),e.jsx("span",{className:"text-xs font-medium px-2 py-1 bg-purple-100 text-purple-700 rounded-full",children:a.category})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>n(a.id,a.in_stock),disabled:l===a.id,className:"flex-1 py-2 text-sm font-medium rounded-xl transition-colors flex items-center justify-center gap-1.5\r\n            ${product.in_stock ? 'bg-emerald-50 text-emerald-600 hover:bg-emerald-100' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}",children:[l===a.id?e.jsx(xt,{size:14,className:"animate-spin"}):a.in_stock?e.jsx(ux,{size:16}):e.jsx(dx,{size:16}),"Toggle"]}),e.jsx(ce,{to:`/admin/products/edit/${a.id}`,className:"p-2 text-blue-500 hover:bg-blue-50 rounded-xl transition-colors",children:e.jsx(Fo,{size:16})}),e.jsx("button",{onClick:()=>r(a.id,a.name),disabled:i===a.id,className:"p-2 text-red-500 hover:bg-red-50 rounded-xl transition-colors disabled:opacity-50",children:i===a.id?e.jsx(xt,{size:16,className:"animate-spin"}):e.jsx(Fa,{size:16})})]})]})]}),zN=()=>{const[a,r]=v.useState([]),[n,i]=v.useState([]),[l,c]=v.useState(!0),[u,h]=v.useState(null),[f,p]=v.useState(null),[g,y]=v.useState(""),[j,b]=v.useState(1),[_,k]=v.useState("All"),[C,A]=v.useState(null),[N,S]=v.useState(null),[F,P]=v.useState(!1),[$,D]=v.useState("list"),[I,H]=v.useState("name"),[K,W]=v.useState("asc"),B=async()=>{try{c(!0),h(null);const[M,G]=await Promise.all([Hd(),Pn()]);r(M),i(G)}catch(M){console.error("Error fetching data:",M),h("Failed to load products. Please try again.")}finally{c(!1)}};v.useEffect(()=>{B()},[]);const V=M=>{I===M?W(K==="asc"?"desc":"asc"):(H(M),W("asc"))},J=async(M,G)=>{if(confirm(`Are you sure you want to delete "${G}"? This action cannot be undone.`))try{A(M),h(null),await rN(M)?(r(oe=>oe.filter(de=>de.id!==M)),p(`"${G}" has been deleted successfully.`),setTimeout(()=>p(null),3e3)):h("Failed to delete product. Please try again.")}catch(Q){console.error("Error deleting product:",Q),h("An error occurred while deleting the product.")}finally{A(null)}},ie=async(M,G)=>{try{S(M),h(null),await tN(M,{in_stock:!G})?(r(de=>de.map(je=>je.id===M?{...je,in_stock:!G}:je)),p(`Stock status updated to "${G?"Out of Stock":"In Stock"}"`),setTimeout(()=>p(null),2e3)):h("Failed to update stock status. Please try again.")}catch(Q){console.error("Error toggling stock:",Q),h("Failed to update stock status. Please try again.")}finally{S(null)}},ae=v.useMemo(()=>{let M=a.filter(G=>{const Q=g.toLowerCase(),oe=G.name.toLowerCase().includes(Q)||G.id&&G.id.toLowerCase().includes(Q)||G.description&&G.description.toLowerCase().includes(Q),de=_==="All"||G.category===_;return oe&&de});return M.sort((G,Q)=>{let oe=0;switch(I){case"name":oe=G.name.localeCompare(Q.name);break;case"price":oe=G.price-Q.price;break;case"category":oe=(G.category||"").localeCompare(Q.category||"");break;case"in_stock":oe=G.in_stock===Q.in_stock?0:G.in_stock?-1:1;break;case"name":oe=(G.name||"").localeCompare(Q.name||"");break;case"created_at":oe=new Date(G.created_at||0).getTime()-new Date(Q.created_at||0).getTime();break}return K==="asc"?oe:-oe}),M},[a,g,_,I,K]),ge=v.useMemo(()=>({total:a.length,inStock:a.filter(M=>M.in_stock).length,outOfStock:a.filter(M=>!M.in_stock).length}),[a]),Z=Math.ceil(ae.length/Kc),ue=j*Kc,se=ue-Kc,T=ae.slice(se,ue);v.useEffect(()=>{b(1)},[g,_]);const L=v.useMemo(()=>["All",...new Set(a.map(M=>M.category).filter(Boolean))],[a]);return e.jsxs(yt,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Products"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your product inventory and catalog"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:B,className:"p-3 text-gray-600 bg-white rounded-xl hover:bg-gray-50 transition-colors shadow-sm border border-gray-200",title:"Refresh",children:e.jsx(rs,{size:20})}),e.jsxs("button",{onClick:()=>P(!0),className:"inline-flex items-center px-5 py-3 bg-white text-gray-700 rounded-xl hover:bg-gray-50 transition-all shadow-sm border border-gray-200 font-semibold",children:[e.jsx(Es,{size:18,className:"mr-2 text-amber-500"}),"Quick Add"]}),e.jsxs(ce,{to:"/admin/products/add",className:"inline-flex items-center px-5 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl hover:from-emerald-600 hover:to-teal-600 transition-all shadow-lg hover:shadow-xl font-semibold",children:[e.jsx(Ar,{size:18,className:"mr-2"}),"Add Product"]})]})]}),u&&e.jsx(TN,{message:u,onDismiss:()=>h(null)}),f&&e.jsx(RN,{message:f,onDismiss:()=>p(null)}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[e.jsx(Qc,{icon:qt,gradient:"bg-gradient-to-br from-blue-500 to-indigo-600",label:"Total Products",value:ge.total,trend:"+12%"}),e.jsx(Qc,{icon:Co,gradient:"bg-gradient-to-br from-emerald-500 to-teal-600",label:"In Stock",value:ge.inStock,subtitle:`${(ge.inStock/(ge.total||1)*100).toFixed(0)}% of catalog`}),e.jsx(Qc,{icon:h2,gradient:"bg-gradient-to-br from-red-500 to-rose-600",label:"Out of Stock",value:ge.outOfStock,subtitle:ge.outOfStock>0?"Needs attention":"All stocked up!"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ar,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products by name, ID, or description...",value:g,onChange:M=>y(M.target.value),className:"w-full pl-12 pr-12 py-3 rounded-xl border-2 border-gray-200 focus:border-emerald-500 focus:ring-0 transition-colors text-gray-800"}),g&&e.jsx("button",{onClick:()=>y(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Ie,{size:18})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mo,{size:18,className:"text-gray-400"}),e.jsx("select",{value:_,onChange:M=>k(M.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-emerald-500 focus:ring-0 transition-colors min-w-[160px] text-gray-700",children:L.map(M=>e.jsx("option",{value:M,children:M},M))})]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>D("list"),className:`p-2.5 rounded-lg transition-all ${$==="list"?"bg-white shadow-sm text-emerald-600":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(vj,{size:20})}),e.jsx("button",{onClick:()=>D("grid"),className:`p-2.5 rounded-lg transition-all ${$==="grid"?"bg-white shadow-sm text-emerald-600":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(tj,{size:20})})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[l?e.jsx(LN,{}):ae.length===0?e.jsx(IN,{searchTerm:g,selectedCategory:_}):$==="list"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsxs("tr",{className:"text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:[e.jsx("th",{className:"px-5 py-4",children:"ID"}),e.jsx(mo,{label:"Product",field:"name",currentSort:I,direction:K,onSort:V}),e.jsx(mo,{label:"Category",field:"category",currentSort:I,direction:K,onSort:V}),e.jsx(mo,{label:"Price",field:"price",currentSort:I,direction:K,onSort:V}),e.jsx(mo,{label:"Stock",field:"in_stock",currentSort:I,direction:K,onSort:V}),e.jsx("th",{className:"px-5 py-4",children:"Status"}),e.jsx("th",{className:"px-5 py-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:T.map(M=>e.jsx(DN,{product:M,onDelete:J,onToggleStock:ie,deleteLoading:C,toggleLoading:N},M.id))})]})}):e.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:T.map(M=>e.jsx(MN,{product:M,onDelete:J,onToggleStock:ie,deleteLoading:C,toggleLoading:N},M.id))}),Z>1&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing"," ",e.jsx("span",{className:"font-semibold text-gray-800",children:se+1})," ","to"," ",e.jsx("span",{className:"font-semibold text-gray-800",children:Math.min(ue,ae.length)})," ","of"," ",e.jsx("span",{className:"font-semibold text-gray-800",children:ae.length})," ","products"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>b(M=>Math.max(M-1,1)),disabled:j===1,className:"p-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(Ma,{size:20})}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(Z,5)},(M,G)=>{let Q;return Z<=5||j<=3?Q=G+1:j>=Z-2?Q=Z-4+G:Q=j-2+G,e.jsx("button",{onClick:()=>b(Q),className:`w-10 h-10 rounded-xl font-semibold transition-all
                          ${j===Q?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:Q},Q)})}),e.jsx("button",{onClick:()=>b(M=>Math.min(M+1,Z)),disabled:j===Z,className:"p-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(za,{size:20})})]})]})]})]}),e.jsx($N,{isOpen:F,onClose:()=>P(!1),categories:n,onProductAdded:()=>{B(),p("Product added successfully!"),setTimeout(()=>p(null),3e3)}})]})},UN=({image:a,index:r,isPrimary:n,onRemove:i,onSetPrimary:l,onMoveUp:c,onMoveDown:u,totalCount:h})=>{const[f,p]=v.useState(!1),[g,y]=v.useState(!1);return e.jsxs("div",{className:`relative group bg-white rounded-xl border-2 transition-all duration-200 overflow-hidden
      ${n?"border-emerald-500 ring-2 ring-emerald-100":"border-gray-200 hover:border-gray-300"}
      ${a.isUploading?"opacity-75":""}`,children:[n&&!a.isUploading&&e.jsxs("div",{className:"absolute top-2 left-2 z-10 bg-gradient-to-r from-emerald-500 to-teal-500 text-white text-xs font-bold px-2 py-1 rounded-lg flex items-center gap-1 shadow-lg",children:[e.jsx(S0,{size:12,className:"fill-white"}),"Primary"]}),a.isUploading&&e.jsxs("div",{className:"absolute inset-0 z-20 bg-white/80 flex flex-col items-center justify-center",children:[e.jsx(xt,{size:28,className:"animate-spin text-emerald-500 mb-2"}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Uploading..."})]}),a.error&&e.jsxs("div",{className:"absolute inset-0 z-20 bg-red-50/90 flex flex-col items-center justify-center p-3",children:[e.jsx(We,{size:24,className:"text-red-500 mb-2"}),e.jsx("span",{className:"text-xs font-medium text-red-600 text-center",children:a.error})]}),e.jsxs("div",{className:"aspect-square bg-gray-50 flex items-center justify-center relative",children:[!f&&a.url?e.jsxs(e.Fragment,{children:[!g&&!a.isUploading&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(xt,{size:24,className:"animate-spin text-gray-400"})}),e.jsx("img",{src:a.url,alt:`Product image ${r+1}`,className:`w-full h-full object-cover transition-opacity duration-200 ${g?"opacity-100":"opacity-0"}`,onLoad:()=>y(!0),onError:()=>p(!0)})]}):f?e.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[e.jsx(zd,{size:32}),e.jsx("span",{className:"text-xs mt-2",children:"Failed to load"})]}):e.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[e.jsx(ix,{size:32}),e.jsx("span",{className:"text-xs mt-2",children:"Preview unavailable"})]}),!a.isUploading&&!a.error&&e.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[!n&&e.jsx("button",{type:"button",onClick:()=>l(a.id),className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg text-white transition-colors",title:"Set as primary",children:e.jsx(S0,{size:18})}),e.jsx("button",{type:"button",onClick:()=>i(a.id),className:"p-2 bg-red-500/80 hover:bg-red-500 rounded-lg text-white transition-colors",title:"Remove image",children:e.jsx(Fa,{size:18})})]})]}),e.jsxs("div",{className:"p-2 flex items-center justify-between bg-gray-50 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>c(r),disabled:r===0||a.isUploading,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:e.jsx(N0,{size:14,className:"rotate-90"})}),e.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["#",r+1]}),e.jsx("button",{type:"button",onClick:()=>u(r),disabled:r===h-1||a.isUploading,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:e.jsx(N0,{size:14,className:"-rotate-90"})})]}),e.jsx("button",{type:"button",onClick:()=>i(a.id),disabled:a.isUploading,className:"p-1.5 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-30",title:"Remove",children:e.jsx(Ie,{size:14})})]})]})},FN=()=>{const a=St(),[r,n]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[h,f]=v.useState([]),[p,g]=v.useState(!1),[y,j]=v.useState([]),[b,_]=v.useState(!1),k=v.useRef(null),C=v.useRef(null),[A,N]=v.useState({name:"",description:"",image_url:"",color:"",display_order:""}),[S,F]=v.useState({name:"",price:"",original_price:"",description:"",category:"",in_stock:!0,rating:"4.5",size:""});v.useEffect(()=>{(async()=>{try{const Q=(await Pn()).map(oe=>oe.name);f(Q)}catch(G){console.error("Error fetching categories:",G)}})()},[]);const P=M=>{const{name:G,value:Q,type:oe}=M.target;if(oe==="checkbox"){const de=M.target.checked;F(je=>({...je,[G]:de}))}else F(de=>({...de,[G]:Q}))},$=M=>{const G=M.target.value;G==="__NEW_CATEGORY__"?(g(!0),F(Q=>({...Q,category:""}))):(g(!1),N({name:"",description:"",image_url:"",color:"",display_order:""}),F(Q=>({...Q,category:G})))},D=M=>{const{name:G,value:Q}=M.target;N(oe=>({...oe,[G]:Q}))},I=()=>`img_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,H=v.useCallback(async M=>{const Q=Array.from(M).filter(de=>["image/jpeg","image/png","image/webp","image/gif"].includes(de.type)?de.size>5242880?(l(`File too large: ${de.name}. Max size: 5MB`),!1):!0:(l(`Invalid file type: ${de.name}. Supported: JPG, PNG, WebP, GIF`),!1));if(Q.length===0)return;const oe=Q.map(de=>({id:I(),url:URL.createObjectURL(de),file:de,isUploading:!0,isUploaded:!1}));j(de=>[...de,...oe]);for(let de=0;de<Q.length;de++){const je=Q[de],Pe=oe[de];try{const He=await eN(je);j(nt=>nt.map(at=>at.id===Pe.id?He?(URL.revokeObjectURL(at.url),{...at,url:He,isUploading:!1,isUploaded:!0}):{...at,isUploading:!1,error:"Upload failed"}:at))}catch(He){console.error("Upload error:",He),j(nt=>nt.map(at=>at.id===Pe.id?{...at,isUploading:!1,error:"Upload failed"}:at))}}},[]),K=M=>{M.preventDefault(),M.stopPropagation(),_(!0)},W=M=>{M.preventDefault(),M.stopPropagation(),M.currentTarget===C.current&&_(!1)},B=M=>{M.preventDefault(),M.stopPropagation()},V=M=>{M.preventDefault(),M.stopPropagation(),_(!1);const G=M.dataTransfer.files;G.length>0&&H(G)},J=M=>{const G=M.target.files;G&&G.length>0&&H(G),k.current&&(k.current.value="")},ie=M=>{j(G=>{const Q=G.find(oe=>oe.id===M);return Q&&Q.url.startsWith("blob:")&&URL.revokeObjectURL(Q.url),G.filter(oe=>oe.id!==M)})},ae=M=>{j(G=>{const Q=G.findIndex(je=>je.id===M);if(Q<=0)return G;const oe=[...G],[de]=oe.splice(Q,1);return[de,...oe]})},ge=M=>{M!==0&&j(G=>{const Q=[...G];return[Q[M-1],Q[M]]=[Q[M],Q[M-1]],Q})},Z=M=>{M!==y.length-1&&j(G=>{const Q=[...G];return[Q[M],Q[M+1]]=[Q[M+1],Q[M]],Q})},ue=async M=>{if(M.preventDefault(),l(null),u(!1),!S.name.trim()){l("Product name is required");return}if(!S.price||parseFloat(S.price)<=0){l("Valid price is required");return}if(!S.category&&!p){l("Category is required");return}if(p&&!A.name.trim()){l("New category name is required");return}if(y.filter(Q=>Q.isUploading).length>0){l("Please wait for all images to finish uploading");return}try{n(!0);let Q=S.category;if(p&&A.name.trim()){const nt={name:A.name.trim(),description:A.description.trim()||void 0,image_url:A.image_url.trim()||void 0,color:A.color.trim()||void 0,display_order:A.display_order?parseInt(A.display_order):void 0},at=await Sx(nt);if(!at){l("Failed to create new category. Please try again."),n(!1);return}Q=at.name}const oe=y.filter(nt=>nt.isUploaded&&!nt.error),de=oe[0]?.url||void 0,je=oe.slice(1).map(nt=>nt.url),Pe={name:S.name.trim(),price:parseFloat(S.price),original_price:S.original_price?parseFloat(S.original_price):void 0,description:S.description.trim()||void 0,image:de,images:je.length>0?je:void 0,category:Q,in_stock:S.in_stock,rating:S.rating?parseFloat(S.rating):void 0,size:S.size.trim()||void 0};await kx(Pe)?(u(!0),setTimeout(()=>{a("/admin/products")},1500)):l("Failed to create product. Please try again.")}catch(Q){l(Q.message||"An error occurred while creating the product."),console.error("Error creating product:",Q)}finally{n(!1)}},se=y.filter(M=>M.isUploading).length,T=y.filter(M=>M.isUploaded).length,L=y.filter(M=>M.error).length;return e.jsx(yt,{children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>a("/admin/products"),className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors mb-4 group",children:[e.jsx(Io,{size:18,className:"mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Products"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Es,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Product"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Create a new product in your inventory"})]})]})]}),c&&e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-5 py-4 rounded-xl mb-6 flex items-center shadow-lg animate-in slide-in-from-top",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Pr,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-medium",children:"Product created successfully! Redirecting..."})]}),i&&e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white px-5 py-4 rounded-xl mb-6 flex items-center shadow-lg animate-in slide-in-from-top",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-5 h-5"})}),e.jsx("span",{className:"flex-1 font-medium",children:i}),e.jsx("button",{onClick:()=>l(null),className:"ml-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Ie,{size:18})})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsxs("form",{onSubmit:ue,children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 text-sm font-bold",children:"1"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Product Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:S.name,onChange:P,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 transition-colors text-gray-800",placeholder:"e.g., Organic Basmati Rice"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{htmlFor:"category",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"category",name:"category",value:p?"__NEW_CATEGORY__":S.category,onChange:$,required:!p,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 transition-colors text-gray-800",children:[e.jsx("option",{value:"",children:"Select a category"}),e.jsx("option",{value:"__NEW_CATEGORY__",children:"+ Create New Category"}),h.map(M=>e.jsx("option",{value:M,children:M},M))]}),p&&e.jsxs("div",{className:"mt-4 p-5 border-2 border-dashed border-emerald-300 rounded-xl bg-emerald-50/50",children:[e.jsxs("h3",{className:"text-sm font-bold text-emerald-800 mb-4 flex items-center gap-2",children:[e.jsx(Ar,{size:16}),"New Category Details"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"newCategoryName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"newCategoryName",name:"name",value:A.name,onChange:D,placeholder:"e.g., Vegetables, Fruits, Dairy",required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"newCategoryColor",className:"block text-sm font-medium text-gray-700 mb-1",children:["Color Theme ",e.jsx("span",{className:"text-gray-400 text-xs",children:"(Optional)"})]}),e.jsx("input",{type:"text",id:"newCategoryColor",name:"color",value:A.color,onChange:D,placeholder:"e.g., from-green-100 to-green-200",className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"newCategoryDisplayOrder",className:"block text-sm font-medium text-gray-700 mb-1",children:["Display Order ",e.jsx("span",{className:"text-gray-400 text-xs",children:"(Optional)"})]}),e.jsx("input",{type:"number",id:"newCategoryDisplayOrder",name:"display_order",value:A.display_order,onChange:D,min:"0",placeholder:"1, 2, 3...",className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 transition-colors"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"newCategoryImageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:["Image URL ",e.jsx("span",{className:"text-gray-400 text-xs",children:"(Optional)"})]}),e.jsx("input",{type:"url",id:"newCategoryImageUrl",name:"image_url",value:A.image_url,onChange:D,placeholder:"https://example.com/category-image.jpg",className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"newCategoryDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",e.jsx("span",{className:"text-gray-400 text-xs",children:"(Optional)"})]}),e.jsx("textarea",{id:"newCategoryDescription",name:"description",value:A.description,onChange:D,rows:2,placeholder:"Enter category description...",className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 transition-colors resize-none"})]})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsx("textarea",{id:"description",name:"description",value:S.description,onChange:P,rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 transition-colors text-gray-800 resize-none",placeholder:"Enter product description..."})]})]})]}),e.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-br from-purple-50/50 to-indigo-50/50",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-1 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600 text-sm font-bold",children:"2"}),"Product Images"]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-5 ml-10",children:["Upload product images. First image will be the primary image.",y.length>0&&e.jsxs("span",{className:"ml-2",children:["(",T," uploaded",se>0&&`, ${se} uploading`,L>0&&`, ${L} failed`,")"]})]}),e.jsx("input",{ref:k,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",multiple:!0,onChange:J,className:"hidden"}),e.jsxs("div",{ref:C,onDragEnter:K,onDragLeave:W,onDragOver:B,onDrop:V,onClick:()=>k.current?.click(),className:`relative border-2 border-dashed rounded-2xl p-8 text-center cursor-pointer transition-all duration-200 mb-5
                  ${b?"border-purple-500 bg-purple-50 scale-[1.02]":"border-gray-300 hover:border-purple-400 hover:bg-purple-50/50"}`,children:[e.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-2xl flex items-center justify-center transition-colors
                  ${b?"bg-purple-200":"bg-gray-100"}`,children:b?e.jsx(Fw,{size:32,className:"text-purple-600"}):e.jsx(g2,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"font-semibold text-gray-700 mb-1",children:b?"Drop images here":"Drag & drop images here"}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"or click to browse files"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ix,{size:14}),"JPG, PNG, WebP, GIF"]}),e.jsx("span",{children:""}),e.jsx("span",{children:"Max 5MB per file"})]})]}),y.length>0&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[y.map((M,G)=>e.jsx(UN,{image:M,index:G,isPrimary:G===0,onRemove:ie,onSetPrimary:ae,onMoveUp:ge,onMoveDown:Z,totalCount:y.length},M.id)),e.jsxs("button",{type:"button",onClick:()=>k.current?.click(),className:"aspect-square border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-purple-400 hover:text-purple-500 hover:bg-purple-50 transition-all",children:[e.jsx(Ar,{size:24}),e.jsx("span",{className:"text-xs mt-2 font-medium",children:"Add More"})]})]})]}),e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center text-green-600 text-sm font-bold",children:"3"}),"Pricing & Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"price",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Price () ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",id:"price",name:"price",value:S.price,onChange:P,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 transition-colors text-gray-800",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"original_price",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Original Price ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsx("input",{type:"number",id:"original_price",name:"original_price",value:S.original_price,onChange:P,min:"0",step:"0.01",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 transition-colors text-gray-800",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"rating",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Rating ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(0-5)"})]}),e.jsx("input",{type:"number",id:"rating",name:"rating",value:S.rating,onChange:P,min:"0",max:"5",step:"0.1",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 transition-colors text-gray-800",placeholder:"4.5"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"size",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Size/Weight ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsx("input",{type:"text",id:"size",name:"size",value:S.size,onChange:P,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 transition-colors text-gray-800",placeholder:"e.g., 1kg, 500g"})]})]}),e.jsxs("div",{className:"mt-5 p-4 bg-gray-50 rounded-xl flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:"Stock Status"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Is this product available for purchase?"})]}),e.jsx("button",{type:"button",onClick:()=>F(M=>({...M,in_stock:!M.in_stock})),className:`relative w-14 h-8 rounded-full transition-colors ${S.in_stock?"bg-emerald-500":"bg-gray-300"}`,children:e.jsx("span",{className:`absolute top-1 w-6 h-6 bg-white rounded-full shadow transition-transform ${S.in_stock?"left-7":"left-1"}`})})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 flex items-center justify-between",children:[e.jsx("button",{type:"button",onClick:()=>a("/admin/products"),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100 transition-colors font-semibold",disabled:r,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:r||se>0,className:"inline-flex items-center px-8 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl hover:from-emerald-600 hover:to-teal-600 transition-all font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:r?e.jsxs(e.Fragment,{children:[e.jsx(xt,{size:20,className:"animate-spin mr-2"}),"Creating..."]}):se>0?e.jsxs(e.Fragment,{children:[e.jsx(xt,{size:20,className:"animate-spin mr-2"}),"Uploading Images..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zo,{size:20,className:"mr-2"}),"Create Product"]})})]})]})})]})})},Jc=10,Ox=["placed","confirmed","shipped","delivered","cancelled"],hn=({icon:a,gradient:r,label:n,value:i,subtitle:l})=>e.jsxs("div",{className:`relative overflow-hidden rounded-2xl ${r} p-5 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1`,children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:e.jsx(a,{className:"w-6 h-6"})})}),e.jsx("p",{className:"text-white/80 text-sm font-medium",children:n}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:i}),l&&e.jsx("p",{className:"text-white/60 text-xs mt-1",children:l})]})]}),BN=a=>{switch(a){case"delivered":return"bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700";case"placed":return"bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-700";case"confirmed":return"bg-gradient-to-r from-amber-100 to-orange-100 text-amber-700";case"shipped":return"bg-gradient-to-r from-violet-100 to-purple-100 text-violet-700";case"cancelled":return"bg-gradient-to-r from-red-100 to-rose-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},qN=a=>{switch(a){case"paid":return"bg-emerald-100 text-emerald-700";case"pending":return"bg-amber-100 text-amber-700";case"failed":case"refunded":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},WN=({message:a,onDismiss:r})=>e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white px-5 py-4 rounded-xl mb-6 flex items-center shadow-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-5 h-5"})}),e.jsx("span",{className:"flex-1 font-medium",children:a}),e.jsx("button",{onClick:r,className:"ml-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Ie,{size:18})})]}),HN=()=>e.jsxs("div",{className:"p-16 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-blue-500 rounded-full animate-spin border-t-transparent"})]}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading orders..."})]}),VN=({searchTerm:a})=>e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx(ir,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No orders found"}),e.jsx("p",{className:"text-gray-500",children:a?"Try a different search term.":"Orders will appear here when customers make purchases."})]}),GN=({order:a,isUpdating:r,onStatusChange:n})=>e.jsxs("div",{className:"relative inline-flex items-center group",children:[e.jsx("select",{value:a.order_status,onChange:i=>n(a.id,i.target.value),disabled:r,className:`appearance-none inline-flex items-center pl-3 pr-8 py-2 rounded-xl text-xs font-semibold cursor-pointer transition-all disabled:cursor-not-allowed ${BN(a.order_status)}`,children:Ox.map(i=>e.jsx("option",{value:i,children:i.charAt(0).toUpperCase()+i.slice(1)},i))}),e.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none",children:r?e.jsx(xt,{size:14,className:"animate-spin"}):e.jsx(Oa,{size:14,className:"opacity-60"})})]}),KN=a=>a.substring(0,8),QN=a=>new Date(a).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),R0=a=>a.charAt(0).toUpperCase()+a.slice(1),JN=()=>{const[a,r]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(null),[u,h]=v.useState(""),[f,p]=v.useState(1),[g,y]=v.useState("All"),[j,b]=v.useState(null),_=async()=>{try{i(!0),c(null);const D=await Vd();r(D)}catch(D){c("Failed to load orders. Please try again."),console.error("Error fetching orders:",D)}finally{i(!1)}};v.useEffect(()=>{_()},[]);const k=async(D,I)=>{try{b(D),c(null),await aN(D,I)?r(K=>K.map(W=>W.id===D?{...W,order_status:I}:W)):c("Failed to update order status.")}catch(H){c(`Failed to update status: ${H?.message||"Unknown error"}`)}finally{b(null)}},C=v.useMemo(()=>({total:a.length,placed:a.filter(D=>D.order_status==="placed").length,confirmed:a.filter(D=>D.order_status==="confirmed").length,shipped:a.filter(D=>D.order_status==="shipped").length,delivered:a.filter(D=>D.order_status==="delivered").length,cancelled:a.filter(D=>D.order_status==="cancelled").length,totalRevenue:a.filter(D=>D.order_status!=="cancelled").reduce((D,I)=>D+(I.order_total||0),0)}),[a]),A=v.useMemo(()=>a.filter(D=>{const I=D.id.toLowerCase().includes(u.toLowerCase())||D.customer_name.toLowerCase().includes(u.toLowerCase())||(D.customer_email?.toLowerCase().includes(u.toLowerCase())??!1),H=g==="All"||D.order_status===g;return I&&H}),[a,u,g]),N=v.useMemo(()=>["All",...Ox],[]),S=Math.ceil(A.length/Jc),F=f*Jc,P=F-Jc,$=A.slice(P,F);return v.useEffect(()=>{p(1)},[u,g]),e.jsx(yt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and track customer orders"})]}),e.jsxs("button",{onClick:_,className:"inline-flex items-center px-4 py-2.5 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors shadow-sm font-medium",children:[e.jsx(rs,{size:18,className:"mr-2"}),"Refresh"]})]}),l&&e.jsx(WN,{message:l,onDismiss:()=>c(null)}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsx(hn,{icon:ir,gradient:"bg-gradient-to-br from-gray-700 to-gray-900",label:"Total Orders",value:C.total}),e.jsx(hn,{icon:nr,gradient:"bg-gradient-to-br from-blue-500 to-indigo-600",label:"Placed",value:C.placed}),e.jsx(hn,{icon:qt,gradient:"bg-gradient-to-br from-amber-500 to-orange-600",label:"Confirmed",value:C.confirmed}),e.jsx(hn,{icon:mr,gradient:"bg-gradient-to-br from-violet-500 to-purple-600",label:"Shipped",value:C.shipped}),e.jsx(hn,{icon:kt,gradient:"bg-gradient-to-br from-emerald-500 to-teal-600",label:"Delivered",value:C.delivered}),e.jsx(hn,{icon:xd,gradient:"bg-gradient-to-br from-red-500 to-rose-600",label:"Cancelled",value:C.cancelled})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ar,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by order ID, customer name or email...",value:u,onChange:D=>h(D.target.value),className:"w-full pl-12 pr-12 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0 transition-colors text-gray-800"}),u&&e.jsx("button",{onClick:()=>h(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Ie,{size:18})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mo,{size:18,className:"text-gray-400"}),e.jsx("select",{value:g,onChange:D=>y(D.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0 transition-colors min-w-[140px] text-gray-700",children:N.map(D=>e.jsx("option",{value:D,children:R0(D)},D))})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[n?e.jsx(HN,{}):A.length===0?e.jsx(VN,{searchTerm:u}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsxs("tr",{className:"text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:[e.jsx("th",{className:"px-6 py-4",children:"Order ID"}),e.jsx("th",{className:"px-6 py-4",children:"Customer"}),e.jsx("th",{className:"px-6 py-4",children:"Date"}),e.jsx("th",{className:"px-6 py-4",children:"Status"}),e.jsx("th",{className:"px-6 py-4",children:"Items"}),e.jsx("th",{className:"px-6 py-4",children:"Amount"}),e.jsx("th",{className:"px-6 py-4",children:"Payment"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:$.map(D=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50/30 transition-all duration-200",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-xs font-mono text-gray-400 bg-gray-100 px-2 py-1 rounded-lg",children:["#",KN(D.id)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:D.customer_name}),D.customer_email&&e.jsx("p",{className:"text-xs text-gray-500",children:D.customer_email})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Dd,{size:14,className:"text-gray-400"}),QN(D.created_at)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(GN,{order:D,isUpdating:j===D.id,onStatusChange:k})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-gray-100 text-gray-700 text-sm font-medium",children:[D.items_count||0," items"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-lg font-bold text-gray-800",children:["",D.order_total?.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-xs font-semibold ${qN(D.payment_status)}`,children:[e.jsx(ka,{size:12}),R0(D.payment_status)]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:D.payment_method})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-end",children:e.jsx(ce,{to:`/admin/orders/${D.id}`,className:"p-2.5 text-blue-500 hover:text-blue-700 hover:bg-blue-50 rounded-xl transition-all opacity-0 group-hover:opacity-100",title:"View Details",children:e.jsx(is,{size:18})})})})]},D.id))})]})}),S>1&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",e.jsx("span",{className:"font-semibold text-gray-800",children:P+1})," to"," ",e.jsx("span",{className:"font-semibold text-gray-800",children:Math.min(F,A.length)})," of"," ",e.jsx("span",{className:"font-semibold text-gray-800",children:A.length})," orders"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>p(D=>Math.max(D-1,1)),disabled:f===1,className:"p-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(Ma,{size:20})}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(S,5)},(D,I)=>{let H;return S<=5||f<=3?H=I+1:f>=S-2?H=S-4+I:H=f-2+I,e.jsx("button",{onClick:()=>p(H),className:`w-10 h-10 rounded-xl font-semibold transition-all
                          ${f===H?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:H},H)})}),e.jsx("button",{onClick:()=>p(D=>Math.min(D+1,S)),disabled:f===S,className:"p-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(za,{size:20})})]})]})]})]})})},Yc=10,fo=({icon:a,gradient:r,label:n,value:i,subtitle:l})=>e.jsxs("div",{className:`relative overflow-hidden rounded-2xl ${r} p-5 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1`,children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center mb-3",children:e.jsx(a,{className:"w-6 h-6"})}),e.jsx("p",{className:"text-white/80 text-sm font-medium",children:n}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:i}),l&&e.jsx("p",{className:"text-white/60 text-xs mt-1",children:l})]})]}),YN=()=>e.jsxs("div",{className:"p-16 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-purple-500 rounded-full animate-spin border-t-transparent"})]}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading customers..."})]}),XN=({searchTerm:a})=>e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx(Os,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No customers found"}),e.jsx("p",{className:"text-gray-500",children:a?"Try a different search term.":"Customers will appear here when they make purchases."})]}),ZN=()=>{const[a,r]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(""),[u,h]=v.useState(1),[f,p]=v.useState("All"),g=async()=>{try{i(!0);const N=await Cx();r(N)}catch(N){console.error("Error fetching customers:",N)}finally{i(!1)}};v.useEffect(()=>{g()},[]);const y=v.useMemo(()=>({total:a.length,active:a.filter(N=>N.status==="Active").length,totalOrders:a.reduce((N,S)=>N+S.orders_count,0),totalRevenue:a.reduce((N,S)=>N+S.total_spent,0)}),[a]),j=v.useMemo(()=>a.filter(N=>{const S=N.name.toLowerCase().includes(l.toLowerCase())||(N.email?.toLowerCase().includes(l.toLowerCase())??!1)||(N.phone?.includes(l)??!1)||N.id.toLowerCase().includes(l.toLowerCase()),F=f==="All"||N.status===f;return S&&F}),[a,l,f]),b=Math.ceil(j.length/Yc),_=u*Yc,k=_-Yc,C=j.slice(k,_);v.useEffect(()=>{h(1)},[l,f]);const A=["All","Active","Inactive"];return e.jsx(yt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customers"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"View and manage your customer database"})]}),e.jsxs("button",{onClick:g,className:"inline-flex items-center px-4 py-2.5 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors shadow-sm font-medium",children:[e.jsx(rs,{size:18,className:"mr-2"}),"Refresh"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx(fo,{icon:Os,gradient:"bg-gradient-to-br from-violet-500 to-purple-600",label:"Total Customers",value:y.total}),e.jsx(fo,{icon:Eo,gradient:"bg-gradient-to-br from-emerald-500 to-teal-600",label:"Active Customers",value:y.active,subtitle:`${y.total>0?Math.round(y.active/y.total*100):0}% of total`}),e.jsx(fo,{icon:ir,gradient:"bg-gradient-to-br from-blue-500 to-indigo-600",label:"Total Orders",value:y.totalOrders}),e.jsx(fo,{icon:Ta,gradient:"bg-gradient-to-br from-amber-500 to-orange-600",label:"Total Revenue",value:`${y.totalRevenue.toLocaleString()}`})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ar,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, phone, or ID...",value:l,onChange:N=>c(N.target.value),className:"w-full pl-12 pr-12 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:ring-0 transition-colors text-gray-800"}),l&&e.jsx("button",{onClick:()=>c(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Ie,{size:18})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mo,{size:18,className:"text-gray-400"}),e.jsx("select",{value:f,onChange:N=>p(N.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 focus:ring-0 transition-colors min-w-[140px] text-gray-700",children:A.map(N=>e.jsx("option",{value:N,children:N},N))})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[n?e.jsx(YN,{}):j.length===0?e.jsx(XN,{searchTerm:l}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsxs("tr",{className:"text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:[e.jsx("th",{className:"px-6 py-4",children:"Customer"}),e.jsx("th",{className:"px-6 py-4",children:"Contact"}),e.jsx("th",{className:"px-6 py-4",children:"Location"}),e.jsx("th",{className:"px-6 py-4",children:"Joined"}),e.jsx("th",{className:"px-6 py-4",children:"Orders"}),e.jsx("th",{className:"px-6 py-4",children:"Total Spent"}),e.jsx("th",{className:"px-6 py-4",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:C.map(N=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-gray-50 hover:to-purple-50/30 transition-all duration-200",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-400 to-purple-500 rounded-xl flex items-center justify-center shadow-md",children:e.jsx("span",{className:"text-white font-bold",children:N.name.split(" ").map(S=>S[0]).join("").toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800 group-hover:text-purple-600 transition-colors",children:N.name}),e.jsxs("p",{className:"text-xs text-gray-400 font-mono",children:["#",N.id.substring(0,8)]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-1",children:[N.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ua,{size:14,className:"text-gray-400"}),e.jsx("span",{children:N.email})]}),N.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ud,{size:14,className:"text-gray-400"}),e.jsx("span",{children:N.phone})]})]})}),e.jsx("td",{className:"px-6 py-4",children:N.location?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Cr,{size:14,className:"text-gray-400"}),e.jsx("span",{children:N.location})]}):e.jsx("span",{className:"text-gray-400 italic text-sm",children:"Not available"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Dd,{size:14,className:"text-gray-400"}),e.jsx("span",{children:new Date(N.created_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-blue-100 text-blue-700 text-sm font-semibold",children:[N.orders_count," orders"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-lg font-bold text-gray-800",children:["",N.total_spent.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-semibold
                          ${N.status==="Active"?"bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:[N.status==="Active"?e.jsx(Eo,{size:14}):e.jsx(j2,{size:14}),N.status]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"p-2.5 text-purple-500 hover:text-purple-700 hover:bg-purple-50 rounded-xl transition-all opacity-0 group-hover:opacity-100",title:"View Details",children:e.jsx(is,{size:18})})})})]},N.id))})]})}),b>1&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",e.jsx("span",{className:"font-semibold text-gray-800",children:k+1})," to"," ",e.jsx("span",{className:"font-semibold text-gray-800",children:Math.min(_,j.length)})," of"," ",e.jsx("span",{className:"font-semibold text-gray-800",children:j.length})," customers"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(N=>Math.max(N-1,1)),disabled:u===1,className:"p-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(Ma,{size:20})}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(b,5)},(N,S)=>{let F;return b<=5||u<=3?F=S+1:u>=b-2?F=b-4+S:F=u-2+S,e.jsx("button",{onClick:()=>h(F),className:`w-10 h-10 rounded-xl font-semibold transition-all
                          ${u===F?"bg-gradient-to-r from-violet-500 to-purple-500 text-white shadow-lg":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:F},F)})}),e.jsx("button",{onClick:()=>h(N=>Math.min(N+1,b)),disabled:u===b,className:"p-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(za,{size:20})})]})]})]})]})})},Xc=10,e4=a=>a.substring(0,8),L0=({icon:a,gradient:r,label:n,value:i})=>e.jsxs("div",{className:`relative overflow-hidden rounded-2xl ${r} p-5 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1`,children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-20 h-20 bg-white/10 rounded-full blur-xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center mb-3",children:e.jsx(a,{className:"w-6 h-6"})}),e.jsx("p",{className:"text-white/80 text-sm font-medium",children:n}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:i})]})]}),t4=({message:a,onDismiss:r})=>e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white px-5 py-4 rounded-xl mb-6 flex items-center shadow-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-5 h-5"})}),e.jsx("span",{className:"flex-1 font-medium",children:a}),e.jsx("button",{onClick:r,className:"ml-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Ie,{size:18})})]}),r4=({message:a,onDismiss:r})=>e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-5 py-4 rounded-xl mb-6 flex items-center shadow-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Pr,{className:"w-5 h-5"})}),e.jsx("span",{className:"flex-1 font-medium",children:a}),e.jsx("button",{onClick:r,className:"ml-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Ie,{size:18})})]}),s4=()=>e.jsxs("div",{className:"p-16 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-violet-200 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-violet-500 rounded-full animate-spin border-t-transparent"})]}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading categories..."})]}),n4=({searchTerm:a})=>e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx(Xw,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No categories found"}),e.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:a?"Try a different search term or clear your filters.":"Get started by creating your first category to organize products."}),!a&&e.jsxs(ce,{to:"/admin/categories/add",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-violet-500 to-purple-500 text-white rounded-xl hover:from-violet-600 hover:to-purple-600 transition-all shadow-lg hover:shadow-xl font-semibold",children:[e.jsx(Ar,{size:20,className:"mr-2"}),"Create First Category"]})]}),a4=({imageUrl:a,categoryName:r})=>{const[n,i]=v.useState(!1);return a&&!n?e.jsx("img",{src:a,alt:r,className:"w-14 h-14 object-cover rounded-xl shadow-md ring-2 ring-white",loading:"lazy",onError:()=>i(!0)}):e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-violet-400 via-purple-500 to-indigo-500 rounded-xl flex items-center justify-center shadow-md ring-2 ring-white",children:n?e.jsx(zd,{className:"w-6 h-6 text-white/80"}):e.jsx("span",{className:"text-sm font-bold text-white",children:r.substring(0,2).toUpperCase()})})},i4=()=>{const[a,r]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(null),[u,h]=v.useState(null),[f,p]=v.useState(""),[g,y]=v.useState(1),[j,b]=v.useState(null),[_,k]=v.useState({}),C=async()=>{try{i(!0),c(null);const I=await Pn();r(I);const H=await nN(),K={};I.forEach(W=>{K[W.id]=H[W.name]||0}),k(K)}catch(I){c("Failed to load categories. Please try again."),console.error("Error fetching categories:",I)}finally{i(!1)}};v.useEffect(()=>{C()},[]);const A=async(I,H)=>{const W=_[I]>0?`This category "${H}" has ${_[I]} product(s). Are you sure you want to delete it?`:`Are you sure you want to delete "${H}"?`;if(confirm(W))try{b(I),c(null),await sN(I)?(r(V=>V.filter(J=>J.id!==I)),h(`"${H}" has been deleted successfully.`),setTimeout(()=>h(null),3e3)):c("Failed to delete category. Please try again.")}catch(B){c("An error occurred while deleting the category."),console.error("Error deleting category:",B)}finally{b(null)}},N=v.useMemo(()=>a.filter(I=>{const H=f.toLowerCase();return I.name.toLowerCase().includes(H)||(I.description?.toLowerCase().includes(H)??!1)||I.id.toLowerCase().includes(H)}),[a,f]),S=v.useMemo(()=>({totalCategories:a.length,totalProducts:Object.values(_).reduce((I,H)=>I+H,0)}),[a,_]),F=Math.ceil(N.length/Xc),P=g*Xc,$=P-Xc,D=N.slice($,P);return v.useEffect(()=>{y(1)},[f]),e.jsx(yt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Categories"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Organize and manage your product categories"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:C,className:"p-3 text-gray-600 bg-white rounded-xl hover:bg-gray-50 transition-colors shadow-sm border border-gray-200",title:"Refresh",children:e.jsx(rs,{size:20})}),e.jsxs(ce,{to:"/admin/categories/add",className:"inline-flex items-center px-5 py-3 bg-gradient-to-r from-violet-500 to-purple-500 text-white rounded-xl hover:from-violet-600 hover:to-purple-600 transition-all shadow-lg hover:shadow-xl font-semibold",children:[e.jsx(Ar,{size:18,className:"mr-2"}),"Add Category"]})]})]}),l&&e.jsx(t4,{message:l,onDismiss:()=>c(null)}),u&&e.jsx(r4,{message:u,onDismiss:()=>h(null)}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsx(L0,{icon:jn,gradient:"bg-gradient-to-br from-violet-500 to-purple-600",label:"Total Categories",value:S.totalCategories}),e.jsx(L0,{icon:qt,gradient:"bg-gradient-to-br from-emerald-500 to-teal-600",label:"Total Products",value:S.totalProducts})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:e.jsxs("div",{className:"relative",children:[e.jsx(ar,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search categories by name, description, or ID...",value:f,onChange:I=>p(I.target.value),className:"w-full pl-12 pr-12 py-3 rounded-xl border-2 border-gray-200 focus:border-violet-500 focus:ring-0 transition-colors text-gray-800"}),f&&e.jsx("button",{onClick:()=>p(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Ie,{size:18})})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[n?e.jsx(s4,{}):N.length===0?e.jsx(n4,{searchTerm:f}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsxs("tr",{className:"text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:[e.jsx("th",{className:"px-6 py-4",children:"ID"}),e.jsx("th",{className:"px-6 py-4",children:"Category"}),e.jsx("th",{className:"px-6 py-4",children:"Description"}),e.jsx("th",{className:"px-6 py-4",children:"Products"}),e.jsx("th",{className:"px-6 py-4",children:"Order"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:D.map(I=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-gray-50 hover:to-violet-50/30 transition-all duration-200",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-xs font-mono text-gray-400 bg-gray-100 px-2 py-1 rounded-lg",children:e4(I.id)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(a4,{imageUrl:I.image_url,categoryName:I.name}),e.jsx("span",{className:"font-semibold text-gray-800 group-hover:text-violet-600 transition-colors",children:I.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-600 max-w-xs line-clamp-2",children:I.description||e.jsx("span",{className:"text-gray-400 italic",children:"No description"})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold
                          ${_[I.id]>0?"bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700":"bg-gray-100 text-gray-500"}`,children:[_[I.id]||0," products"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:I.display_order||"-"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex justify-end items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(ce,{to:`/admin/categories/edit/${I.id}`,className:"p-2.5 text-blue-500 hover:text-blue-700 hover:bg-blue-50 rounded-xl transition-all",title:"Edit",children:e.jsx(Fo,{size:18})}),e.jsx("button",{onClick:()=>A(I.id,I.name),disabled:j===I.id,className:"p-2.5 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all disabled:opacity-50",title:"Delete",children:j===I.id?e.jsx(xt,{size:18,className:"animate-spin"}):e.jsx(Fa,{size:18})})]})})]},I.id))})]})}),F>1&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",e.jsx("span",{className:"font-semibold text-gray-800",children:$+1})," to"," ",e.jsx("span",{className:"font-semibold text-gray-800",children:Math.min(P,N.length)})," of"," ",e.jsx("span",{className:"font-semibold text-gray-800",children:N.length})," categories"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>y(I=>Math.max(I-1,1)),disabled:g===1,className:"p-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(Ma,{size:20})}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(F,5)},(I,H)=>{let K;return F<=5||g<=3?K=H+1:g>=F-2?K=F-4+H:K=g-2+H,e.jsx("button",{onClick:()=>y(K),className:`w-10 h-10 rounded-xl font-semibold transition-all
                          ${g===K?"bg-gradient-to-r from-violet-500 to-purple-500 text-white shadow-lg":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:K},K)})}),e.jsx("button",{onClick:()=>y(I=>Math.min(I+1,F)),disabled:g===F,className:"p-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(za,{size:20})})]})]})]})]})})},o4=()=>{const a=St(),[r,n]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[h,f]=v.useState({name:"",description:"",image_url:"",color:"",display_order:""}),p=y=>{const{name:j,value:b}=y.target;f(_=>({..._,[j]:b}))},g=async y=>{if(y.preventDefault(),l(null),u(!1),!h.name.trim()){l("Category name is required");return}try{n(!0);const j={name:h.name.trim(),description:h.description.trim()||void 0,image_url:h.image_url.trim()||void 0,color:h.color.trim()||void 0,display_order:h.display_order?parseInt(h.display_order):void 0};await Sx(j)?(u(!0),setTimeout(()=>{a("/admin/categories")},1500)):l("Failed to create category. Please try again.")}catch(j){l(j.message||"An error occurred while creating the category."),console.error("Error creating category:",j)}finally{n(!1)}};return e.jsx(yt,{children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>a("/admin/categories"),className:"inline-flex items-center text-gray-500 hover:text-gray-700 transition-colors mb-4 group",children:[e.jsx(Io,{size:18,className:"mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Categories"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-violet-500 to-purple-500 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(jn,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Category"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Create a new product category"})]})]})]}),c&&e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-5 py-4 rounded-xl mb-6 flex items-center shadow-lg animate-in slide-in-from-top",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Pr,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-medium",children:"Category created successfully! Redirecting..."})]}),i&&e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white px-5 py-4 rounded-xl mb-6 flex items-center shadow-lg animate-in slide-in-from-top",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-5 h-5"})}),e.jsx("span",{className:"flex-1 font-medium",children:i}),e.jsx("button",{onClick:()=>l(null),className:"ml-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Ie,{size:18})})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-5 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-violet-100 rounded-lg flex items-center justify-center text-violet-600 text-sm font-bold",children:"1"}),"Category Information"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Category Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(jn,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:p,required:!0,className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-violet-500 transition-colors text-gray-800",placeholder:"e.g., Vegetables, Fruits, Dairy"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Do,{size:18,className:"absolute left-4 top-4 text-gray-400"}),e.jsx("textarea",{id:"description",name:"description",value:h.description,onChange:p,rows:3,className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-violet-500 transition-colors text-gray-800 resize-none",placeholder:"Enter a brief description of this category..."})]})]})]})]}),e.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-5 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600 text-sm font-bold",children:"2"}),"Appearance & Display"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"color",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Color Theme ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Tj,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",id:"color",name:"color",value:h.color,onChange:p,className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-violet-500 transition-colors text-gray-800",placeholder:"e.g., from-green-100 to-green-200"})]}),e.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Tailwind gradient classes for category card"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"display_order",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Display Order ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(nj,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"number",id:"display_order",name:"display_order",value:h.display_order,onChange:p,min:"0",className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-violet-500 transition-colors text-gray-800",placeholder:"e.g., 1, 2, 3..."})]}),e.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Lower numbers appear first on the homepage"})]})]}),e.jsxs("div",{className:"mt-5",children:[e.jsxs("label",{htmlFor:"image_url",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Image URL ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(xj,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"url",id:"image_url",name:"image_url",value:h.image_url,onChange:p,className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-violet-500 transition-colors text-gray-800",placeholder:"https://example.com/category-image.jpg"})]}),e.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Direct URL to the category image"})]}),h.image_url&&e.jsxs("div",{className:"mt-4 p-4 bg-white rounded-xl border-2 border-dashed border-gray-200",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Image Preview"}),e.jsx("img",{src:h.image_url,alt:"Category preview",className:"w-32 h-32 object-cover rounded-xl shadow-md",onError:y=>{y.target.style.display="none"}})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 flex items-center justify-between",children:[e.jsx("button",{type:"button",onClick:()=>a("/admin/categories"),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100 transition-colors font-semibold",disabled:r,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:r,className:"inline-flex items-center px-8 py-3 bg-gradient-to-r from-violet-500 to-purple-500 text-white rounded-xl hover:from-violet-600 hover:to-purple-600 transition-all font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:r?e.jsxs(e.Fragment,{children:[e.jsx(xt,{size:20,className:"animate-spin mr-2"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zo,{size:20,className:"mr-2"}),"Create Category"]})})]})]})})]})})},yn=["from-emerald-500 to-teal-500","from-blue-500 to-indigo-500","from-violet-500 to-purple-500","from-amber-500 to-orange-500","from-rose-500 to-pink-500","from-cyan-500 to-sky-500","from-lime-500 to-green-500","from-fuchsia-500 to-pink-500"],I0=["bg-emerald-500","bg-blue-500","bg-violet-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-lime-500","bg-fuchsia-500"],$0=["#10b981","#3b82f6","#8b5cf6","#f59e0b","#f43f5e","#06b6d4","#84cc16","#d946ef"],xo=({icon:a,gradient:r,label:n,value:i,change:l,prefix:c=""})=>e.jsxs("div",{className:`relative overflow-hidden rounded-2xl ${r} p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1`,children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:e.jsx(a,{className:"w-6 h-6"})}),l!==void 0&&e.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium px-2 py-1 rounded-full backdrop-blur-sm ${l>=0?"bg-white/20":"bg-red-400/30"}`,children:[l>=0?e.jsx(_a,{size:14}):e.jsx(ko,{size:14}),Math.abs(l).toFixed(1),"%"]})]}),e.jsx("p",{className:"text-white/80 text-sm font-medium",children:n}),e.jsxs("p",{className:"text-3xl font-bold mt-1",children:[c,typeof i=="number"?i.toLocaleString():i]})]})]}),l4=({data:a})=>{const r=a.filter(u=>u.sales>0);if(r.length===0)return e.jsx("div",{className:"flex flex-col items-center justify-center py-8",children:e.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-dashed border-gray-200 flex items-center justify-center",children:e.jsx("p",{className:"text-gray-400 text-sm",children:"No sales data"})})});const n=r.reduce((u,h)=>u+h.sales,0),i=r.map((u,h)=>({...u,percentage:n>0?u.sales/n*100:0,color:$0[h%$0.length],bgColor:I0[h%I0.length]}));let l=0;const c=u=>{const h=Math.cos(2*Math.PI*u),f=Math.sin(2*Math.PI*u);return[h,f]};return e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-8 py-4",children:[e.jsxs("div",{className:"relative w-52 h-52",children:[e.jsxs("svg",{viewBox:"-1 -1 2 2",className:"transform -rotate-90 w-full h-full drop-shadow-lg",children:[i.map((u,h)=>{const f=l,[p,g]=c(f);l+=u.percentage/100;const[y,j]=c(l),b=u.percentage>50?1:0;if(u.percentage>=99.9)return e.jsx("circle",{cx:"0",cy:"0",r:"1",fill:u.color,className:"transition-all duration-300 hover:opacity-80 cursor-pointer"},h);const _=[`M ${p} ${g}`,`A 1 1 0 ${b} 1 ${y} ${j}`,"L 0 0"].join(" ");return e.jsx("path",{d:_,fill:u.color,className:"transition-all duration-300 hover:opacity-80 cursor-pointer"},h)}),e.jsx("circle",{cx:"0",cy:"0",r:"0.55",fill:"white"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:i.length}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Categories"})]})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-1 gap-2 max-w-xs",children:i.slice(0,8).map((u,h)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"w-4 h-4 rounded-full shadow-sm flex-shrink-0",style:{backgroundColor:u.color}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:u.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[u.percentage.toFixed(1),"%  ",u.sales.toLocaleString()]})]})]},h))})]})},c4=({data:a})=>{const r=a.reduce((f,p)=>f+p.sales,0),n=a.filter(f=>f.sales>0).length,i=n>0?Math.round(r/n):0,l=Math.max(...a.map(f=>f.sales),0),u=(f=>f===0?5e3:f<=1e3?1e3:f<=2e3?2e3:f<=3e3?3e3:f<=4e3?4e3:f<=5e3?5e3:f<=1e4?1e4:f<=2e4?2e4:f<=5e4?5e4:Math.ceil(f/1e4)*1e4)(l),h=[u,Math.round(u*.66),Math.round(u*.33),0];return e.jsxs("div",{className:"overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Period Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["",r.toLocaleString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Daily Average"}),e.jsxs("p",{className:"text-xl font-semibold text-blue-600",children:["",i.toLocaleString()]})]})]}),a.length>0?e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-14 flex flex-col justify-between text-xs text-gray-500 font-medium pr-2 h-44 flex-shrink-0",children:h.map((f,p)=>e.jsxs("span",{children:["",f.toLocaleString()]},p))}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsx("div",{className:"h-44 border-l-2 border-b-2 border-gray-300 flex items-end px-1",children:a.map((f,p)=>{const y=u>0?f.sales/u*170:0;return e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end group min-w-0 px-0.5 h-full",children:[f.sales>0&&e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity mb-1 bg-black text-white text-xs px-2 py-1 rounded shadow-lg whitespace-nowrap z-10",children:["",f.sales.toLocaleString()]}),f.sales>0?e.jsx("div",{className:"w-full max-w-[30px] bg-gray-900 hover:bg-gray-700 cursor-pointer transition-colors rounded-t mx-auto",style:{height:`${Math.max(y,4)}px`}}):e.jsx("div",{className:"w-full h-0"})]},p)})}),e.jsx("div",{className:"flex mt-2 px-1",children:a.map((f,p)=>e.jsx("div",{className:"flex-1 text-center min-w-0 px-0.5",children:e.jsx("span",{className:"text-[10px] text-gray-500 font-medium truncate block",children:f.date})},p))})]})]})}):e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"No data available"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Orders will appear here once placed"})]})]})},d4=({products:a})=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("tr",{className:"text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:[e.jsx("th",{className:"px-4 py-4 rounded-tl-xl",children:"Rank"}),e.jsx("th",{className:"px-4 py-4",children:"Product"}),e.jsx("th",{className:"px-4 py-4",children:"Category"}),e.jsx("th",{className:"px-4 py-4 text-right",children:"Units Sold"}),e.jsx("th",{className:"px-4 py-4 text-right rounded-tr-xl",children:"Revenue"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:a.map((r,n)=>e.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-lg font-bold text-sm
                ${n===0?"bg-gradient-to-br from-amber-400 to-orange-500 text-white":n===1?"bg-gradient-to-br from-gray-300 to-gray-400 text-white":n===2?"bg-gradient-to-br from-amber-600 to-orange-700 text-white":"bg-gray-100 text-gray-600"}`,children:n+1})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[r.image?e.jsx("img",{src:r.image,alt:r.name,className:"w-10 h-10 rounded-xl object-cover shadow-sm"}):e.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${yn[n%yn.length]} rounded-xl flex items-center justify-center shadow-sm`,children:e.jsx("span",{className:"text-white text-xs font-bold",children:r.name.substring(0,2).toUpperCase()})}),e.jsx("span",{className:"font-semibold text-gray-800 line-clamp-1",children:r.name})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gray-100 text-gray-600 text-xs font-semibold",children:r.category})}),e.jsx("td",{className:"px-4 py-4 text-right font-bold text-gray-800",children:r.sales}),e.jsx("td",{className:"px-4 py-4 text-right",children:e.jsxs("span",{className:"font-bold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-lg",children:["",r.revenue.toLocaleString()]})})]},n))})]})}),mn=({icon:a,iconBg:r,label:n,value:i,subtext:l})=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 text-center hover:shadow-md transition-all hover:-translate-y-0.5",children:[e.jsx("div",{className:`w-12 h-12 ${r} rounded-xl flex items-center justify-center mx-auto mb-3`,children:e.jsx(a,{className:"w-6 h-6"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:n}),l&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l})]}),u4=()=>e.jsxs("div",{className:"flex flex-col justify-center items-center h-64",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-violet-200 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-violet-500 rounded-full animate-spin border-t-transparent"})]}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading reports..."})]}),h4=()=>{const[a,r]=v.useState(!0),[n,i]=v.useState([]),[l,c]=v.useState([]),[u,h]=v.useState([]),[f,p]=v.useState([]),[g,y]=v.useState("30"),[j,b]=v.useState(null),[_,k]=v.useState(!1),C=async()=>{try{r(!0),b(null);const[I,H,K,W]=await Promise.all([Vd(),Hd(),Cx(),Pn()]);i(I),c(H),h(K),p(W)}catch(I){b("Failed to load report data. Please try again."),console.error("Error fetching report data:",I)}finally{r(!1)}};v.useEffect(()=>{C()},[]);const A=async()=>{k(!0),await C(),k(!1)},N=v.useMemo(()=>{const I=parseInt(g),H=new Date;H.setHours(23,59,59,999);const K=new Date;return K.setDate(K.getDate()-I),K.setHours(0,0,0,0),n.filter(W=>{const B=new Date(W.created_at);return B>=K&&B<=H})},[n,g]),S=v.useMemo(()=>{const I=N.filter(T=>T.order_status!=="cancelled"),H=I.reduce((T,L)=>T+(L.order_total||0),0),K=I.length,W=K>0?H/K:0,V=new Set(I.map(T=>T.customer_email||T.customer_phone||T.customer_name)).size,J=parseInt(g),ie=new Date;ie.setDate(ie.getDate()-J),ie.setHours(23,59,59,999);const ae=new Date;ae.setDate(ae.getDate()-J*2),ae.setHours(0,0,0,0);const ge=n.filter(T=>{const L=new Date(T.created_at);return L>=ae&&L<=ie&&T.order_status!=="cancelled"}),Z=ge.reduce((T,L)=>T+(L.order_total||0),0),ue=Z>0?(H-Z)/Z*100:0,se=ge.length>0?(K-ge.length)/ge.length*100:0;return{totalRevenue:H,totalOrders:K,totalProducts:l.length,totalCustomers:V,avgOrderValue:W,revenueGrowth:ue,ordersGrowth:se,customersGrowth:0}},[N,n,l,g]),F=v.useMemo(()=>{const I={},H={};if(l.forEach(W=>{H[W.id]=W.category||"Uncategorized",H[W.name.toLowerCase()]=W.category||"Uncategorized"}),N.forEach(W=>{W.items&&W.order_status!=="cancelled"&&W.items.forEach(B=>{let V="Uncategorized";B.id&&H[B.id]?V=H[B.id]:B.product_id&&H[B.product_id]?V=H[B.product_id]:B.name&&H[B.name.toLowerCase()]&&(V=H[B.name.toLowerCase()]),I[V]||(I[V]={sales:0,orders:0}),I[V].sales+=(B.price||0)*(B.quantity||1),I[V].orders+=1})}),Object.keys(I).length===0&&f.length>0)return f.slice(0,8).map((W,B)=>({name:W.name,sales:0,orders:0,percentage:0,color:yn[B%yn.length]}));const K=Object.values(I).reduce((W,B)=>W+B.sales,0);return Object.entries(I).map(([W,B],V)=>({name:W,sales:B.sales,orders:B.orders,percentage:K>0?B.sales/K*100:0,color:yn[V%yn.length]})).sort((W,B)=>B.sales-W.sales).slice(0,8)},[N,f,l]),P=v.useMemo(()=>{const I=new Date;I.setHours(23,59,59,999);const H=parseInt(g),K={};if(n&&n.length>0){const V=new Date(I);V.setDate(V.getDate()-H),V.setHours(0,0,0,0),n.forEach(J=>{if(J.order_status==="cancelled")return;const ie=new Date(J.created_at);if(ie>=V&&ie<=I){const ae=ie.toDateString();K[ae]||(K[ae]={sales:0}),K[ae].sales+=J.order_total||0}})}const W=[],B=H<=7?1:H<=30?3:H<=90?9:36;for(let V=H-1;V>=0;V-=B){const J=new Date(I);J.setDate(J.getDate()-V),J.setHours(0,0,0,0);const ie=J.toDateString(),ae=K[ie]||{sales:0};W.push({date:J.toLocaleDateString("en-IN",{day:"2-digit",month:"short"}),sales:ae.sales})}return W},[n,g]),$=v.useMemo(()=>{const I={},H={};return l.forEach(K=>{H[K.id]={category:K.category||"Uncategorized",image:K.image},H[K.name.toLowerCase()]={category:K.category||"Uncategorized",image:K.image}}),N.forEach(K=>{K.items&&K.order_status!=="cancelled"&&K.items.forEach(W=>{const B=W.id||W.product_id||W.name;let V="Uncategorized",J=W.image;W.id&&H[W.id]?(V=H[W.id].category,J=J||H[W.id].image):W.product_id&&H[W.product_id]?(V=H[W.product_id].category,J=J||H[W.product_id].image):W.name&&H[W.name.toLowerCase()]&&(V=H[W.name.toLowerCase()].category,J=J||H[W.name.toLowerCase()].image),I[B]||(I[B]={name:W.name||"Unknown Product",image:J,sales:0,revenue:0,category:V}),I[B].sales+=W.quantity||1,I[B].revenue+=(W.price||0)*(W.quantity||1)})}),Object.keys(I).length===0&&l.length>0?l.slice(0,10).map(K=>({name:K.name,image:K.image,sales:0,revenue:0,category:K.category})):Object.values(I).sort((K,W)=>W.revenue-K.revenue).slice(0,10)},[N,l]),D=g==="7"?"Last 7 Days":g==="30"?"Last 30 Days":g==="90"?"Last 90 Days":"Last Year";return e.jsx(yt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Comprehensive insights into your store performance"})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("button",{onClick:A,disabled:_,className:"inline-flex items-center px-4 py-2.5 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium shadow-sm disabled:opacity-50",children:[e.jsx(rs,{size:18,className:`mr-2 ${_?"animate-spin":""}`}),"Refresh"]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-200 rounded-xl px-4 py-2 shadow-sm",children:[e.jsx(Dd,{size:18,className:"text-gray-400"}),e.jsxs("select",{value:g,onChange:I=>y(I.target.value),className:"text-sm font-medium text-gray-700 focus:outline-none bg-transparent",children:[e.jsx("option",{value:"7",children:"Last 7 Days"}),e.jsx("option",{value:"30",children:"Last 30 Days"}),e.jsx("option",{value:"90",children:"Last 90 Days"}),e.jsx("option",{value:"365",children:"Last Year"})]})]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-xl hover:from-violet-600 hover:to-purple-700 transition-all shadow-lg font-medium",children:[e.jsx(Hw,{size:18,className:"mr-2"}),"Export Report"]})]})]}),j&&e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white px-5 py-4 rounded-xl flex items-center shadow-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-5 h-5"})}),e.jsx("span",{className:"flex-1 font-medium",children:j}),e.jsx("button",{onClick:()=>b(null),className:"ml-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Ie,{size:18})})]}),a?e.jsx(u4,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx(xo,{icon:Md,gradient:"bg-gradient-to-br from-emerald-500 to-teal-600",label:"Total Revenue",value:S.totalRevenue,prefix:"",change:S.revenueGrowth}),e.jsx(xo,{icon:ir,gradient:"bg-gradient-to-br from-blue-500 to-indigo-600",label:"Total Orders",value:S.totalOrders,change:S.ordersGrowth}),e.jsx(xo,{icon:n2,gradient:"bg-gradient-to-br from-violet-500 to-purple-600",label:"Avg Order Value",value:Math.round(S.avgOrderValue),prefix:""}),e.jsx(xo,{icon:Os,gradient:"bg-gradient-to-br from-amber-500 to-orange-600",label:"Unique Customers",value:S.totalCustomers,change:S.customersGrowth})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-xl flex items-center justify-center",children:e.jsx(cw,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Revenue Trend"}),e.jsx("p",{className:"text-sm text-gray-500",children:D})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-50 rounded-full",children:[e.jsx(Ta,{size:14,className:"text-emerald-600"}),e.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"Growing"})]})]}),e.jsx(c4,{data:P})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-100 to-purple-100 rounded-xl flex items-center justify-center",children:e.jsx(Cw,{className:"w-6 h-6 text-violet-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Sales by Category"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Revenue distribution"})]})]})}),e.jsx(l4,{data:F})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-amber-50 to-orange-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(bw,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Top Selling Products"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Best performers in ",D.toLowerCase()]})]})]})}),e.jsx(d4,{products:$})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-100 to-teal-100 rounded-xl flex items-center justify-center",children:e.jsx(jn,{className:"w-6 h-6 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Category Performance"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Detailed breakdown by category"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:F.slice(0,8).map((I,H)=>e.jsxs("div",{className:`p-5 rounded-2xl bg-gradient-to-br ${I.color} text-white transition-all hover:shadow-xl hover:-translate-y-1 cursor-pointer`,children:[e.jsx("p",{className:"text-white/80 text-sm font-semibold",children:I.name}),e.jsxs("p",{className:"text-3xl font-bold mt-2",children:["",I.sales.toLocaleString()]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-white/20",children:[e.jsxs("span",{className:"text-sm text-white/80 flex items-center gap-1",children:[e.jsx(ir,{size:12}),I.orders," orders"]}),e.jsxs("span",{className:"text-sm font-bold bg-white/20 px-2 py-0.5 rounded-full",children:[I.percentage.toFixed(1),"%"]})]})]},H))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[e.jsx(mn,{icon:Ta,iconBg:"bg-emerald-100 text-emerald-600",label:"Products In Stock",value:l.filter(I=>I.in_stock).length||198}),e.jsx(mn,{icon:c2,iconBg:"bg-red-100 text-red-600",label:"Out of Stock",value:l.filter(I=>!I.in_stock).length||12}),e.jsx(mn,{icon:Do,iconBg:"bg-blue-100 text-blue-600",label:"Categories",value:f.length||8}),e.jsx(mn,{icon:$o,iconBg:"bg-violet-100 text-violet-600",label:"Delivered",value:N.filter(I=>I.order_status==="delivered").length||87}),e.jsx(mn,{icon:nr,iconBg:"bg-amber-100 text-amber-600",label:"Pending",value:N.filter(I=>I.order_status==="placed").length||23}),e.jsx(mn,{icon:Lj,iconBg:"bg-pink-100 text-pink-600",label:"Conv. Rate",value:"4.2%"})]}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:e.jsx(is,{className:"w-7 h-7"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"Data refreshes automatically"}),e.jsx("p",{className:"text-white/80 mt-1",children:"All analytics are calculated from your actual store data in real-time"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{className:"px-5 py-2.5 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors font-semibold flex items-center gap-2",children:[e.jsx(Mo,{size:18}),"Advanced Filters"]})})]})})]})]})})},po=({icon:a,gradient:r,label:n,value:i})=>e.jsxs("div",{className:`relative overflow-hidden rounded-2xl ${r} p-5 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1`,children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center mb-3",children:e.jsx(a,{className:"w-6 h-6"})}),e.jsx("p",{className:"text-white/80 text-sm font-medium",children:n}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:i})]})]}),m4=({message:a,onDismiss:r})=>e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white px-5 py-4 rounded-xl mb-6 flex items-center shadow-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(We,{className:"w-5 h-5"})}),e.jsx("span",{className:"flex-1 font-medium",children:a}),e.jsx("button",{onClick:r,className:"ml-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Ie,{size:18})})]}),f4=({message:a,onDismiss:r})=>e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-5 py-4 rounded-xl mb-6 flex items-center shadow-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Pr,{className:"w-5 h-5"})}),e.jsx("span",{className:"flex-1 font-medium",children:a}),e.jsx("button",{onClick:r,className:"ml-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Ie,{size:18})})]}),x4=()=>e.jsxs("div",{className:"p-16 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-violet-200 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-violet-500 rounded-full animate-spin border-t-transparent"})]}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading admins..."})]}),p4=a=>{switch(a){case"super_admin":return e.jsx(Uo,{className:"w-4 h-4"});case"admin":return e.jsx(ts,{className:"w-4 h-4"});case"manager":return e.jsx(Fd,{className:"w-4 h-4"});case"viewer":return e.jsx(is,{className:"w-4 h-4"})}},g4=a=>{switch(a){case"super_admin":return"bg-gradient-to-r from-purple-100 to-violet-100 text-purple-700";case"admin":return"bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-700";case"manager":return"bg-gradient-to-r from-amber-100 to-orange-100 text-amber-700";case"viewer":return"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-700"}},y4=a=>{switch(a){case"active":return"bg-emerald-100 text-emerald-700";case"inactive":return"bg-gray-100 text-gray-700";case"suspended":return"bg-red-100 text-red-700"}},v4=a=>{switch(a){case"active":return e.jsx(Pr,{className:"w-3 h-3"});case"inactive":return e.jsx(nr,{className:"w-3 h-3"});case"suspended":return e.jsx(So,{className:"w-3 h-3"})}},b4=()=>{const[a,r]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(null),[u,h]=v.useState(null),[f,p]=v.useState(""),[g,y]=v.useState(null),j=localStorage.getItem("adminData"),b=j?JSON.parse(j):null,_=async()=>{try{i(!0),c(null);const P=await V2();r(P)}catch(P){c("Failed to load admins. Please try again."),console.error("Error fetching admins:",P)}finally{i(!1)}};v.useEffect(()=>{_()},[]);const k=async(P,$)=>{if(!b||!gn(b,"admins.delete")){c("You do not have permission to delete admins.");return}if(b.id===P){c("You cannot delete your own account.");return}if(confirm(`Are you sure you want to delete "${$}"? This action cannot be undone.`))try{y(P),c(null),await J2(P)?(r(I=>I.filter(H=>H.id!==P)),h(`"${$}" has been deleted successfully.`),setTimeout(()=>h(null),3e3)):c("Failed to delete admin. Please try again.")}catch(D){c("An error occurred while deleting the admin."),console.error("Error deleting admin:",D)}finally{y(null)}},C=a.filter(P=>{const $=f.toLowerCase();return P.full_name.toLowerCase().includes($)||P.email.toLowerCase().includes($)||P.role.toLowerCase().includes($)}),A={total:a.length,superAdmins:a.filter(P=>P.role==="super_admin").length,active:a.filter(P=>P.status==="active").length,inactive:a.filter(P=>P.status!=="active").length},N=b&&gn(b,"admins.create"),S=b&&gn(b,"admins.edit"),F=b&&gn(b,"admins.delete");return e.jsx(yt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Management"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage administrator accounts and permissions"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:_,className:"p-3 text-gray-600 bg-white rounded-xl hover:bg-gray-50 transition-colors shadow-sm border border-gray-200",title:"Refresh",children:e.jsx(rs,{size:20})}),N&&e.jsxs(ce,{to:"/admin/admins/create",className:"inline-flex items-center px-5 py-3 bg-gradient-to-r from-violet-500 to-purple-500 text-white rounded-xl hover:from-violet-600 hover:to-purple-600 transition-all shadow-lg hover:shadow-xl font-semibold",children:[e.jsx(Ar,{size:18,className:"mr-2"}),"Create Admin"]})]})]}),l&&e.jsx(m4,{message:l,onDismiss:()=>c(null)}),u&&e.jsx(f4,{message:u,onDismiss:()=>h(null)}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[e.jsx(po,{icon:Os,gradient:"bg-gradient-to-br from-violet-500 to-purple-600",label:"Total Admins",value:A.total}),e.jsx(po,{icon:Uo,gradient:"bg-gradient-to-br from-purple-500 to-pink-600",label:"Super Admins",value:A.superAdmins}),e.jsx(po,{icon:Pr,gradient:"bg-gradient-to-br from-emerald-500 to-teal-600",label:"Active",value:A.active}),e.jsx(po,{icon:So,gradient:"bg-gradient-to-br from-gray-500 to-slate-600",label:"Inactive",value:A.inactive})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:e.jsxs("div",{className:"relative",children:[e.jsx(ar,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, or role...",value:f,onChange:P=>p(P.target.value),className:"w-full pl-12 pr-12 py-3 rounded-xl border-2 border-gray-200 focus:border-violet-500 focus:ring-0 transition-colors text-gray-800"}),f&&e.jsx("button",{onClick:()=>p(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Ie,{size:18})})]})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:n?e.jsx(x4,{}):C.length===0?e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx(Os,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No admins found"}),e.jsx("p",{className:"text-gray-500",children:f?"Try a different search term.":"Create your first admin to get started."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsxs("tr",{className:"text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:[e.jsx("th",{className:"px-6 py-4",children:"Admin"}),e.jsx("th",{className:"px-6 py-4",children:"Role"}),e.jsx("th",{className:"px-6 py-4",children:"Status"}),e.jsx("th",{className:"px-6 py-4",children:"Last Login"}),e.jsx("th",{className:"px-6 py-4",children:"Created"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:C.map(P=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-gray-50 hover:to-violet-50/30 transition-all duration-200",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:P.full_name}),e.jsx("p",{className:"text-sm text-gray-500",children:P.email})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold ${g4(P.role)}`,children:[p4(P.role),Wd(P.role)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold ${y4(P.status)}`,children:[v4(P.status),P.status.charAt(0).toUpperCase()+P.status.slice(1)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-600",children:P.last_login_at?new Date(P.last_login_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"Never"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-600",children:new Date(P.created_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex justify-end items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[S&&e.jsx(ce,{to:`/admin/admins/edit/${P.id}`,className:"p-2.5 text-blue-500 hover:text-blue-700 hover:bg-blue-50 rounded-xl transition-all",title:"Edit",children:e.jsx(Fo,{size:18})}),F&&P.id!==b?.id&&e.jsx("button",{onClick:()=>k(P.id,P.full_name),disabled:g===P.id,className:"p-2.5 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all disabled:opacity-50",title:"Delete",children:g===P.id?e.jsx(rs,{size:18,className:"animate-spin"}):e.jsx(Fa,{size:18})})]})})]},P.id))})]})})})]})})},w4=()=>{const a=St(),[r,n]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState({email:"",password:"",confirmPassword:"",full_name:"",role:"admin"}),h=localStorage.getItem("adminData"),f=h?JSON.parse(h):null;if(!f||!gn(f,"admins.create"))return e.jsx(yt,{children:e.jsx("div",{className:"max-w-2xl mx-auto py-12",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-xl flex items-center",children:[e.jsx(We,{className:"w-6 h-6 mr-3"}),e.jsx("span",{className:"font-medium",children:"You do not have permission to create admins."})]})})});const p=async y=>{if(y.preventDefault(),l(null),!c.email||!c.password||!c.full_name){l("Please fill in all required fields.");return}if(c.password!==c.confirmPassword){l("Passwords do not match.");return}if(c.password.length<8){l("Password must be at least 8 characters long.");return}try{n(!0),await K2({email:c.email,password:c.password,full_name:c.full_name,role:c.role,created_by:f.id}),a("/admin/admins",{state:{success:`Admin "${c.full_name}" created successfully!`}})}catch(j){console.error("Error creating admin:",j),j.message?.includes("duplicate key")?l("An admin with this email already exists."):l(j.message||"Failed to create admin. Please try again.")}finally{n(!1)}},g=[{value:"super_admin",icon:Uo},{value:"admin",icon:ts},{value:"manager",icon:Fd},{value:"viewer",icon:is}];return e.jsx(yt,{children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>a("/admin/admins"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Io,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Admin"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Add a new administrator to the system"})]})]}),i&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-5 py-4 rounded-xl flex items-center",children:[e.jsx(We,{className:"w-5 h-5 mr-3 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:i})]}),e.jsxs("form",{onSubmit:p,className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(As,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",value:c.full_name,onChange:y=>u({...c,full_name:y.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-violet-500 focus:ring-0 transition-colors",placeholder:"John Doe",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"email",value:c.email,onChange:y=>u({...c,email:y.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-violet-500 focus:ring-0 transition-colors",placeholder:"admin@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ps,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"password",value:c.password,onChange:y=>u({...c,password:y.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-violet-500 focus:ring-0 transition-colors",placeholder:"",minLength:8,required:!0})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 8 characters"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ps,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"password",value:c.confirmPassword,onChange:y=>u({...c,confirmPassword:y.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-violet-500 focus:ring-0 transition-colors",placeholder:"",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Role ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(({value:y,icon:j})=>e.jsx("button",{type:"button",onClick:()=>u({...c,role:y}),className:`p-4 rounded-xl border-2 transition-all text-left ${c.role===y?"border-violet-500 bg-violet-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${c.role===y?"bg-violet-100 text-violet-600":"bg-gray-100 text-gray-600"}`,children:e.jsx(j,{size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-semibold ${c.role===y?"text-violet-700":"text-gray-800"}`,children:Wd(y)}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:jx(y)})]})]})},y))})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ox,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Default Permissions"}),e.jsx("p",{className:"text-xs text-blue-700",children:"The selected role will have the following permissions:"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Nx(c.role).map((y,j)=>e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-md font-medium",children:y},j))})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>a("/admin/admins"),className:"px-6 py-3 border-2 border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:r,className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-violet-500 to-purple-500 text-white rounded-xl hover:from-violet-600 hover:to-purple-600 transition-all shadow-lg hover:shadow-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zo,{size:20,className:"mr-2"}),"Create Admin"]})})]})]})]})})},j4=()=>{const{id:a}=jd(),r=St(),[n,i]=v.useState(!0),[l,c]=v.useState(!1),[u,h]=v.useState(null),[f,p]=v.useState(null),[g,y]=v.useState({email:"",password:"",confirmPassword:"",full_name:"",role:"admin",status:"active"}),j=localStorage.getItem("adminData"),b=j?JSON.parse(j):null,_=b&&gn(b,"admins.edit");if(v.useEffect(()=>{(async()=>{if(!a){h("Invalid admin ID"),i(!1);return}try{const S=await G2(a);if(!S){h("Admin not found"),i(!1);return}p(S),y({email:S.email,password:"",confirmPassword:"",full_name:S.full_name,role:S.role,status:S.status})}catch(S){console.error("Error fetching admin:",S),h("Failed to load admin details")}finally{i(!1)}})()},[a]),!_)return e.jsx(yt,{children:e.jsx("div",{className:"max-w-2xl mx-auto py-12",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-xl flex items-center",children:[e.jsx(We,{className:"w-6 h-6 mr-3"}),e.jsx("span",{className:"font-medium",children:"You do not have permission to edit admins."})]})})});const k=async N=>{if(N.preventDefault(),h(null),!!a){if(!g.email||!g.full_name){h("Please fill in all required fields.");return}if(g.password&&g.password!==g.confirmPassword){h("Passwords do not match.");return}if(g.password&&g.password.length<8){h("Password must be at least 8 characters long.");return}try{c(!0);const S={email:g.email,full_name:g.full_name,role:g.role,status:g.status};g.password&&(S.password=g.password),await Q2(a,S),r("/admin/admins",{state:{success:`Admin "${g.full_name}" updated successfully!`}})}catch(S){console.error("Error updating admin:",S),S.message?.includes("duplicate key")?h("An admin with this email already exists."):h(S.message||"Failed to update admin. Please try again.")}finally{c(!1)}}},C=[{value:"super_admin",icon:Uo},{value:"admin",icon:ts},{value:"manager",icon:Fd},{value:"viewer",icon:is}],A=[{value:"active",label:"Active",color:"bg-emerald-100 text-emerald-700 border-emerald-200"},{value:"inactive",label:"Inactive",color:"bg-gray-100 text-gray-700 border-gray-200"},{value:"suspended",label:"Suspended",color:"bg-red-100 text-red-700 border-red-200"}];return n?e.jsx(yt,{children:e.jsx("div",{className:"max-w-3xl mx-auto py-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(xt,{className:"w-12 h-12 text-violet-500 animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading admin details..."})]})})}):u&&!f?e.jsx(yt,{children:e.jsx("div",{className:"max-w-2xl mx-auto py-12",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-xl flex items-center",children:[e.jsx(We,{className:"w-6 h-6 mr-3"}),e.jsx("span",{className:"font-medium",children:u})]})})}):e.jsx(yt,{children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/admins"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Io,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Admin"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Update administrator details and permissions"})]})]}),u&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-5 py-4 rounded-xl flex items-center",children:[e.jsx(We,{className:"w-5 h-5 mr-3 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:u})]}),e.jsxs("form",{onSubmit:k,className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(As,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",value:g.full_name,onChange:N=>y({...g,full_name:N.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-violet-500 focus:ring-0 transition-colors",placeholder:"John Doe",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"email",value:g.email,onChange:N=>y({...g,email:N.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-violet-500 focus:ring-0 transition-colors",placeholder:"admin@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ps,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"password",value:g.password,onChange:N=>y({...g,password:N.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-violet-500 focus:ring-0 transition-colors",placeholder:"",minLength:8})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to keep current password"})]}),g.password&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ps,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"password",value:g.confirmPassword,onChange:N=>y({...g,confirmPassword:N.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-violet-500 focus:ring-0 transition-colors",placeholder:""})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Role ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(({value:N,icon:S})=>e.jsx("button",{type:"button",onClick:()=>y({...g,role:N}),className:`p-4 rounded-xl border-2 transition-all text-left ${g.role===N?"border-violet-500 bg-violet-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${g.role===N?"bg-violet-100 text-violet-600":"bg-gray-100 text-gray-600"}`,children:e.jsx(S,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-semibold ${g.role===N?"text-violet-700":"text-gray-800"}`,children:Wd(N)}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:jx(N)})]})]})},N))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-3",children:A.map(({value:N,label:S,color:F})=>e.jsx("button",{type:"button",onClick:()=>y({...g,status:N}),className:`px-4 py-2 rounded-xl border-2 font-semibold text-sm transition-all ${g.status===N?F:"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:S},N))})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ox,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Default Permissions"}),e.jsx("p",{className:"text-xs text-blue-700",children:"The selected role will have the following permissions:"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Nx(g.role).map((N,S)=>e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-md font-medium",children:N},S))})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>r("/admin/admins"),className:"px-6 py-3 border-2 border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l,className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-violet-500 to-purple-500 text-white rounded-xl hover:from-violet-600 hover:to-purple-600 transition-all shadow-lg hover:shadow-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs(e.Fragment,{children:[e.jsx(xt,{className:"w-5 h-5 animate-spin mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zo,{size:20,className:"mr-2"}),"Save Changes"]})})]})]})]})})},Zt=({children:a})=>(()=>{try{if(localStorage.getItem("adminAuth")!=="true")return!1;const i=localStorage.getItem("adminAuthExpiresAt");if(!i)return!0;const l=Number(i);return Number.isFinite(l)&&Date.now()>l?(localStorage.removeItem("adminAuth"),localStorage.removeItem("adminAuthExpiresAt"),!1):!0}catch{return!1}})()?e.jsx(e.Fragment,{children:a}):e.jsx(Ry,{to:"/admin/login",replace:!0}),N4=()=>e.jsxs(ed,{children:[e.jsx(Ce,{path:"/",element:e.jsx(Zt,{children:e.jsx(ON,{})})}),e.jsx(Ce,{path:"/products",element:e.jsx(Zt,{children:e.jsx(zN,{})})}),e.jsx(Ce,{path:"/products/add",element:e.jsx(Zt,{children:e.jsx(FN,{})})}),e.jsx(Ce,{path:"/orders",element:e.jsx(Zt,{children:e.jsx(JN,{})})}),e.jsx(Ce,{path:"/customers",element:e.jsx(Zt,{children:e.jsx(ZN,{})})}),e.jsx(Ce,{path:"/categories",element:e.jsx(Zt,{children:e.jsx(i4,{})})}),e.jsx(Ce,{path:"/categories/add",element:e.jsx(Zt,{children:e.jsx(o4,{})})}),e.jsx(Ce,{path:"/reports",element:e.jsx(Zt,{children:e.jsx(h4,{})})}),e.jsx(Ce,{path:"/admins",element:e.jsx(Zt,{children:e.jsx(b4,{})})}),e.jsx(Ce,{path:"/admins/create",element:e.jsx(Zt,{children:e.jsx(w4,{})})}),e.jsx(Ce,{path:"/admins/edit/:id",element:e.jsx(Zt,{children:e.jsx(j4,{})})})]}),_4=()=>{const{notifications:a,removeNotification:r}=fr();return v.useEffect(()=>{console.log(" App content loaded successfully")},[]),e.jsxs(ed,{children:[e.jsx(Ce,{path:"/admin/login",element:e.jsx(Y2,{})}),e.jsx(Ce,{path:"/admin/*",element:e.jsx(N4,{})}),e.jsx(Ce,{path:"/test",element:e.jsx(NN,{})}),e.jsx(Ce,{path:"/*",element:e.jsx(P2,{notifications:a,removeNotification:r,children:e.jsxs(ed,{children:[e.jsx(Ce,{path:"/",element:e.jsx(lN,{})}),e.jsx(Ce,{path:"/shop",element:e.jsx(cN,{})}),e.jsx(Ce,{path:"/category/:categoryId",element:e.jsx(dN,{})}),e.jsx(Ce,{path:"/product/:productId",element:e.jsx(uN,{})}),e.jsx(Ce,{path:"/checkout",element:e.jsx(hN,{})}),e.jsx(Ce,{path:"/thank-you",element:e.jsx(mN,{})}),e.jsx(Ce,{path:"/login",element:e.jsx(xN,{})}),e.jsx(Ce,{path:"/search",element:e.jsx(pN,{})}),e.jsx(Ce,{path:"/profile",element:e.jsx(gN,{})}),e.jsx(Ce,{path:"/orders",element:e.jsx(vN,{})}),e.jsx(Ce,{path:"/addresses",element:e.jsx(bN,{})}),e.jsx(Ce,{path:"/cart",element:e.jsx(wN,{})}),e.jsx(Ce,{path:"/about",element:e.jsx(jN,{})}),e.jsx(Ce,{path:"/terms",element:e.jsx(_N,{})}),e.jsx(Ce,{path:"/shipping",element:e.jsx(kN,{})}),e.jsx(Ce,{path:"/privacy",element:e.jsx(SN,{})}),e.jsx(Ce,{path:"/refund",element:e.jsx(CN,{})})]})})})]})};function k4(){return console.log(" [APP.TSX] App component rendering"),v.useEffect(()=>{console.log(" [APP.TSX] App mounted successfully"),console.log(" URL:",window.location.href),console.log(" Mode:","production")},[]),e.jsx(X2,{children:e.jsx(nv,{basename:"/",children:e.jsx(Y1,{children:e.jsx(X1,{children:e.jsx(Z1,{children:e.jsx(_4,{})})})})})})}console.log(" [MAIN.TSX] Script loaded");const D0=document.getElementById("root");D0?(console.log(" [MAIN.TSX] Root element found"),Dg.createRoot(D0).render(e.jsx(k4,{})),console.log(" [MAIN.TSX] React render called")):console.error(" [MAIN.TSX] Root element not found!");
